webpackJsonp([1],[,,,,,,,,,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(31),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s);Object.defineProperty(t,"__esModule",{value:!0});var d;!function(e){e[e.SP_WHITE=0]="SP_WHITE",e[e.SP_COMMENT_LN=1]="SP_COMMENT_LN",e[e.KW_WHILE=2]="KW_WHILE",e[e.KW_DO=3]="KW_DO",e[e.KW_SWITCH=4]="KW_SWITCH",e[e.KW_CASE=5]="KW_CASE",e[e.KW_RETURN=6]="KW_RETURN",e[e.KW_IF=7]="KW_IF",e[e.KW_ELSE=8]="KW_ELSE",e[e.KW_DEFAULT=9]="KW_DEFAULT",e[e.KW_CONTINUE=10]="KW_CONTINUE",e[e.KW_BREAK=11]="KW_BREAK",e[e.ID_NAME=12]="ID_NAME",e[e.ID_TYPE=13]="ID_TYPE",e[e.OP_PLUS=14]="OP_PLUS",e[e.OP_MINUS=15]="OP_MINUS",e[e.OP_MULTI=16]="OP_MULTI",e[e.OP_DIVIDE=17]="OP_DIVIDE",e[e.OP_REL_GT=18]="OP_REL_GT",e[e.OP_REL_GTE=19]="OP_REL_GTE",e[e.OP_REL_EQ=20]="OP_REL_EQ",e[e.OP_REL_NE=21]="OP_REL_NE",e[e.OP_REL_LT=22]="OP_REL_LT",e[e.OP_REL_LTE=23]="OP_REL_LTE",e[e.OP_LOG_AND=24]="OP_LOG_AND",e[e.OP_LOG_OR=25]="OP_LOG_OR",e[e.OP_LOG_NOT=26]="OP_LOG_NOT",e[e.OP_ASS_VAL=27]="OP_ASS_VAL",e[e.OP_ASS_ADD=28]="OP_ASS_ADD",e[e.OP_ASS_SUB=29]="OP_ASS_SUB",e[e.OP_ASS_MUL=30]="OP_ASS_MUL",e[e.OP_ASS_DIV=31]="OP_ASS_DIV",e[e.OP_INC_INC=32]="OP_INC_INC",e[e.OP_INC_DEC=33]="OP_INC_DEC",e[e.DIM_L_BRACKET=34]="DIM_L_BRACKET",e[e.DIM_R_BRACKET=35]="DIM_R_BRACKET",e[e.DIM_L_PAREN=36]="DIM_L_PAREN",e[e.DIM_R_PAREN=37]="DIM_R_PAREN",e[e.DIM_L_CURLY=38]="DIM_L_CURLY",e[e.DIM_R_CURLY=39]="DIM_R_CURLY",e[e.DIM_SEMICOLON=40]="DIM_SEMICOLON",e[e.DIM_COMMA=41]="DIM_COMMA",e[e.DIM_COLON=42]="DIM_COLON",e[e.VAL_BOOL=43]="VAL_BOOL",e[e.VAL_CHAR=44]="VAL_CHAR",e[e.VAL_NUM_FLOAT=45]="VAL_NUM_FLOAT",e[e.VAL_NUM_INT=46]="VAL_NUM_INT",e[e.INV_VALUE=47]="INV_VALUE",e[e.INV_NO_MATCH=48]="INV_NO_MATCH"}(d=t.TokenType||(t.TokenType={})),t.TokenTypeUtil={isWhiteSpace:function(e){return null!==e&&[d.SP_WHITE,d.SP_COMMENT_LN].includes(e)},isType:function(e){return null!==e&&[d.ID_TYPE].includes(e)},isAssOperator:function(e){return null!==e&&[d.OP_ASS_VAL,d.OP_ASS_ADD,d.OP_ASS_SUB,d.OP_ASS_MUL,d.OP_ASS_DIV].includes(e)},isBinArithmetic:function(e){return null!==e&&[d.OP_PLUS,d.OP_MINUS,d.OP_MULTI,d.OP_DIVIDE].includes(e)},isBinRelational:function(e){return null!==e&&[d.OP_REL_EQ,d.OP_REL_NE,d.OP_REL_GT,d.OP_REL_GTE,d.OP_REL_LT,d.OP_REL_LTE].includes(e)},isBinLogical:function(e){return null!==e&&[d.OP_LOG_OR,d.OP_LOG_AND].includes(e)},isBinOperator:function(e){return t.TokenTypeUtil.isAssOperator(e)||t.TokenTypeUtil.isBinArithmetic(e)||t.TokenTypeUtil.isBinLogical(e)||t.TokenTypeUtil.isBinRelational(e)}};var c;!function(e){e[e.INT=0]="INT",e[e.FLOAT=1]="FLOAT",e[e.CHAR=2]="CHAR",e[e.BOOL=3]="BOOL",e[e.VOID=4]="VOID"}(c=t.PrimitiveType||(t.PrimitiveType={}));var p={"+":d.OP_PLUS,"-":d.OP_MINUS,"*":d.OP_MULTI,"/":d.OP_DIVIDE,">":d.OP_REL_GT,">=":d.OP_REL_GTE,"==":d.OP_REL_EQ,"!=":d.OP_REL_NE,"<":d.OP_REL_LT,"<=":d.OP_REL_LTE,"&&":d.OP_LOG_AND,"||":d.OP_LOG_OR,"!":d.OP_LOG_NOT,":=":d.OP_ASS_VAL,"+=":d.OP_ASS_ADD,"-=":d.OP_ASS_SUB,"*=":d.OP_ASS_MUL,"/=":d.OP_ASS_DIV,"++":d.OP_INC_INC,"--":d.OP_INC_DEC},_={while:d.KW_WHILE,do:d.KW_DO,switch:d.KW_SWITCH,case:d.KW_CASE,return:d.KW_RETURN,if:d.KW_IF,else:d.KW_ELSE,default:d.KW_DEFAULT,continue:d.KW_CONTINUE,break:d.KW_BREAK},f=function(){function e(t,r,a,n){var o=this;(0,u.default)(this,e),this.getPositionString=function(){return"ln: "+o.position.line+", col: "+o.position.col},this.type=t,this.literal=r,this.position=(0,i.default)({},a),this.value=n}return(0,l.default)(e,null,[{key:"createOperatorToken",value:function(t,r){return p[t]?new e(p[t],t,r):null}},{key:"createIdentifierToken",value:function(t,r){var a=function(a,n){return new e(a,t,r,n)};if(_[t])return a(_[t]);switch(t){case"true":return a(d.VAL_BOOL,!0);case"false":return a(d.VAL_BOOL,!1);case"int":return a(d.ID_TYPE,c.INT);case"float":return a(d.ID_TYPE,c.FLOAT);case"char":return a(d.ID_TYPE,c.CHAR);case"bool":return a(d.ID_TYPE,c.BOOL);case"void":return a(d.ID_TYPE,c.VOID)}return a(d.ID_NAME,t)}}]),e}();t.Token=f},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(81),n=r(82),i=r(83),o=r(24);t.ErrorSeverity=o.ErrorSeverity,t.ErrorList=o.ErrorList,t.PicolError=o.PicolError;var u=r(12);t.Token=u.Token,t.TokenType=u.TokenType,t.PrimitiveType=u.PrimitiveType;var s=r(36);t.ParseNode=s.ParseNode,t.ParseNodeType=s.ParseNodeType,t.ParseOperatorType=s.ParseOperatorType;var l=r(29);t.Quadruple=l.Quadruple,t.QuadrupleArgType=l.QuadrupleArgType;var d=r(57);t.ExecutionContext=d.ExecutionContext;var c=r(80);t.Executor=c.Executor,t.default={lexer:a.lexer,generator:i.generator,parser:n.parser}},,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(2),i=a(n),o=r(31),u=a(o),s=r(1),l=a(s),d=r(0),c=a(d),p=r(4),_=a(p),f=r(3),v=a(f);Object.defineProperty(t,"__esModule",{value:!0});var h;!function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR",e[e.FATAL=3]="FATAL"}(h=t.ErrorSeverity||(t.ErrorSeverity={}));var T=function(e){function t(e){(0,c.default)(this,t);var r=(0,_.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return r.severity=h.ERROR,r.name="PicolError",r}return(0,v.default)(t,e),t}(Error);t.PicolError=T;var y=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.name="LexerError",a.pos=(0,u.default)({},r),a}return(0,v.default)(t,e),t}(T);t.LexerError=y;var E=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.token=r,a.token&&(a.pos=a.token.position),a.name="ParserError",a}return(0,v.default)(t,e),t}(T);E.expect=function(e,t){return new E('expecting "'+e+'" at '+(null!==t?t.getPositionString():"the end"),t||void 0)},E.error=function(e,t){return new E(e+", error at "+(null!==t?t.getPositionString():"the end"),t||void 0)},t.ParserError=E;var A=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.token=r,a.token&&(a.pos=a.token.position),a.name="GeneratorError",a}return(0,v.default)(t,e),t}(T);t.GeneratorError=A;var I=function(){function e(){(0,c.default)(this,e),this.errorList=[]}return(0,i.default)(e,[{key:"info",value:function(e){e.severity=h.INFO,this.errorList.push(e)}},{key:"warn",value:function(e){e.severity=h.WARN,this.errorList.push(e)}},{key:"error",value:function(e){e.severity=h.ERROR,this.errorList.push(e)}},{key:"throw",value:function(e){throw e.severity=h.FATAL,this.errorList.push(e),e}}]),e}();t.ErrorList=I},,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(4),u=a(o),s=r(3),l=a(s),d=r(0),c=a(d),p=r(2),_=a(p);Object.defineProperty(t,"__esModule",{value:!0});var f,v=r(12);!function(e){e[e.J_JMP=0]="J_JMP",e[e.J_EQ=1]="J_EQ",e[e.J_NE=2]="J_NE",e[e.J_GT=3]="J_GT",e[e.J_GTE=4]="J_GTE",e[e.J_LT=5]="J_LT",e[e.J_LTE=6]="J_LTE",e[e.J_EZ=7]="J_EZ",e[e.J_NEZ=8]="J_NEZ",e[e.I_ADD=9]="I_ADD",e[e.I_SUB=10]="I_SUB",e[e.I_MUL=11]="I_MUL",e[e.I_DIV=12]="I_DIV",e[e.R_ADD=13]="R_ADD",e[e.R_SUB=14]="R_SUB",e[e.R_MUL=15]="R_MUL",e[e.R_DIV=16]="R_DIV",e[e.V_ASS=17]="V_ASS",e[e.A_ASS=18]="A_ASS",e[e.A_RET=19]="A_RET",e[e.R_ASS=20]="R_ASS",e[e.F_PARA=21]="F_PARA",e[e.F_FUNC=22]="F_FUNC",e[e.F_REV=23]="F_REV",e[e.F_RET=24]="F_RET",e[e.F_VAL=25]="F_VAL",e[e.M_REQ=26]="M_REQ",e[e.M_FREE=27]="M_FREE"}(f=t.QuadrupleOperator||(t.QuadrupleOperator={}));var h;!function(e){e[e.TABLE_REF=0]="TABLE_REF",e[e.VAR_TEMP=1]="VAR_TEMP",e[e.QUAD_REF=2]="QUAD_REF",e[e.ARRAY_ADDR=3]="ARRAY_ADDR",e[e.VALUE_INST=4]="VALUE_INST",e[e.NULL=5]="NULL"}(h=t.QuadrupleArgType||(t.QuadrupleArgType={}));var T=function(){function e(t){var r=this;(0,c.default)(this,e),this.toString=function(){return h[r.type]},this.type=t}return(0,_.default)(e,[{key:"name",get:function(){return this.toString()}}]),e}();t.QuadrupleArg=T;var y=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,h.VALUE_INST));return a.toString=function(){return v.PrimitiveType[a.valueType]+"("+a.value+")"},a.value=r,a.valueType=e,a}return(0,l.default)(t,e),(0,_.default)(t,[{key:"name",get:function(){return String(this.value)}}]),t}(T);t.QuadrupleArgValue=y;var E=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,h.ARRAY_ADDR));return a.toString=function(){return a.base.name+"["+a.offset.name+"]"},a.base=e,a.offset=r,a}return(0,l.default)(t,e),t}(T);t.QuadrupleArgArrayAddr=E;var A=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,h.TABLE_REF));return a.toString=function(){return[a.varName]+"@"+a.index},a.varName=e,a.index=r,a}return(0,l.default)(t,e),(0,_.default)(t,[{key:"name",get:function(){return String(this.varName)}}]),t}(T);t.QuadrupleArgTableRef=A;var I=function(e){function t(e,r){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,h.QUAD_REF));return a.label="",a.toString=function(){return(a.label?a.label:"")+"("+a.quadIndex+")"},a.quadIndex=e,a.label=r||"",a}return(0,l.default)(t,e),t}(T);t.QuadrupleArgQuadRef=I;var C=function(e){function t(e){(0,c.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,h.VAR_TEMP));return r.toString=function(){return"T_"+r.tempIndex},r.tempIndex=e,r}return(0,l.default)(t,e),t}(T);t.QuadrupleArgVarTemp=C;var N=function(e){function t(){(0,c.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,h.NULL));return e.toString=function(){return"_"},e}return(0,l.default)(t,e),t}(T);N.Q_NULL=new N,t.QuadrupleArgNull=N;var P=function(){function e(){(0,c.default)(this,e),this.comment=""}return(0,_.default)(e,[{key:"toString",value:function(){var e=function(e){return e+" ".repeat(12).slice(e.length)};return e(this.operatorName)+"\t "+e(this.argument1.toString())+"\t "+e(this.argument2.toString())+"\t "+e(this.result.toString())+(this.comment?"\t # "+this.comment:"")}},{key:"operatorName",get:function(){return f[this.operator]}}]),e}();t.Quadruple=P},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(2),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(0),_=a(p);Object.defineProperty(t,"__esModule",{value:!0});var f,v=r(12);!function(e){e[e.VOID=0]="VOID",e[e.PRIMITIVE=1]="PRIMITIVE",e[e.ARRAY=2]="ARRAY",e[e.ARRAY_REF=3]="ARRAY_REF",e[e.FUNCTION=4]="FUNCTION"}(f=t.SymbolEntryType||(t.SymbolEntryType={}));!function(e){e[e.STACK=0]="STACK",e[e.LOCAL=1]="LOCAL",e[e.ARGUMENT=2]="ARGUMENT"}(t.SymbolLocation||(t.SymbolLocation={})),t.getPrimitiveSize=function(e){switch(e){case"ref":return 4;case v.PrimitiveType.BOOL:case v.PrimitiveType.CHAR:return 1;case v.PrimitiveType.FLOAT:return 4;case v.PrimitiveType.INT:return 2}return 0};var h,T=function e(){(0,_.default)(this,e)};!function(e){e[e.VOID=0]="VOID",e[e.PRIMITIVE=1]="PRIMITIVE",e[e.ARRAY=2]="ARRAY",e[e.ARRAY_REF=3]="ARRAY_REF"}(h=t.ValueType||(t.ValueType={}));var y=function(e){function r(e){(0,_.default)(this,r);var t=(0,l.default)(this,(r.__proto__||(0,i.default)(r)).call(this));return t.dim=0,t.primitiveType=e,t}return(0,c.default)(r,e),(0,u.default)(r,[{key:"size",get:function(){return t.getPrimitiveSize(this.primitiveType)}}]),r}(T);t.ValueTypeInfo=y;var E=function(e){function t(){(0,_.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,v.PrimitiveType.VOID));return e.isVoid=!0,e.type=h.VOID,e}return(0,c.default)(t,e),(0,u.default)(t,[{key:"toString",value:function(){return v.PrimitiveType[this.primitiveType]}}]),t}(y),A=function(e){function t(e){(0,_.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.type=h.PRIMITIVE,r}return(0,c.default)(t,e),(0,u.default)(t,[{key:"toString",value:function(){return v.PrimitiveType[this.primitiveType]}}]),t}(y),I=function(e){function r(e,t){(0,_.default)(this,r);var a=(0,l.default)(this,(r.__proto__||(0,i.default)(r)).call(this,e));return a.dimension=t,a.type=h.ARRAY,a}return(0,c.default)(r,e),(0,u.default)(r,[{key:"toString",value:function(){return"<"+v.PrimitiveType[this.primitiveType]+">["+",".repeat(this.dimension-1<0?0:this.dimension-1)+"]"}},{key:"size",get:function(){return t.getPrimitiveSize("ref")+t.getPrimitiveSize(v.PrimitiveType.INT)*this.dimension}},{key:"elementSize",get:function(){return t.getPrimitiveSize(this.primitiveType)}}]),r}(y),C=function(e){function r(e,t){(0,_.default)(this,r);var a=(0,l.default)(this,(r.__proto__||(0,i.default)(r)).call(this,e));return a.dimension=t,a.type=h.ARRAY_REF,a}return(0,c.default)(r,e),(0,u.default)(r,[{key:"toString",value:function(){return"Ref[<"+v.PrimitiveType[this.primitiveType]+">]"}},{key:"size",get:function(){return t.getPrimitiveSize("ref")}}]),r}(y),N=function(e){function t(){(0,_.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.parameterList=[],e}return(0,c.default)(t,e),(0,u.default)(t,[{key:"toString",value:function(){return"("+(this.parameterList?this.parameterList.map(function(e){return e.type&&e.type.toString()}).join(","):"***")+")=>"+this.returnType.toString()}}]),t}(T),P=function(){function e(t,r,a){(0,_.default)(this,e),this.stackOffset=-1,this.name=t,this.type=r,this.info=a}return(0,u.default)(e,[{key:"toString",value:function(){return this.name+"\t"+f[this.type]+" "+this.info.toString()+(this.type===f.FUNCTION?"@"+this.asFunc.entryAddress:" @"+this.stackOffset)}},{key:"asFunc",get:function(){return this.info}},{key:"asPrim",get:function(){return this.info}},{key:"asArr",get:function(){return this.info}},{key:"asArrRef",get:function(){return this.info}},{key:"typeString",get:function(){return f[this.type]}}]),e}();P.create={func:function(e){return new P(e,f.FUNCTION,new N)},prim:function(e,t){return new P(e,f.PRIMITIVE,new A(t))},arr:function(e,t,r){return new P(e,f.ARRAY,new I(t,r))},arrRef:function(e,t,r){return new P(e,f.ARRAY_REF,new C(t,r))}},t.SymbolEntry=P,t.createValueType={void:function(){return new E},prim:function(e){return new A(e)},arr:function(e,t){return new I(e,t)},arrRef:function(e,t){return new C(e,t)}}},,,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(0),i=a(n),o=r(2),u=a(o);Object.defineProperty(t,"__esModule",{value:!0});var s,l=r(12);!function(e){e[e.NO_OP=0]="NO_OP",e[e.UNI_POSIT=1]="UNI_POSIT",e[e.UNI_NOT=2]="UNI_NOT",e[e.UNI_NEGATE=3]="UNI_NEGATE",e[e.UNI_INC_PRE=4]="UNI_INC_PRE",e[e.UNI_DEC_PRE=5]="UNI_DEC_PRE",e[e.UNI_INC_POS=6]="UNI_INC_POS",e[e.UNI_DEC_POS=7]="UNI_DEC_POS",e[e.BIN_ADD=8]="BIN_ADD",e[e.BIN_SUB=9]="BIN_SUB",e[e.BIN_MULTI=10]="BIN_MULTI",e[e.BIN_DIVIDE=11]="BIN_DIVIDE",e[e.BIN_REL_GT=12]="BIN_REL_GT",e[e.BIN_REL_GTE=13]="BIN_REL_GTE",e[e.BIN_REL_EQ=14]="BIN_REL_EQ",e[e.BIN_REL_NE=15]="BIN_REL_NE",e[e.BIN_REL_LT=16]="BIN_REL_LT",e[e.BIN_REL_LTE=17]="BIN_REL_LTE",e[e.BIN_LOG_AND=18]="BIN_LOG_AND",e[e.BIN_LOG_OR=19]="BIN_LOG_OR",e[e.BIN_ASS_VAL=20]="BIN_ASS_VAL",e[e.BIN_ASS_ADD=21]="BIN_ASS_ADD",e[e.BIN_ASS_SUB=22]="BIN_ASS_SUB",e[e.BIN_ASS_MUL=23]="BIN_ASS_MUL",e[e.BIN_ASS_DIV=24]="BIN_ASS_DIV"}(s=t.ParseOperatorType||(t.ParseOperatorType={})),t.getOperatorPriority=function(e){switch(e){case s.BIN_ASS_VAL:case s.BIN_ASS_ADD:case s.BIN_ASS_SUB:case s.BIN_ASS_MUL:case s.BIN_ASS_DIV:return 1;case s.BIN_LOG_OR:return 2;case s.BIN_LOG_AND:return 3;case s.BIN_REL_EQ:case s.BIN_REL_NE:return 4;case s.BIN_REL_GT:case s.BIN_REL_GTE:case s.BIN_REL_LT:case s.BIN_REL_LTE:return 5;case s.BIN_ADD:case s.BIN_SUB:return 6;case s.BIN_DIVIDE:case s.BIN_MULTI:return 7}return 0},t.getOperatorAssociativity=function(e){switch(e){case s.BIN_ASS_VAL:case s.BIN_ASS_ADD:case s.BIN_ASS_SUB:case s.BIN_ASS_MUL:case s.BIN_ASS_DIV:return-.5;case s.BIN_LOG_OR:case s.BIN_LOG_AND:case s.BIN_REL_EQ:case s.BIN_REL_NE:case s.BIN_REL_GT:case s.BIN_REL_GTE:case s.BIN_REL_LT:case s.BIN_REL_LTE:case s.BIN_ADD:case s.BIN_SUB:case s.BIN_DIVIDE:case s.BIN_MULTI:return.5}return 0},t.getBinaryParseOperator=function(e){switch(e){case l.TokenType.OP_PLUS:return s.BIN_ADD;case l.TokenType.OP_MINUS:return s.BIN_SUB;case l.TokenType.OP_MULTI:return s.BIN_MULTI;case l.TokenType.OP_DIVIDE:return s.BIN_DIVIDE;case l.TokenType.OP_REL_GT:return s.BIN_REL_GT;case l.TokenType.OP_REL_GTE:return s.BIN_REL_GTE;case l.TokenType.OP_REL_EQ:return s.BIN_REL_EQ;case l.TokenType.OP_REL_NE:return s.BIN_REL_NE;case l.TokenType.OP_REL_LT:return s.BIN_REL_LT;case l.TokenType.OP_REL_LTE:return s.BIN_REL_LTE;case l.TokenType.OP_LOG_AND:return s.BIN_LOG_AND;case l.TokenType.OP_LOG_OR:return s.BIN_LOG_OR;case l.TokenType.OP_ASS_VAL:return s.BIN_ASS_VAL;case l.TokenType.OP_ASS_ADD:return s.BIN_ASS_ADD;case l.TokenType.OP_ASS_SUB:return s.BIN_ASS_SUB;case l.TokenType.OP_ASS_MUL:return s.BIN_ASS_MUL;case l.TokenType.OP_ASS_DIV:return s.BIN_ASS_DIV}return s.NO_OP};var d;!function(e){e[e.SRC_SOURCE=0]="SRC_SOURCE",e[e.STAT_DECLARATION_PRIM=1]="STAT_DECLARATION_PRIM",e[e.STAT_DECLARATION_ARR=2]="STAT_DECLARATION_ARR",e[e.STAT_DECLARATION_ARR_REF=3]="STAT_DECLARATION_ARR_REF",e[e.STAT_SEQUENCE=4]="STAT_SEQUENCE",e[e.STAT_RETURN=5]="STAT_RETURN",e[e.STAT_RETURN_VOID=6]="STAT_RETURN_VOID",e[e.STAT_BREAK=7]="STAT_BREAK",e[e.STAT_CONTINUE=8]="STAT_CONTINUE",e[e.STAT_IF=9]="STAT_IF",e[e.STAT_IF_ELSE=10]="STAT_IF_ELSE",e[e.STAT_WHILE=11]="STAT_WHILE",e[e.STAT_DO=12]="STAT_DO",e[e.STAT_SWITCH=13]="STAT_SWITCH",e[e.STAT_FUNCTION=14]="STAT_FUNCTION",e[e.STAT_EXPR=15]="STAT_EXPR",e[e.SEG_DECLARATION_LIST=16]="SEG_DECLARATION_LIST",e[e.SEG_DECLARATION_ITEM=17]="SEG_DECLARATION_ITEM",e[e.SEG_SWITCH_BODY=18]="SEG_SWITCH_BODY",e[e.SEG_CASE_LABEL=19]="SEG_CASE_LABEL",e[e.SEG_DEFAULT_LABEL=20]="SEG_DEFAULT_LABEL",e[e.SEG_FUNCTION_PARAM_ITEM=21]="SEG_FUNCTION_PARAM_ITEM",e[e.SEG_FUNCTION_PARAM_LIST=22]="SEG_FUNCTION_PARAM_LIST",e[e.SEG_INVOKE_ARG_LIST=23]="SEG_INVOKE_ARG_LIST",e[e.SEG_ARRAY_DIM=24]="SEG_ARRAY_DIM",e[e.TYPE_ARRAY=25]="TYPE_ARRAY",e[e.TYPE_PRIMITIVE=26]="TYPE_PRIMITIVE",e[e.TYPE_ARRAY_REF=27]="TYPE_ARRAY_REF",e[e.EXPR_UNI=28]="EXPR_UNI",e[e.EXPR_BIN=29]="EXPR_BIN",e[e.EXPR_ARR_ACCESS=30]="EXPR_ARR_ACCESS",e[e.EXPR_FUNC_INVOKE=31]="EXPR_FUNC_INVOKE",e[e.VAL_CONSTANT_INT=32]="VAL_CONSTANT_INT",e[e.VAL_CONSTANT_FLOAT=33]="VAL_CONSTANT_FLOAT",e[e.VAL_CONSTANT_CHAR=34]="VAL_CONSTANT_CHAR",e[e.VAL_CONSTANT_BOOL=35]="VAL_CONSTANT_BOOL",e[e.VAL_IDENTIFIER=36]="VAL_IDENTIFIER",e[e.VAL_UNINITIALIZED=37]="VAL_UNINITIALIZED"}(d=t.ParseNodeType||(t.ParseNodeType={}));var c=function(){function e(t,r){var a=this;(0,i.default)(this,e),this.children=[],this.print=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log(""+" ".repeat(e*t)+d[a.type]+"   [1;35m"+a.getValueString()+"[0m"),a.children.map(function(r){return r.print(e,t+1)})},this.getValueString=function(){switch(a.type){case d.EXPR_UNI:case d.EXPR_BIN:return s[a.value];case d.TYPE_PRIMITIVE:return l.PrimitiveType[a.value];case d.VAL_UNINITIALIZED:return"no initialization"}return void 0===a.value?"":a.value},this.addChild=function(e){return e&&a.children.push(e),!!e},this.type=t,this.value=r}return(0,u.default)(e,null,[{key:"createIdentifier",value:function(t){return new e(d.VAL_IDENTIFIER,t)}},{key:"createDeclarationPrimitive",value:function(t,r){var a=new e(d.STAT_DECLARATION_PRIM);return a.addChild(t),a.addChild(r),a}},{key:"createDeclarationArrayRef",value:function(t,r){var a=new e(d.STAT_DECLARATION_ARR_REF);return a.addChild(t),a.addChild(r),a}},{key:"createDeclarationArray",value:function(t,r){var a=new e(d.STAT_DECLARATION_ARR);return a.addChild(t),a.addChild(r),a}},{key:"createDeclarationList",value:function(t){var r=new e(d.SEG_DECLARATION_LIST);return t.map(function(e){return r.addChild(e)}),r}},{key:"createDeclarationItem",value:function(t,r){var a=new e(d.SEG_DECLARATION_ITEM);return r||(r=new e(d.VAL_UNINITIALIZED)),a.addChild(t),a.addChild(r),a}},{key:"createPrimitiveType",value:function(t){return new e(d.TYPE_PRIMITIVE,t)}},{key:"createArrayType",value:function(t,r){var a=new e(d.TYPE_ARRAY);return a.addChild(t),a.addChild(r),a}},{key:"createArrayRefType",value:function(t,r){var a=new e(d.TYPE_ARRAY_REF);return a.addChild(t),a.value=r,a}},{key:"createArrayAccess",value:function(t,r){var a=new e(d.EXPR_ARR_ACCESS);return a.addChild(t),a.addChild(r),a}},{key:"createExprConstantInt",value:function(t){return new e(d.VAL_CONSTANT_INT,t)}},{key:"createExprConstantFloat",value:function(t){return new e(d.VAL_CONSTANT_FLOAT,t)}},{key:"createExprConstantBool",value:function(t){return new e(d.VAL_CONSTANT_BOOL,t)}},{key:"createExprConstantChar",value:function(t){return new e(d.VAL_CONSTANT_CHAR,t)}},{key:"createExprUnary",value:function(t,r){var a=new e(d.EXPR_UNI,t);return a.addChild(r),a}},{key:"createExprBinary",value:function(t,r,a){var n=new e(d.EXPR_BIN,t);return n.addChild(r),n.addChild(a),n}}]),e}();t.ParseNode=c},,,,,,,,,,,,,,,,,,function(e,t,r){function a(e){r(166)}var n=r(10)(r(98),r(194),a,"data-v-96310722",null);t.__esModule=!0,t.default=n.exports},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(30),n=r(12);t.buildInFunctions=[{id:-10,name:"show",description:"print character to console",parameters:[{name:"ch",type:a.createValueType.prim(n.PrimitiveType.CHAR)}],return:a.createValueType.void()},{id:-11,name:"showInt",description:"print integer to console",parameters:[{name:"num",type:a.createValueType.prim(n.PrimitiveType.INT)}],return:a.createValueType.void()},{id:-12,name:"getInt",description:"get an integer from user",parameters:[],return:a.createValueType.prim(n.PrimitiveType.CHAR)},{id:-13,name:"getChar",description:"get an character from user",parameters:[],return:a.createValueType.prim(n.PrimitiveType.INT)}]},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(105),i=a(n),o=r(37),u=a(o),s=r(0),l=a(s),d=r(2),c=a(d);Object.defineProperty(t,"__esModule",{value:!0});var p=r(56),_=r(24),f=r(29),v=r(30),h=function(){function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,l.default)(this,e),this.isFunction=!1,this.children=[],this.stackPointer=0,this.nameTable={},this.parent=t,this.name=r||"",a?(this.stackPointer=0,this.isFunction=!0):this.stackPointer=t?t.stackPointer:0}return(0,c.default)(e,[{key:"addEntry",value:function(e){if(this.nameTable[e.name]=e,e.type!==v.SymbolEntryType.FUNCTION){var t=e.info;e.stackOffset=this.stackPointer,this.stackPointer+=t.size}}},{key:"getEntry",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.nameTable[e])return this.nameTable[e];if(t&&this.parent)return this.parent.getEntry(e,t);throw new _.GeneratorError("no symbol defined with name "+e)}},{key:"checkName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.nameTable[e]?{isDefined:!0,currentContext:t,entry:this.nameTable[e]}:this.parent?this.parent.checkName(e,!1):{isDefined:!1,currentContext:!1}}},{key:"addChildContext",value:function(e){this.children.push(e)}},{key:"dump",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t+2,a=" ".repeat(t);return[a+"Context: "+(this.name||"(unnamed)")].concat((0,u.default)((0,i.default)(this.nameTable).filter(function(e){return"__ob__"!==e}).map(function(t,r){return""+a+r+":"+e.nameTable[t].toString()})),(0,u.default)(this.children.map(function(e){return e.dump(r)}))).join("\n")}},{key:"isRoot",get:function(){return void 0===this.parent}}]),e}();t.ExecutionContext=h;var T=function(){function e(){(0,l.default)(this,e),this.tempIndex=0,this.contextStack=[],this.quadrupleList=[],this.breakChain=[],this.continueChain=[],this.createGlobalContext()}return(0,c.default)(e,[{key:"pushContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.currentContext;return this.contextStack.push(new h(this.currentContext,e,t.isFunction||!1)),r.addChildContext(this.currentContext),this.currentContext}},{key:"popContext",value:function(){return this.contextStack.pop()}},{key:"wrapInContext",value:function(e,t,r){var a=this.pushContext(e,t);if(r(),a!==this.popContext())throw new _.GeneratorError("inconsistent context state")}},{key:"getEntryInfo",value:function(e){return this.currentContext.getEntry(e)}},{key:"getEntry",value:function(e){var t=this.getEntryInfo(e);return t.type===v.SymbolEntryType.FUNCTION?new f.QuadrupleArgQuadRef(t.asFunc.entryAddress,t.name):new f.QuadrupleArgTableRef(t.name,t.stackOffset)}},{key:"checkName",value:function(e){return this.currentContext.checkName(e)}},{key:"addQuadruple",value:function(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=new f.Quadruple;i.operator=e,i.argument1=t,i.argument2=r,i.result=a,i.comment=n,this.quadrupleList.push(i)}},{key:"getTempVar",value:function(){return new f.QuadrupleArgVarTemp(this.tempIndex++)}},{key:"backPatchChain",value:function(e,t){for(var r=e;0!==r;){var a=this.quadrupleList[r-1].result;r=a.quadIndex,a.quadIndex=t}}},{key:"mergeChain",value:function(e,t){if(0===t)return e;for(var r=t;;){var a=this.quadrupleList[r-1].result;if(0===(r=a.quadIndex)){a.quadIndex=e;break}}return t}},{key:"pushBreakChain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.breakChain.push(e)}},{key:"popBreakChain",value:function(){var e=this.breakChain.pop();if(void 0===e)throw new _.GeneratorError("pop empty break chain context");return e}},{key:"mergeIntoBreakChain",value:function(e){var t=this.breakChain.length;if(0===t)throw new _.GeneratorError("no break chain, break statement outside of breakable block");this.breakChain[t-1]=this.mergeChain(this.breakChain[t-1],e)}},{key:"pushContinueChain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.continueChain.push(e)}},{key:"popContinueChain",value:function(){var e=this.continueChain.pop();if(void 0===e)throw new _.GeneratorError("pop empty break chain context");return e}},{key:"mergeIntoContinueChain",value:function(e){var t=this.continueChain.length;if(0===t)throw new _.GeneratorError("no continue chain, continue statement outside of loop block");this.continueChain[t-1]=this.mergeChain(this.continueChain[t-1],e)}},{key:"createGlobalContext",value:function(){var e=this,t=new h(void 0,"default global");this.contextStack.push(t),p.buildInFunctions.map(function(t){e.addEntry.func(t.name);var r=e.getEntryInfo(t.name).asFunc;r.returnType=t.return,r.entryAddress=t.id,r.parameterList=t.parameters})}},{key:"currentHeapTop",get:function(){return this.currentContext.stackPointer}},{key:"currentContext",get:function(){return this.contextStack[this.contextStack.length-1]}},{key:"quadrupleTable",get:function(){return this.quadrupleList}},{key:"nextQuadrupleIndex",get:function(){return this.quadrupleList.length+1}},{key:"addEntry",get:function(){var e=this;return{func:function(t){return e.currentContext.addEntry(v.SymbolEntry.create.func(t))},prim:function(t,r){return e.currentContext.addEntry(v.SymbolEntry.create.prim(t,r))},arr:function(t,r,a){return e.currentContext.addEntry(v.SymbolEntry.create.arr(t,r,a))},arrRef:function(t,r,a){return e.currentContext.addEntry(v.SymbolEntry.create.arrRef(t,r,a))}}}}]),e}();t.GeneratorContext=T},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(61),i=a(n),o=r(5),u=a(o),s=r(103),l=a(s),d=r(0),c=a(d),p=r(2),_=a(p);Object.defineProperty(t,"__esModule",{value:!0});var f=r(59),v=function(){function e(){var t=this;(0,c.default)(this,e),this.fileList=[];var r=window.localStorage.getItem("file-model");if(r){var a=JSON.parse(r);a.some&&!a.some(function(e){return void 0===e.name||void 0===e.savedSrc||void 0===e.src})&&(console.log("load local storage"),this.fileList=a),this.current=0}this.fileList&&this.fileList.length||(this.fileList=[],this.addNew(),this.loadTemplate("default")),setInterval(function(){window.localStorage.setItem("file-model",(0,l.default)(t.fileList.map(function(e){return{name:e.name,savedSrc:e.savedSrc,src:e.src}})))},500)}return(0,_.default)(e,[{key:"addNew",value:function(){for(var e=this,t=1;!0;t++){var r=function(t){var r="file-"+t;if(e.fileList.every(function(e){return e.name!==r}))return e.fileList.push({name:r,savedSrc:"",src:""}),e.current=e.fileList.length-1,window.monaco&&(e.currentFile.model=monaco.editor.createModel(e.currentFile.src,"Picol")),{v:void 0}}(t);if("object"===(void 0===r?"undefined":(0,u.default)(r)))return r.v}}},{key:"deleteAll",value:function(){var e=this.fileList;this.fileList=[],this.addNew(),e.map(function(e){e.model&&e.model.dispose()})}},{key:"saveFile",value:function(e){e.savedSrc=e.src}},{key:"deleteFile",value:function(e){var t=this.fileList.indexOf(e);this.fileList.splice(t,1),e.model&&e.model.dispose(),this.current>t&&(this.current=this.current-1),0===this.fileList.length&&this.addNew(),(this.current<0||this.current>=this.fileList.length)&&(this.current=0)}},{key:"loadTemplate",value:function(e){this.currentFile.savedSrc===this.currentFile.src||this.addNew(),this.currentFile.src=this.currentFile.savedSrc=f.default[e]||"",this.currentFile.model&&this.currentFile.model.setValue(this.currentFile.src)}},{key:"select",value:function(e){this.current=e}},{key:"templateList",get:function(){return(0,i.default)(f.default)}},{key:"currentFile",get:function(){return this.fileList[this.current]}}]),e}(),h=new v;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="// Default Sample\n// Feel free to explore the World of Picol\nint main (int v1, int v2) {\n  // Declare an matrix of matrix\n  float[2,2][2,2] a;\n  int i := 0, j := 100;\n  bool test := true;\n  while (i < j || test) {\n    i++;\n    j--;\n    if ( j - i > 2 * j && test) {\n      j := j + i;\n    }\n  }\n}\n\nmain(1, 2);\n",n={default:a,defaultSample:a,completeSample:"// Complete Sample\n// This sample tries to cover every language features in one file\n\n// Function Declaration\nint square(int value){\n  // single expression\n  value++;\n\n  // return expression\n  return value * value;\n}\n\nint main(){\n  // Declaration\n  float number := 3.0, result;\n\n  // Assignment, invocation, type-elevation\n  result := square(square(number));\n\n  if ( result > 10 ) {\n    while ( result > 10 ) {\n      result--;\n      if( result > 10 ){\n        show('C');\n        continue;\n      }else{\n        show('\\t'); // escape character\n        show('F');\n        show('\\n');\n        break;\n      }\n      show('U');\n    }\n  } else {\n    show('E');\n  }\n  return 123;\n  return;\n}\n\nint[10,10,10] arr;\nint i,j;\nswitch(arr[1,2,3]){\n  case 12: i++; break;\n  case 13: j++; break;\n  default: i *= j; break;\n}\n\n",functionSample:"// Sample file with nested function definition\nint a := 12;\nint b := 24;\nint[10,a,b] arr;\nint[,,,] arrRef := arr;\n\nvoid main(){\n  void show() {}\n\n  while(a < b) {\n    void func(int a, int b) {\n      show(a);\n      show(b);\n    }\n    func(a++, b--);\n  }\n\n  int a, b;\n}\n\nmain();\n",stackSample:"// various definitions\nint a, b, c, d;\nbool e, f, g, h;\nchar i, j, k, l;\nint[1,2] a_1;\nint[2,3] a_2;\n{\n    int a, b, c, d;\n    int e, f, g, h;\n}\nint funct(){\n    int a, b, c, d;\n    int e, f, g, h;\n    {\n        int a, b, c, d;\n        int e, f, g, h;\n    }\n}\n",fact:"// recursive factorial calculation\nint b;\n\nint fact(int a){\n    if(a == 0){\n        return 1;\n    }\n    return a * fact(a - 1);\n}\n\nb := fact(10);\n"};t.default=n},,,,,,,,,,,,,,,function(e,t){},function(e,t){},,function(e,t,r){function a(e){r(168)}var n=r(10)(r(88),r(196),a,null,null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(167)}var n=r(10)(r(95),r(195),a,null,null);t.__esModule=!0,t.default=n.exports},,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(37),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s);Object.defineProperty(t,"__esModule",{value:!0});var d=r(56),c=r(24),p=r(29),_=r(30),f=r(12),v=function(){function e(t){(0,u.default)(this,e),this.console=[],t&&(this.program=t),this.reset()}return(0,l.default)(e,[{key:"step",value:function(){this.pc<0&&this.invokeBuildIn();var e=this.program[this.pc-1];if(!e)return this.pushError("program counter out of range");switch(this.pc++,e.operator){case p.QuadrupleOperator.J_JMP:this.pc=e.result.quadIndex,this.pushMsg("jump to "+this.pc);break;case p.QuadrupleOperator.J_EQ:case p.QuadrupleOperator.J_NE:case p.QuadrupleOperator.J_GT:case p.QuadrupleOperator.J_GTE:case p.QuadrupleOperator.J_LT:case p.QuadrupleOperator.J_LTE:case p.QuadrupleOperator.J_EZ:case p.QuadrupleOperator.J_NEZ:var t=this.getValue(e.argument1),r=this.getValue(e.argument2);this.compareByOperator(e.operator,t.value,r.value)?(this.pc=e.result.quadIndex,this.pushMsg("jump conditionally to "+this.pc+": "+t.value+" "+e.operatorName+" "+r.value)):this.pushMsg("unsatisfied jump condition: "+t.value+" "+e.operatorName+" "+r.value);break;case p.QuadrupleOperator.I_ADD:case p.QuadrupleOperator.I_SUB:case p.QuadrupleOperator.I_MUL:case p.QuadrupleOperator.I_DIV:case p.QuadrupleOperator.R_ADD:case p.QuadrupleOperator.R_SUB:case p.QuadrupleOperator.R_MUL:case p.QuadrupleOperator.R_DIV:var a=this.getValue(e.argument1),n=this.getValue(e.argument2),i=this.calcByOperator(e.operator,a.value,n.value),o=e.result;console.log(o,i),this.temp.splice(o.tempIndex,1,i.value);break;case p.QuadrupleOperator.V_ASS:var u=e.argument1,s=e.result;this.stackFill(s.index,this.getValue(u));break;case p.QuadrupleOperator.A_ASS:var l=e.argument1,d=e.result,c=d.base.type===p.QuadrupleArgType.TABLE_REF?d.base.index:this.getValue(d.base).value,v=this.getValue(d.offset).value;this.stackFill(c+v,this.getValue(l));break;case p.QuadrupleOperator.A_RET:var h=this.getValue(e.argument1),T=e.result;this.temp.splice(T.tempIndex,1,h.value);break;case p.QuadrupleOperator.R_ASS:var y=e.argument1,E=e.result;this.stackFill(E.index,{value:y.index,span:_.getPrimitiveSize("ref")});break;case p.QuadrupleOperator.F_PARA:var A=this.getValue(e.argument1),I=this.getValue(e.result.offset);this.stackFill(I.value,A);break;case p.QuadrupleOperator.F_FUNC:var C=this.getValue(e.argument1).value,N=e.result.quadIndex,P=this.pc,m=this.frameBase;this.frameBase+=C,this.pc=N;var O={value:m,span:_.getPrimitiveSize(f.PrimitiveType.INT)};this.stackFill(0,O);var g={value:P,span:_.getPrimitiveSize(f.PrimitiveType.INT)};this.stackFill(O.span,g);break;case p.QuadrupleOperator.F_REV:break;case p.QuadrupleOperator.F_RET:this.pc=this.stack[this.frameBase+_.getPrimitiveSize(f.PrimitiveType.INT)],this.frameBase=this.stack[this.frameBase];break;case p.QuadrupleOperator.F_VAL:var R=this.getValue(e.argument1),L=e.result;this.temp.splice(L.tempIndex,1,R.value);break;case p.QuadrupleOperator.M_REQ:var S=this.getValue(e.argument1).value,k=e.result,x=this.allocateHeap(S);this.temp.splice(k.tempIndex,1,x);break;case p.QuadrupleOperator.M_FREE:}}},{key:"load",value:function(e){this.program=e,this.reset()}},{key:"reset",value:function(){this.pc=1,this.frameBase=0,this.stackTop=0,this.heapTop=1e4,this.heap=[],this.stack=[],this.temp=[]}},{key:"pushError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.ErrorSeverity.ERROR;this.console.push({message:e,severity:t})}},{key:"pushMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.ErrorSeverity.INFO;this.console.push({message:e,severity:t})}},{key:"stackFill",value:function(e,t){if(e>=1e4){this.heap.splice(e-1e4,1,t.value);for(var r=1;r<t.span;r++)this.heap.splice(e+r-1e4,1,-1)}else{this.stack.splice(this.frameBase+e,1,t.value);for(var a=1;a<t.span;a++)this.stack.splice(this.frameBase+e+a,1,-1)}}},{key:"getValue",value:function(e){if(e.type===p.QuadrupleArgType.VALUE_INST){var t=e;return{value:t.value,span:_.getPrimitiveSize(t.valueType)}}if(e.type===p.QuadrupleArgType.VAR_TEMP){var r=e;return console.log(r.tempIndex),{value:this.temp[r.tempIndex],span:1}}if(e.type===p.QuadrupleArgType.TABLE_REF){var a=e;return{value:this.stack[this.frameBase+a.index],span:1}}if(e.type===p.QuadrupleArgType.ARRAY_ADDR){var n=e,i=n.base.type===p.QuadrupleArgType.TABLE_REF?n.base.index:this.getValue(n.base).value,o=this.getValue(n.offset).value;return console.log(i,o),i>=1e4?{value:this.heap[i+o-1e4],span:1}:{value:this.stack[this.frameBase+i+o],span:1}}if(e.type===p.QuadrupleArgType.NULL)return{value:0,span:0};throw new Error}},{key:"compareByOperator",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case p.QuadrupleOperator.J_EQ:return t===r;case p.QuadrupleOperator.J_NE:return t!==r;case p.QuadrupleOperator.J_GT:return t>r;case p.QuadrupleOperator.J_GTE:return t>=r;case p.QuadrupleOperator.J_LT:return t<r;case p.QuadrupleOperator.J_LTE:return t<=r;case p.QuadrupleOperator.J_EZ:return 0===t;case p.QuadrupleOperator.J_NEZ:return 0!==t}return!1}},{key:"calcByOperator",value:function(e,t,r){switch(e){case p.QuadrupleOperator.I_ADD:return{value:t+r,span:_.getPrimitiveSize(f.PrimitiveType.INT)};case p.QuadrupleOperator.I_SUB:return{value:t-r,span:_.getPrimitiveSize(f.PrimitiveType.INT)};case p.QuadrupleOperator.I_MUL:return{value:t*r,span:_.getPrimitiveSize(f.PrimitiveType.INT)};case p.QuadrupleOperator.I_DIV:return{value:t/r,span:_.getPrimitiveSize(f.PrimitiveType.INT)};case p.QuadrupleOperator.R_ADD:return{value:t+r,span:_.getPrimitiveSize(f.PrimitiveType.FLOAT)};case p.QuadrupleOperator.R_SUB:return{value:t-r,span:_.getPrimitiveSize(f.PrimitiveType.FLOAT)};case p.QuadrupleOperator.R_MUL:return{value:t*r,span:_.getPrimitiveSize(f.PrimitiveType.FLOAT)};case p.QuadrupleOperator.R_DIV:return{value:t/r,span:_.getPrimitiveSize(f.PrimitiveType.FLOAT)}}return{value:0,span:0}}},{key:"allocateHeap",value:function(e){var t=this.heapTop;return this.heapTop+=e,this.pushMsg("allocate heap from "+t+" to "+this.heapTop+" of size "+e),t}},{key:"invokeBuildIn",value:function(){var e=this,t=(this.pc,d.buildInFunctions.find(function(t){return t.id===e.pc}));if(!t)return void this.pushError("undefined build in function invocation",c.ErrorSeverity.FATAL);var r=[];t.parameters.reduce(function(t,a){return r.push(e.stack[t]),t+a.type.size},this.frameBase+2*_.getPrimitiveSize(f.PrimitiveType.INT)+t.return.size);var a=this.executeBuildIn(t.name,r);t.return.isVoid||this.stackFill(2*_.getPrimitiveSize(f.PrimitiveType.INT),{value:a,span:t.return.size}),this.pc=this.stack[this.frameBase+_.getPrimitiveSize(f.PrimitiveType.INT)],this.frameBase=this.stack[this.frameBase]}},{key:"executeBuildIn",value:function(e,t){var r=this,a={show:function(e){return r.pushMsg(e,c.ErrorSeverity.INFO)},showInt:function(e){return r.pushMsg(e+"",c.ErrorSeverity.INFO)},getChar:function(){return"t"},getInt:function(){return 1023}};return a[e].apply(a,(0,i.default)(t))}}]),e}();t.Executor=v},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(109),i=a(n),o=r(102),u=a(o),s=r(31),l=a(s);Object.defineProperty(t,"__esModule",{value:!0});var d=r(12),c={isNewLine:function(e){return"\n\r".indexOf(e)>=0},isWhiteSpace:function(e){return" \t\n\r".indexOf(e)>=0},isIdentifierStart:function(e){return/[A-Za-z_\$]/.test(e)},isIdentifierMid:function(e){return/[A-Za-z_\$0-9]/.test(e)},isDigit:function(e){return/\d/.test(e)},peekIf:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=0,i="";;n++){var o=e(n);if(!t(o)||a&&c.isNewLine(o)||void 0===o)return i;if(n>=r)break;i+=o}return""}},p=[function(e,t,r,a){if(c.isWhiteSpace(e)){var n=c.peekIf(r,c.isWhiteSpace,1/0,!1),i=(0,l.default)({},a());return t(n.length-1),new d.Token(d.TokenType.SP_WHITE,n,i)}return null},function(e,t,r,a){if("/"===e&&"/"===r()){var n=c.peekIf(r,function(){return!0}),i=(0,l.default)({},a());return t(n.length-1+1),new d.Token(d.TokenType.SP_COMMENT_LN,n,i)}return null},function(e,t,r,a){if(c.isIdentifierStart(e)){var n=c.peekIf(r,c.isIdentifierMid),i=(0,l.default)({},a());return t(n.length-1),d.Token.createIdentifierToken(n,i)}return null},function(e,t,r,a){var n="+-*/<>=:&|~!",i=(0,l.default)({},a());if(n.indexOf(e)>=0){if(n.indexOf(r())>=0){var o=d.Token.createOperatorToken(e+r(),i);if(o)return t(1),o}var u=d.Token.createOperatorToken(e,i);if(u)return u}return null},function(e,t,r,a){switch(e){case";":return new d.Token(d.TokenType.DIM_SEMICOLON,";",a());case",":return new d.Token(d.TokenType.DIM_COMMA,",",a());case":":return new d.Token(d.TokenType.DIM_COLON,":",a());case"(":return new d.Token(d.TokenType.DIM_L_PAREN,"(",a());case")":return new d.Token(d.TokenType.DIM_R_PAREN,")",a());case"{":return new d.Token(d.TokenType.DIM_L_CURLY,"{",a());case"}":return new d.Token(d.TokenType.DIM_R_CURLY,"}",a());case"[":return new d.Token(d.TokenType.DIM_L_BRACKET,"[",a());case"]":return new d.Token(d.TokenType.DIM_R_BRACKET,"]",a())}return null},function(e,t,r,a){if(c.isDigit(e)){for(var n=1,i=!1,o=parseInt(e,10),u=e,s=.1,p=(0,l.default)({},a());;){if(e=r(n),c.isDigit(e))i?(o+=s*parseInt(e,10),s/=10):o=10*o+parseInt(e,10);else{if(i||"."!==e)break;i=!0}n++,u+=e}return t(n-1),new d.Token(i?d.TokenType.VAL_NUM_FLOAT:d.TokenType.VAL_NUM_INT,u,p,o)}return null},function(e,t,r,a){var n="\\tnr'\"";if("'"===e||'"'===e){for(var i=1,o=e,u="",s=null,p=(0,l.default)({},a()),_=e;;)if(e=r(i++),o+=e,"\\"===e){var f=n.indexOf(r(i+1));f>=0&&(e=r(i++),o+=e,u+=n[f])}else{if(e===_)break;if(c.isNewLine(e)){s="require close quote";break}u+=e}return t(i-1),s=s||u.length>1&&"only char (not string) supported",s=s||0===u.length&&"char cannot be empty",s=s||'"'===_&&"char should be quoted by '",s?new d.Token(d.TokenType.INV_VALUE,o,p,s):new d.Token(d.TokenType.VAL_CHAR,o,p,u)}return null}];t.lexer=i.default.mark(function e(t){var r,a,n,o,s,l,_,f,v,h,T,y,E;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.length,a={pos:-1,line:0,col:1},n=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e>0&&e--;){if(++a.pos===r)return"";0===a.pos||c.isNewLine(t[a.pos-1])?(a.line++,a.col=1):a.col++}return t[a.pos]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t[a.pos+e]},s=function(){return a};case 5:if(!(a.pos<r)){e.next=41;break}if(l=n(),!l.length){e.next=39;break}_=!0,f=!1,v=void 0,e.prev=11,h=(0,u.default)(p);case 13:if(_=(T=h.next()).done){e.next=23;break}if(y=T.value,!(E=y(l,n,o,s))){e.next=20;break}return e.next=19,E;case 19:return e.abrupt("continue",5);case 20:_=!0,e.next=13;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(11),f=!0,v=e.t0;case 29:e.prev=29,e.prev=30,!_&&h.return&&h.return();case 32:if(e.prev=32,!f){e.next=35;break}throw v;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.next=39,new d.Token(d.TokenType.INV_NO_MATCH,l,a,"invalid token '"+l+"'");case 39:e.next=5;break;case 41:case"end":return e.stop()}},e,this,[[11,25,29,37],[30,,32,36]])})},function(e,t,r){"use strict";var a=r(37),n=function(e){return e&&e.__esModule?e:{default:e}}(a);Object.defineProperty(t,"__esModule",{value:!0});var i=r(24),o=r(36),u=r(12),s=function e(t,r){var a=t.get();if(null===a||a.type!==u.TokenType.DIM_L_BRACKET)return r||null;var s=v(t);if(null===s)throw i.ParserError.expect("Array dimension",a);if(r.type===o.ParseNodeType.EXPR_ARR_ACCESS){var l;return(l=r.children[1].children).push.apply(l,(0,n.default)(s.children)),e(t,r)}return e(t,o.ParseNode.createArrayAccess(r,s))},l=function(e,t){var r=e.get();if(null===r||r.type!==u.TokenType.DIM_L_PAREN)throw i.ParserError.expect("(",r);e.adv();var a=new o.ParseNode(o.ParseNodeType.SEG_INVOKE_ARG_LIST),n=e.get();if(null!==n&&n.type===u.TokenType.DIM_R_PAREN){e.adv();var s=new o.ParseNode(o.ParseNodeType.EXPR_FUNC_INVOKE);return s.addChild(t),s.addChild(a),s}for(;;){var l=_(e);if(null===l)throw i.ParserError.expect("dim expr",e.get());a.addChild(l);var d=e.get();if(null===d)throw i.ParserError.expect(") ,",d);{if(d.type!==u.TokenType.DIM_COMMA){if(d.type===u.TokenType.DIM_R_PAREN){e.adv();var c=new o.ParseNode(o.ParseNodeType.EXPR_FUNC_INVOKE);return c.addChild(t),c.addChild(a),c}throw i.ParserError.expect(") ,",d)}e.adv()}}},d=function(e,t){var r=e.get();return null!==r&&r.type===u.TokenType.OP_INC_INC?(e.adv(),o.ParseNode.createExprUnary(o.ParseOperatorType.UNI_INC_POS,t)):null!==r&&r.type===u.TokenType.OP_INC_DEC?(e.adv(),o.ParseNode.createExprUnary(o.ParseOperatorType.UNI_DEC_POS,t)):t},c=function e(t){var r=function(r){t.adv();var a=e(t);if(null===a)throw i.ParserError.error("incomplete expression",t.get());return o.ParseNode.createExprUnary(r,a)},a=t.get();if(null===a)return null;switch(a.type){case u.TokenType.VAL_NUM_INT:return t.adv(),o.ParseNode.createExprConstantInt(a.value);case u.TokenType.VAL_NUM_FLOAT:return t.adv(),o.ParseNode.createExprConstantFloat(a.value);case u.TokenType.VAL_BOOL:return t.adv(),o.ParseNode.createExprConstantBool(a.value);case u.TokenType.VAL_CHAR:return t.adv(),o.ParseNode.createExprConstantChar(a.value);case u.TokenType.DIM_L_PAREN:t.adv();var n=_(t);if(null===n)throw i.ParserError.expect("expression",t.get());var c=t.get();if(null===c||c.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",c);return t.adv(),d(t,n);case u.TokenType.ID_NAME:var p=o.ParseNode.createIdentifier(a.value),f=t.adv();if(null!==f&&f.type===u.TokenType.DIM_L_BRACKET){var v=s(t,p);return v&&d(t,v)}return null!=f&&f.type===u.TokenType.DIM_L_PAREN?l(t,p):p&&d(t,p);case u.TokenType.OP_PLUS:return r(o.ParseOperatorType.UNI_POSIT);case u.TokenType.OP_MINUS:return r(o.ParseOperatorType.UNI_NEGATE);case u.TokenType.OP_LOG_NOT:return r(o.ParseOperatorType.UNI_NOT);case u.TokenType.OP_INC_INC:return r(o.ParseOperatorType.UNI_INC_PRE);case u.TokenType.OP_INC_DEC:return r(o.ParseOperatorType.UNI_DEC_PRE)}return null},p=function e(t,r,a,n){for(var s=a,l=n,d=o.getOperatorPriority(n)+o.getOperatorAssociativity(n);;){var p=c(t);if(null===p)throw i.ParserError.expect("expression",t.get());var _=null;if(null===(_=t.get())||!u.TokenTypeUtil.isBinOperator(_.type))return o.ParseNode.createExprBinary(l,s,p);var f=o.getBinaryParseOperator(_.type),v=o.getOperatorPriority(f);if(v<r)return o.ParseNode.createExprBinary(l,s,p);if(t.adv(),v<d)s=o.ParseNode.createExprBinary(l,s,p),l=f,d=v+o.getOperatorAssociativity(f);else{var h=e(t,d,p,f);if(s=o.ParseNode.createExprBinary(l,s,h),null===(_=t.get())||!u.TokenTypeUtil.isBinOperator(_.type))return s;if(l=o.getBinaryParseOperator(_.type),(d=o.getOperatorPriority(l))<r)return s;t.adv(),d+=o.getOperatorAssociativity(l)}}},_=function(e){var t=c(e);if(null===t)throw i.ParserError.expect("expression",e.get());var r=e.get();if(null===r)throw i.ParserError.error("incomplete expression",r);return u.TokenTypeUtil.isBinOperator(r.type)?(e.adv(),p(e,0,t,o.getBinaryParseOperator(r.type))):t},f=function e(t,r){var a=t.get();if(null===a||a.type!==u.TokenType.DIM_L_BRACKET)return r||null;for(var n=1;;){var s=t.adv();{if(null===s||s.type!==u.TokenType.DIM_COMMA){if(null!==s&&s.type===u.TokenType.DIM_R_BRACKET){if(t.adv(),r.type===o.ParseNodeType.TYPE_ARRAY_REF)return r.value+=n,e(t,r);return e(t,o.ParseNode.createArrayRefType(r,n))}throw i.ParserError.expect(", ]",a)}n++}}},v=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.DIM_L_BRACKET)throw i.ParserError.expect("[",t);e.adv();for(var r=new o.ParseNode(o.ParseNodeType.SEG_ARRAY_DIM);;){var a=_(e);if(null===a)throw i.ParserError.expect("dim expr",e.get());r.addChild(a);var n=e.get();if(null===n)throw i.ParserError.expect("] ,",n);{if(n.type!==u.TokenType.DIM_COMMA){if(n.type===u.TokenType.DIM_R_BRACKET)return e.adv(),r;throw i.ParserError.expect("] ,",n)}e.adv()}}},h=function e(t,r){var a=t.get();if(null===a||a.type!==u.TokenType.DIM_L_BRACKET)return r||null;var s=v(t);if(null===s)throw i.ParserError.expect("Array dimension",a);if(r.type===o.ParseNodeType.TYPE_ARRAY){var l;return(l=r.children[1].children).push.apply(l,(0,n.default)(s.children)),e(t,r)}return e(t,o.ParseNode.createArrayType(r,s))},T=function(e){var t=e.get();if(null===t||!u.TokenTypeUtil.isType(t.type))return null;var r=o.ParseNode.createPrimitiveType(t.value);if(null===(t=e.adv())||t.type!==u.TokenType.DIM_L_BRACKET)return r;var a=e.peek(1);return null===a||a.type!==u.TokenType.DIM_R_BRACKET&&a.type!==u.TokenType.DIM_COMMA?h(e,r):f(e,r)},y=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.DIM_L_CURLY)return null;e.adv();for(var r=new o.ParseNode(o.ParseNodeType.STAT_SEQUENCE);;){var a=e.get();if(null===a)throw i.ParserError.expect("}",a);if(a.type===u.TokenType.DIM_R_CURLY)return e.adv(),r;var n=w(e);if(!n)throw i.ParserError.error("cannot parse token",e.get());r.children.push(n)}},E=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_RETURN)return null;e.adv();var r=e.get();if(null!==r&&r.type===u.TokenType.DIM_SEMICOLON){e.adv();return new o.ParseNode(o.ParseNodeType.STAT_RETURN_VOID)}var a=_(e),n=e.get();if(null===n||n.type!==u.TokenType.DIM_SEMICOLON)throw i.ParserError.expect(";",n);e.adv();var s=new o.ParseNode(o.ParseNodeType.STAT_RETURN);return s.addChild(a),s},A=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_IF)return null;var r=e.adv();if(null===r||r.type!==u.TokenType.DIM_L_PAREN)throw i.ParserError.expect("(",r);e.adv();var a=_(e),n=e.get();if(null===n||n.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",n);e.adv();var s=w(e),l=e.get();if(null===l||l.type!==u.TokenType.KW_ELSE){var d=new o.ParseNode(o.ParseNodeType.STAT_IF);return d.addChild(a),d.addChild(s),d}e.adv();var c=w(e),p=new o.ParseNode(o.ParseNodeType.STAT_IF_ELSE);return p.addChild(a),p.addChild(s),p.addChild(c),p},I=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_BREAK)return null;var r=e.adv();if(null===r||r.type!==u.TokenType.DIM_SEMICOLON)throw i.ParserError.expect(";",r);return e.adv(),new o.ParseNode(o.ParseNodeType.STAT_BREAK)},C=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_CONTINUE)return null;var r=e.adv();if(null===r||r.type!==u.TokenType.DIM_SEMICOLON)throw i.ParserError.expect(";",r);return e.adv(),new o.ParseNode(o.ParseNodeType.STAT_CONTINUE)},N=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.DIM_L_CURLY)throw i.ParserError.expect("{",t);e.adv();for(var r=new o.ParseNode(o.ParseNodeType.SEG_SWITCH_BODY);;){var a=e.get();if(null===a)throw i.ParserError.expect("}",a);if(a.type===u.TokenType.DIM_R_CURLY)return e.adv(),r;if(a.type!==u.TokenType.KW_CASE)if(a.type!==u.TokenType.KW_DEFAULT){var n=w(e);if(!n)throw i.ParserError.error("cannot parse token",e.get());r.children.push(n)}else{e.adv();var s=e.get();if(null===s||s.type!==u.TokenType.DIM_COLON)throw i.ParserError.expect(":",s);e.adv(),r.addChild(new o.ParseNode(o.ParseNodeType.SEG_DEFAULT_LABEL))}else{e.adv();var l=_(e);if(null===l)throw i.ParserError.expect("expr",e.get());var d=e.get();if(null===d||d.type!==u.TokenType.DIM_COLON)throw i.ParserError.expect(":",d);e.adv();var c=new o.ParseNode(o.ParseNodeType.SEG_CASE_LABEL);c.addChild(l),r.addChild(c)}}},P=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_SWITCH)return null;var r=e.adv();if(null===r||r.type!==u.TokenType.DIM_L_PAREN)throw i.ParserError.expect("(",r);e.adv();var a=_(e),n=e.get();if(null===n||n.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",n);e.adv();var s=N(e),l=new o.ParseNode(o.ParseNodeType.STAT_SWITCH);return l.addChild(a),l.addChild(s),l},m=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_DO)return null;e.adv();var r=w(e);if(null===r)throw i.ParserError.error("the loop block is required",e.get());var a=e.get();if(null===a||a.type!==u.TokenType.KW_WHILE)throw i.ParserError.expect("while",a);var n=e.adv();if(null===n||n.type!==u.TokenType.DIM_L_PAREN)throw i.ParserError.expect("(",n);e.adv();var s=_(e),l=e.get();if(null===l||l.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",l);var d=e.adv();if(null===d||d.type!==u.TokenType.DIM_SEMICOLON)throw i.ParserError.expect(";",d);e.adv();var c=new o.ParseNode(o.ParseNodeType.STAT_DO);return c.addChild(r),c.addChild(s),c},O=function(e){var t=e.get();if(null===t||t.type!==u.TokenType.KW_WHILE)return null;var r=e.adv();if(null===r||r.type!==u.TokenType.DIM_L_PAREN)throw i.ParserError.expect("(",r);e.adv();var a=_(e),n=e.get();if(null===n||n.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",n);e.adv();var s=w(e),l=new o.ParseNode(o.ParseNodeType.STAT_WHILE);return l.addChild(a),l.addChild(s),l},g=function(e){var t=new o.ParseNode(o.ParseNodeType.SEG_FUNCTION_PARAM_LIST),r=e.get();if(null===r||r.type===u.TokenType.DIM_R_PAREN)return t;for(;;){var a=T(e);if(null===a)throw i.ParserError.expect("type",e.get());var n=e.get();if(null===n||n.type!==u.TokenType.ID_NAME)throw i.ParserError.expect("id",e.get());e.adv();var s=new o.ParseNode(o.ParseNodeType.SEG_FUNCTION_PARAM_ITEM);s.addChild(a),s.addChild(o.ParseNode.createIdentifier(n.value)),t.addChild(s);var l=e.get();if(null===l||l.type===u.TokenType.DIM_R_PAREN)return t;if(l.type!==u.TokenType.DIM_COMMA)throw i.ParserError.expect(",",l);e.adv()}},R=function(e,t,r){if(!t||!r)throw i.ParserError.error("function type and identifer are required",e.get());var a=e.get();if(null===a||a.type!==u.TokenType.DIM_L_PAREN)throw i.ParserError.expect("(",a);e.adv();var n=g(e),s=e.get();if(null===s||s.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",s);e.adv();var l=y(e);if(null===l)throw i.ParserError.expect("body",e.get());var d=new o.ParseNode(o.ParseNodeType.STAT_FUNCTION);return d.addChild(r),d.addChild(t),d.addChild(n),d.addChild(l),d},L=function(e,t){var r=e.get();if(null===r)return null;if(r.type===u.TokenType.DIM_COMMA||r.type===u.TokenType.DIM_SEMICOLON)return o.ParseNode.createDeclarationItem(t);if(r.type===u.TokenType.OP_ASS_VAL){e.adv();var a=_(e);return a&&o.ParseNode.createDeclarationItem(t,a)}throw i.ParserError.expect(":= , ;",r)},S=function(e,t){for(var r=[],a=e.get(),n=t||null;;){if(!n){if(null===a||a.type!==u.TokenType.ID_NAME)throw i.ParserError.expect("identifier",a);n=o.ParseNode.createIdentifier(a.value),a=e.adv()}var s=L(e,n);if(null===s)throw i.ParserError.error("cannot parse declaration item",e.get());if(n=null,r.push(s),null===(a=e.get())||a.type!==u.TokenType.DIM_COMMA&&a.type!==u.TokenType.DIM_SEMICOLON)throw i.ParserError.expect(", ;",a);if(e.adv(),a.type===u.TokenType.DIM_SEMICOLON)return o.ParseNode.createDeclarationList(r);a=e.get()}},k=function(e){var t=e.get();if(!t||!u.TokenTypeUtil.isType(t.type))return null;var r=T(e);if(null===r)return null;if(null===(t=e.get())||t.type!==u.TokenType.ID_NAME)throw i.ParserError.expect("identifier",t);e.adv();var a=o.ParseNode.createIdentifier(t.value);if(null===(t=e.get())||![u.TokenType.OP_ASS_VAL,u.TokenType.DIM_COMMA,u.TokenType.DIM_L_PAREN,u.TokenType.DIM_SEMICOLON].includes(t.type))throw i.ParserError.expect(["(",":=",";",","].join(" "),t);if(t.type===u.TokenType.DIM_L_PAREN)return R(e,r,a);if(r.type===o.ParseNodeType.TYPE_ARRAY){if(t.type===u.TokenType.DIM_SEMICOLON)return e.adv(),o.ParseNode.createDeclarationArray(r,a);if(t.type===u.TokenType.DIM_COMMA)throw i.ParserError.error("array declaration can only specify on variable",t);if(t.type===u.TokenType.OP_ASS_VAL)throw i.ParserError.error("array declaration cannot assign value",t)}else if(r.type===o.ParseNodeType.TYPE_ARRAY_REF){if([u.TokenType.OP_ASS_VAL,u.TokenType.DIM_COMMA,u.TokenType.DIM_SEMICOLON].includes(t.type)){var n=S(e,a);if(null!==n)return o.ParseNode.createDeclarationArrayRef(r,n)}}else if(r.type===o.ParseNodeType.TYPE_PRIMITIVE&&[u.TokenType.OP_ASS_VAL,u.TokenType.DIM_COMMA,u.TokenType.DIM_SEMICOLON].includes(t.type)){var s=S(e,a);if(null!==s)return o.ParseNode.createDeclarationPrimitive(r,s)}return null},x=function(e){var t=e.get();if(!t)return null;if(u.TokenTypeUtil.isType(t.type))return k(e);var r=_(e),a=e.get();if(null===a||a.type!==u.TokenType.DIM_SEMICOLON)throw i.ParserError.expect(";",a);e.adv();var n=new o.ParseNode(o.ParseNodeType.STAT_EXPR);return n.addChild(r),n},w=function(e){var t=e.get();if(!t)return null;var r=null;switch(t.type){case u.TokenType.DIM_L_CURLY:r=y(e);break;case u.TokenType.KW_RETURN:r=E(e);break;case u.TokenType.KW_IF:r=A(e);break;case u.TokenType.KW_BREAK:r=I(e);break;case u.TokenType.KW_CONTINUE:r=C(e);break;case u.TokenType.KW_SWITCH:r=P(e);break;case u.TokenType.KW_DO:r=m(e);break;case u.TokenType.KW_WHILE:r=O(e);break;default:r=x(e)}return r},D=function(e){for(var t=new o.ParseNode(o.ParseNodeType.SRC_SOURCE);e.get();){var r=w(e);if(!r)throw i.ParserError.error("cannot parse token",e.get());t.children.push(r)}return t};t.parser=function(e){var t=0,r=e.filter(function(e){return!u.TokenTypeUtil.isWhiteSpace(e.type)}),a={get:function(){return r[t]||null},peek:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r[t+e]},adv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r[t+=e]}},n=D(a);if(null===n||t!==r.length)throw i.ParserError.error("parsing failed",a.get());return n}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(2),i=a(n),o=r(0),u=a(o);Object.defineProperty(t,"__esModule",{value:!0});var s=r(57),l=r(24),d=r(36),c=r(29),p=r(30),_=r(12),f=0+p.getPrimitiveSize("ref"),v=c.QuadrupleArgNull.Q_NULL,h=function e(t){(0,u.default)(this,e),this.isValid=!0,this.chain=t},T=function(){function e(t){(0,u.default)(this,e),this.isValid=!0,this.isBoolean=!1,this.trueChain=0,this.falseChain=0,this.generatedValue=t}return(0,i.default)(e,[{key:"toBoolean",value:function(e){if(!this.isBoolean){var t=e.nextQuadrupleIndex;this.isBoolean=!0,this.trueChain=t,this.falseChain=t+1,e.addQuadruple(c.QuadrupleOperator.J_NEZ,this.value,v,new c.QuadrupleArgQuadRef(0),"convert value to boolean: value is truly"),e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"convert value to boolean: value is falsy")}}},{key:"toValue",value:function(e){if(!this.isBoolean){if(this.value.type===c.QuadrupleArgType.ARRAY_ADDR){var t=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.A_RET,this.value,v,t,"retrieve value of array reference"),t}return this.value}var r=e.getTempVar(),a=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.V_ASS,new c.QuadrupleArgValue(_.PrimitiveType.BOOL,!0),v,r,"convert boolean to value: true"),e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(a+3),"convert boolean to value: jump"),e.addQuadruple(c.QuadrupleOperator.V_ASS,new c.QuadrupleArgValue(_.PrimitiveType.BOOL,!1),v,r,"convert boolean to value: false"),e.backPatchChain(this.trueChain,a),e.backPatchChain(this.falseChain,a+2),this.trueChain=this.falseChain=0,this.isBoolean=!1,this.generatedValue=r,this.value}},{key:"toRef",value:function(e){if(this.isBoolean)throw new l.GeneratorError("boolean cannot be used as reference value");switch(this.value.type){case c.QuadrupleArgType.TABLE_REF:case c.QuadrupleArgType.ARRAY_ADDR:return this.value;case c.QuadrupleArgType.VAR_TEMP:case c.QuadrupleArgType.NULL:case c.QuadrupleArgType.VALUE_INST:default:throw new l.GeneratorError("value cannot be used as reference")}}},{key:"value",get:function(){return this.generatedValue?this.generatedValue:v}}],[{key:"newBoolExpr",value:function(t,r){var a=new e;return a.trueChain=t,a.falseChain=r,a.isBoolean=!0,a}},{key:"newPrimValue",value:function(t,r){return new e(new c.QuadrupleArgValue(t,r))}}]),e}(),y={valid:function(){return{isValid:!0}}},E=function(e,t,r){var a=r.toRef(e);a.type===c.QuadrupleArgType.TABLE_REF?e.addQuadruple(c.QuadrupleOperator.V_ASS,t,v,a):a.type===c.QuadrupleArgType.ARRAY_ADDR&&e.addQuadruple(c.QuadrupleOperator.A_ASS,t,v,a)},A=function(e,t){var r=P(e,t.children[0]);if(t.value===d.ParseOperatorType.UNI_NOT)return r.toBoolean(e),T.newBoolExpr(r.falseChain,r.trueChain);var a=r.toValue(e);if(t.value===d.ParseOperatorType.UNI_POSIT)return new T(a);if(t.value===d.ParseOperatorType.UNI_NEGATE){var n=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.I_SUB,new c.QuadrupleArgValue(_.PrimitiveType.INT,0),a,n),new T(n)}var i=e.getTempVar(),o=void 0,u=new c.QuadrupleArgValue(_.PrimitiveType.INT,0),s=new c.QuadrupleArgValue(_.PrimitiveType.INT,1);switch(t.value){case d.ParseOperatorType.UNI_INC_PRE:e.addQuadruple(c.QuadrupleOperator.I_ADD,a,s,i),E(e,i,r);break;case d.ParseOperatorType.UNI_INC_POS:e.addQuadruple(c.QuadrupleOperator.I_ADD,a,u,i),o=e.getTempVar(),e.addQuadruple(c.QuadrupleOperator.I_ADD,i,s,o),E(e,o,r);break;case d.ParseOperatorType.UNI_DEC_PRE:e.addQuadruple(c.QuadrupleOperator.I_SUB,a,s,i),E(e,i,r);break;case d.ParseOperatorType.UNI_DEC_POS:e.addQuadruple(c.QuadrupleOperator.I_ADD,a,u,i),o=e.getTempVar(),e.addQuadruple(c.QuadrupleOperator.I_SUB,i,s,o),E(e,o,r);break;default:throw new l.GeneratorError("unknown unary operator")}return new T(i)},I=function(e,t){var r=t.value;if(r===d.ParseOperatorType.BIN_LOG_AND||r===d.ParseOperatorType.BIN_LOG_OR){var a=r===d.ParseOperatorType.BIN_LOG_AND,n=P(e,t.children[0]);n.toBoolean(e),e.backPatchChain(a?n.trueChain:n.falseChain,e.nextQuadrupleIndex);var i=P(e,t.children[1]);return i.toBoolean(e),a?T.newBoolExpr(i.trueChain,e.mergeChain(n.falseChain,i.falseChain)):T.newBoolExpr(e.mergeChain(n.trueChain,i.trueChain),i.falseChain)}var o=P(e,t.children[0]),u=P(e,t.children[1]),s=function(t){var r=T.newBoolExpr(e.nextQuadrupleIndex,e.nextQuadrupleIndex+1);return e.addQuadruple(t,o.toValue(e),u.toValue(e),new c.QuadrupleArgQuadRef(0)),e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0)),r},l=function(t){var r=e.getTempVar();return e.addQuadruple(t,o.toRef(e),u.toValue(e),r),E(e,r,o),new T(r)},p=function(t){var r=e.getTempVar();return e.addQuadruple(t,o.toValue(e),u.toValue(e),r),new T(r)};switch(r){case d.ParseOperatorType.BIN_ADD:return p(c.QuadrupleOperator.I_ADD);case d.ParseOperatorType.BIN_SUB:return p(c.QuadrupleOperator.I_SUB);case d.ParseOperatorType.BIN_MULTI:return p(c.QuadrupleOperator.I_MUL);case d.ParseOperatorType.BIN_DIVIDE:return p(c.QuadrupleOperator.I_DIV);case d.ParseOperatorType.BIN_ASS_ADD:return l(c.QuadrupleOperator.I_ADD);case d.ParseOperatorType.BIN_ASS_SUB:return l(c.QuadrupleOperator.I_SUB);case d.ParseOperatorType.BIN_ASS_MUL:return l(c.QuadrupleOperator.I_MUL);case d.ParseOperatorType.BIN_ASS_DIV:return l(c.QuadrupleOperator.I_DIV);case d.ParseOperatorType.BIN_ASS_VAL:return E(e,u.toValue(e),o),new T(o.toRef(e));case d.ParseOperatorType.BIN_REL_EQ:return s(c.QuadrupleOperator.J_EQ);case d.ParseOperatorType.BIN_REL_GT:return s(c.QuadrupleOperator.J_GT);case d.ParseOperatorType.BIN_REL_GTE:return s(c.QuadrupleOperator.J_GTE);case d.ParseOperatorType.BIN_REL_LT:return s(c.QuadrupleOperator.J_LT);case d.ParseOperatorType.BIN_REL_LTE:return s(c.QuadrupleOperator.J_LTE);case d.ParseOperatorType.BIN_REL_NE:return s(c.QuadrupleOperator.J_NE);default:return new T}},C=function(e,t){var r=P(e,t.children[0]).toValue(e),a=e.getEntryInfo(t.children[0].value).asFunc,n=t.children[1].children,i=e.currentHeapTop,o=i;o+=p.getPrimitiveSize(_.PrimitiveType.INT),o+=p.getPrimitiveSize(_.PrimitiveType.INT);var u=new c.QuadrupleArgArrayAddr(v,new c.QuadrupleArgValue(_.PrimitiveType.INT,o));o+=a.returnType.size,n.forEach(function(t,r){var n=P(e,t).toValue(e),i=new c.QuadrupleArgArrayAddr(v,new c.QuadrupleArgValue(_.PrimitiveType.INT,o));o+=a.parameterList[r].type.size,e.addQuadruple(c.QuadrupleOperator.F_PARA,n,v,i)});var s=new c.QuadrupleArgValue(_.PrimitiveType.INT,i);if(e.addQuadruple(c.QuadrupleOperator.F_FUNC,s,v,r),a.returnType.isVoid)return T.newPrimValue(_.PrimitiveType.VOID,void 0);var l=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.F_VAL,u,v,l),new T(l)},N=function(e,t){var r=t.children[0].value,a=e.getEntryInfo(r),n=void 0;if(t.children[1].children.map(function(t,a){var i=P(e,t).toValue(e),o=new c.QuadrupleArgArrayAddr(e.getEntry(r),new c.QuadrupleArgValue(_.PrimitiveType.INT,f+a*p.getPrimitiveSize(_.PrimitiveType.INT)));if(n){var u=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.A_RET,o,v,u,"retrieve array size of "+a+" dimension");var s=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.I_MUL,n,u,s,"multiply dim size");var l=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.I_ADD,s,i,l,"add dim offset"),n=l}else n=i}),!n)throw new l.GeneratorError("empty array index list");var i=e.getTempVar(),o=a.asArr.elementSize;e.addQuadruple(c.QuadrupleOperator.I_MUL,n,new c.QuadrupleArgValue(_.PrimitiveType.INT,o),i,"calc total size");var u=new c.QuadrupleArgArrayAddr(e.getEntry(r),new c.QuadrupleArgValue(_.PrimitiveType.INT,0)),s=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.A_RET,u,v,s,"retrieve array base address at heap"),new T(new c.QuadrupleArgArrayAddr(s,i))},P=function(e,t){switch(t.type){case d.ParseNodeType.VAL_CONSTANT_INT:return T.newPrimValue(_.PrimitiveType.INT,t.value);case d.ParseNodeType.VAL_CONSTANT_BOOL:return T.newPrimValue(_.PrimitiveType.BOOL,t.value);case d.ParseNodeType.VAL_CONSTANT_CHAR:return T.newPrimValue(_.PrimitiveType.CHAR,t.value);case d.ParseNodeType.VAL_CONSTANT_FLOAT:return T.newPrimValue(_.PrimitiveType.FLOAT,t.value);case d.ParseNodeType.EXPR_UNI:return A(e,t);case d.ParseNodeType.EXPR_BIN:return I(e,t);case d.ParseNodeType.EXPR_ARR_ACCESS:return N(e,t);case d.ParseNodeType.EXPR_FUNC_INVOKE:return C(e,t);case d.ParseNodeType.VAL_IDENTIFIER:return new T(e.getEntry(t.value));case d.ParseNodeType.VAL_UNINITIALIZED:default:return T.newPrimValue(_.PrimitiveType.VOID,null)}},m=function(e){switch(e.type){case d.ParseNodeType.TYPE_ARRAY:return p.createValueType.arr(e.children[0].children[0].value,e.children[0].children[1].children.length);case d.ParseNodeType.TYPE_ARRAY_REF:return p.createValueType.arrRef(e.children[0].value,e.value);case d.ParseNodeType.TYPE_PRIMITIVE:return p.createValueType.prim(e.value)}return p.createValueType.void()},O=function(e,t){var r=t.children[0].value;t.children[1].children.map(function(t){var a=t.children[0].value,n=e.checkName(a);if(n.isDefined&&n.currentContext)throw new l.GeneratorError("variable is defined "+a);e.addEntry.prim(a,r);var i=e.getEntry(a);if(t.children[1].type===d.ParseNodeType.VAL_UNINITIALIZED)e.addQuadruple(c.QuadrupleOperator.V_ASS,new c.QuadrupleArgValue(_.PrimitiveType.INT,0),v,i,"default initialization");else{var o=P(e,t.children[1]);e.addQuadruple(c.QuadrupleOperator.V_ASS,o.toValue(e),v,i)}return{name:t.children[0]}});return y.valid()},g=function(e,t){var r=t.children[0],a=r.children[0].value,n=r.children[1],i=t.children[1].value,o=e.checkName(i);if(o.isDefined&&o.currentContext)throw new l.GeneratorError("name redefinition:"+name);e.addEntry.arr(i,a,n.children.length);var u=e.getEntryInfo(i).asArr,s=void 0;if(n.children.map(function(t,r){var a=P(e,t),n=new c.QuadrupleArgArrayAddr(e.getEntry(i),new c.QuadrupleArgValue(_.PrimitiveType.INT,r*p.getPrimitiveSize(_.PrimitiveType.INT)+f));if(e.addQuadruple(c.QuadrupleOperator.A_ASS,a.toValue(e),v,n,"Set array size of "+r+" dimension"),s){var o=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.I_MUL,s,a.toValue(e),o,"calc array size"),s=o}else s=a.toValue(e)}),!s)throw new l.GeneratorError("empty array dimension");var d=e.getTempVar(),h=u.elementSize;e.addQuadruple(c.QuadrupleOperator.I_MUL,s,new c.QuadrupleArgValue(_.PrimitiveType.INT,h),d,"calc total size");var T=new c.QuadrupleArgArrayAddr(e.getEntry(i),new c.QuadrupleArgValue(_.PrimitiveType.INT,0)),E=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.M_REQ,d,v,E,"request memory allocation"),e.addQuadruple(c.QuadrupleOperator.A_ASS,E,v,T,"save dynamic array address"),y.valid()},R=function(e,t){var r=t.children[0].children[0].value,a=t.children[0].value;t.children[1].children.map(function(t){var n=t.children[0].value,i=e.checkName(n);if(i.isDefined&&i.currentContext)throw new l.GeneratorError("variable redefinition");e.addEntry.arrRef(n,r,a);var o=e.getEntry(n);if(t.children[1].type===d.ParseNodeType.VAL_UNINITIALIZED)e.addQuadruple(c.QuadrupleOperator.A_ASS,new c.QuadrupleArgValue(_.PrimitiveType.INT,void 0),v,o,"default initialization");else{var u=P(e,t.children[1]);e.addQuadruple(c.QuadrupleOperator.R_ASS,u.toValue(e),v,o)}});return y.valid()},L=function(e,t){var r=t.children[0].value,a=e.checkName(r);if(a.isDefined&&a.currentContext)throw new l.GeneratorError("name redefinition: "+r);return e.addEntry.func(r),e.wrapInContext("Function: "+r,{isFunction:!0},function(){var a=e.getEntryInfo(r).asFunc;e.addEntry.prim("?ppc",_.PrimitiveType.INT),e.addEntry.prim("?addr",_.PrimitiveType.INT);var n=m(t.children[1]);a.returnType=n,n.type===p.ValueType.ARRAY_REF?e.addEntry.arrRef("?ret",n.primitiveType,n.dim):n.type===p.ValueType.PRIMITIVE&&e.addEntry.prim("?ret",n.primitiveType),t.children[2].children.map(function(t){var r={name:t.children[1].value,type:m(t.children[0])};if(a.parameterList.some(function(e){return e.name===r.name}))throw new l.GeneratorError("parameter with same name already defined");r.type.type===p.ValueType.ARRAY_REF?e.addEntry.arrRef(r.name,r.type.primitiveType,r.type.dim):r.type.type===p.ValueType.PRIMITIVE&&e.addEntry.prim(r.name,r.type.primitiveType),a.parameterList.push(r)});var i=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"skip function "+r),a.entryAddress=e.nextQuadrupleIndex;var o=x(e,t.children[3],!1);e.backPatchChain(o.chain,e.nextQuadrupleIndex),e.addQuadruple(c.QuadrupleOperator.F_RET,v,v,v,"generated return"),e.backPatchChain(i,e.nextQuadrupleIndex)}),y.valid()},S=function(e,t){var r=P(e,t.children[0]);r.toBoolean(e),e.backPatchChain(r.trueChain,e.nextQuadrupleIndex),e.pushContext("if-then block");var a=U(e,t.children[1],!1);e.popContext();var n=e.mergeChain(r.falseChain,a.chain);return new h(n)},k=function(e,t){var r=P(e,t.children[0]);r.toBoolean(e),e.pushContext("if-then-else block: then"),e.backPatchChain(r.trueChain,e.nextQuadrupleIndex);var a=U(e,t.children[1],!1),n=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"end of if-then block"),a.chain=e.mergeChain(a.chain,n),e.popContext(),e.pushContext("if-then-else block else"),e.backPatchChain(r.falseChain,e.nextQuadrupleIndex);var i=U(e,t.children[2],!1);e.popContext();var o=e.mergeChain(a.chain,i.chain);return new h(o)},x=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1!==r&&e.pushContext("block");var a=t.children.reduce(function(t,r){return e.backPatchChain(t,e.nextQuadrupleIndex),U(e,r).chain},0);return!1!==r&&e.popContext(),new h(a)},w=function(e,t){e.pushContext("while loop"),e.pushBreakChain(0),e.pushContinueChain(0);var r=e.nextQuadrupleIndex,a=P(e,t.children[0]);a.toBoolean(e),e.backPatchChain(a.trueChain,e.nextQuadrupleIndex);var n=U(e,t.children[1],!1),i=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"end of while loop"),n.chain=e.mergeChain(n.chain,i),e.backPatchChain(n.chain,r);var o=e.popBreakChain(),u=e.popContinueChain();e.backPatchChain(u,r);var s=e.mergeChain(a.falseChain,o);return e.popContext(),new h(s)},D=function(e,t){e.pushContext("do loop"),e.pushBreakChain(0),e.pushContinueChain(0);var r=e.nextQuadrupleIndex,a=U(e,t.children[0]);e.backPatchChain(a.chain,e.nextQuadrupleIndex);var n=e.nextQuadrupleIndex,i=P(e,t.children[1]);i.toBoolean(e),e.backPatchChain(i.trueChain,r);var o=e.popBreakChain(),u=e.popContinueChain();e.backPatchChain(u,n);var s=e.mergeChain(o,i.falseChain);return e.popContext(),new h(s)},M=function(e,t){e.pushContext("switch block"),e.pushBreakChain(0);var r=P(e,t.children[0]).toValue(e),a=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"Switch: jump to table");var n=[],i=-1,o=t.children[1].children.reduce(function(t,r){var a=e.nextQuadrupleIndex;return e.backPatchChain(t,a),r.type===d.ParseNodeType.SEG_CASE_LABEL?(n.push([r.children[0],a]),0):r.type===d.ParseNodeType.SEG_DEFAULT_LABEL?(i=a,0):U(e,r).chain},0);e.backPatchChain(o,e.nextQuadrupleIndex),e.popContext();var u=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"Switch: end of switch body"),e.backPatchChain(a,e.nextQuadrupleIndex),n.map(function(t){var a=P(e,t[0]).toValue(e);e.addQuadruple(c.QuadrupleOperator.J_EQ,r,a,new c.QuadrupleArgQuadRef(t[1]),"switch: case "+a.toString())}),i>=0&&e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(i),"switch: default case"),new h(e.mergeChain(u,e.popBreakChain()))},b=function(e,t){var r=P(e,t.children[0]).toValue(e),a=e.getEntry("?ret");return e.addQuadruple(c.QuadrupleOperator.V_ASS,r,v,a),e.addQuadruple(c.QuadrupleOperator.F_RET,v,v,v),y.valid()},Q=function(e,t){return e.addQuadruple(c.QuadrupleOperator.F_RET,v,v,v),y.valid()},V=function(e,t){var r=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"break"),e.mergeIntoBreakChain(r),y.valid()},B=function(e,t){var r=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(0),"continue"),e.mergeIntoContinueChain(r),y.valid()},U=function(e,t,r){switch(t.type){case d.ParseNodeType.STAT_IF:return S(e,t);case d.ParseNodeType.STAT_IF_ELSE:return k(e,t);case d.ParseNodeType.STAT_SEQUENCE:return x(e,t,r);case d.ParseNodeType.STAT_WHILE:return w(e,t);case d.ParseNodeType.STAT_DO:return D(e,t);case d.ParseNodeType.STAT_SWITCH:return M(e,t);case d.ParseNodeType.STAT_RETURN:b(e,t);break;case d.ParseNodeType.STAT_RETURN_VOID:Q(e);break;case d.ParseNodeType.STAT_BREAK:V(e);break;case d.ParseNodeType.STAT_CONTINUE:B(e);break;case d.ParseNodeType.STAT_FUNCTION:L(e,t);break;case d.ParseNodeType.STAT_DECLARATION_ARR:g(e,t);break;case d.ParseNodeType.STAT_DECLARATION_ARR_REF:R(e,t);break;case d.ParseNodeType.STAT_DECLARATION_PRIM:O(e,t);break;case d.ParseNodeType.STAT_EXPR:P(e,t.children[0])}return new h(0)},F=function(e,t){return e.wrapInContext("source root",{},function(){var r=t.children.reduce(function(t,r){return e.backPatchChain(t,e.nextQuadrupleIndex),U(e,r).chain},0);e.backPatchChain(r,e.nextQuadrupleIndex),e.addQuadruple(c.QuadrupleOperator.J_JMP,v,v,new c.QuadrupleArgQuadRef(e.nextQuadrupleIndex,"end"),"loop forever")}),y.valid()};t.generator=function(e){if(e.type!==d.ParseNodeType.SRC_SOURCE)throw new l.GeneratorError("root of AST for generator must be a source file");var t=new s.GeneratorContext;try{F(t,e)}catch(e){console.log(e)}return{quadrupleList:t.quadrupleTable,contextTree:t.currentContext}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=window,n=function(e,t){if(a.monaco)return void t();var r={paths:{vs:e+"/vs"}},n=r.paths.vs+"/loader.js",i=function(){if(a.LOADER_PENDING&&a.require.config(r),a.require(["vs/editor/editor.main"],function(){t()}),a.LOADER_PENDING){a.LOADER_PENDING=!1;var e=a.LOADER_CALLBACKS;if(e&&e.length)for(var n=e.shift();n;)n.fn.call(n.window),n=e.shift()}};if(a.LOADER_PENDING)a.LOADER_CALLBACKS=a.LOADER_CALLBACKS||[],a.LOADER_CALLBACKS.push({window:a,fn:i});else if(void 0===a.require){var o=window.document.createElement("script");o.type="text/javascript",o.src=n,o.addEventListener("load",i),a.document.body.appendChild(o),a.LOADER_PENDING=!0}else i()};t.default={load:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(76);r(74);var n=r(55),i=r(79),o=r(77),u=r(78);r(75),n.default.use(a.default),n.default.use(i.default),n.default.config.productionTip=!1;var s=new i.default({routes:[{path:"/",name:"Index",component:u.default}]});new n.default({el:"#app",router:s,template:"<App/>",components:{App:o.default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(87),n=r(59),i={base:"vs",inherit:!0,rules:[{token:"invalid",foreground:"af3a3a",fontStyle:"italic underline"},{token:"error",foreground:"ff0000",fontStyle:"bold underline italic"},{token:"type",foreground:"aa3afa",fontStyle:"bold"},{token:"operator",foreground:"aabafa",fontStyle:"bold"},{token:"delimiter",foreground:"5adaca",fontStyle:"bold"}]},o=function(e){e.languages.register({id:"Picol"}),e.languages.setMonarchTokensProvider("Picol",a.default),e.editor.defineTheme("PicolTheme",i)},u={acceptSuggestionOnCommitCharacter:!0,autoClosingBrackets:!0,selectOnLineNumbers:!0,roundedSelection:!0,readOnly:!1,cursorStyle:"line",automaticLayout:!0,glyphMargin:!0,theme:"PicolTheme"};t.default={registerLanguage:o,defaultMonacoEditorOptions:u,picolLanguage:a.default,picolSample:n.default,picolTheme:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={defaultToken:"invalid",keywords:["continue","switch","do","if","break","else","return","while","true","false","case","default"],symbols:/\+\+|--|\+=|-=|\+|-|:=|:|>=|>|<=|<|==|!=|!|&&|\|\||\*=|\/=|\*|\//,operators:[":",":=",">","<","!","~","==","<=",">=","!=","&&","||","++","--","+","-","*","/","+=","-=","*=","/="],typeKeywords:["bool","int","char","void","float"],brackets:[["{","}","delimiter.curly"],["(",")","delimiter.parenthesis"],["[","]","delimiter.square"]].map(function(e){return{open:e[0],close:e[1],token:e[2]}}),tokenizer:{root:[[/[a-zA-Z$_]\w*/,{cases:{"@typeKeywords":"type","@keywords":"keyword","@default":"identifier"}}],[/'(?:\\["'\\tnr]|[^\\'])'/,"string"],[/'(?:\\'|[^'])*'/,"error"],[/'(?:\\'|[^'])*/,"error"],[/"(?:\\"|[^\\"])*"/,"error"],[/"(?:\\"|[^\\"])*/,"error"],[/(?:0|(?:[1-9]\d*))\.\d+/,"number"],[/0|(?:[1-9]\d*)/,"number"],[/[{}()\[\]]/,"@brackets"],[/\/\/(.*)$/,{token:"comment"}],[/[;,]/,"delimiter"],[/@symbols/,{cases:{"@operators":"operator"}}],[/[ \t]+/,"whitespace"],[/./,{token:"invalid"}]]},tokenPostfix:""};t.default=a},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(7),_=a(p),f=r(5),v=a(f),h=r(9),T=a(h),y=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,T.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,v.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var E=r(8),A=function(e){function t(){return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),t}(E.Vue);A=y([E.Component()],A),t.default=A},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s),d=r(4),c=a(d),p=r(3),_=a(p),f=r(7),v=a(f),h=r(5),T=a(h),y=r(9),E=a(y),A=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,E.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,v.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(8),C=r(20),N=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.errorList=I.p({type:Array}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"getSeverity",value:function(e){return C.ErrorSeverity[e]}},{key:"getIconName",value:function(e){return{INFO:"info",WARN:"warning",ERROR:"error",FATAL:"block"}[this.getSeverity(e)]}}]),t}(I.Vue);A([I.Prop],N.prototype,"errorList",void 0),N=A([I.Component({name:"error-list"})],N),t.default=N},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(31),i=a(n),o=r(1),u=a(o),s=r(0),l=a(s),d=r(2),c=a(d),p=r(4),_=a(p),f=r(3),v=a(f),h=r(7),T=a(h),y=r(5),E=a(y),A=r(9),I=a(A),C=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,I.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,E.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var N=r(8),P=r(171),m=r(84),O=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.width=N.p({type:String,default:"100%"}),e.height=N.p({type:String,default:"100%"}),e.code=N.p({type:String,default:"// code \n"}),e.srcPath=N.p({type:String}),e.language=N.p({type:String,default:"javascript"}),e.theme=N.p({type:String,default:"vs"}),e.options=N.p({default:function(){}}),e.highlighted=N.p({type:Array,default:function(){return[{number:0,class:""}]}}),e.changeThrottle=N.p({type:Number,default:0}),e.defaults={selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0},e}return(0,v.default)(t,e),(0,c.default)(t,[{key:"mounted",value:function(){this.fetchEditor()}},{key:"destroyed",value:function(){this.destroyMonaco()}},{key:"handler",value:function(e){this.highlightLines(e)}},{key:"highlightLines",value:function(e){var t=this;this.editor&&e.forEach(function(e){var r=e.class,a=t.$el.querySelector("."+r);a&&a.classList.remove(r);var n=parseInt(e.number,10);if(!(!t.editor&&n<1||isNaN(n))){var i=t.$el.querySelector('.view-lines [linenumber="'+n+'"]');i&&i.classList.add(r)}})}},{key:"codeChangeHandler",value:function(e){var t=this;if(this.codeChangeEmitter)this.codeChangeEmitter(e);else{var r=+this.changeThrottle;this.codeChangeEmitter=P.debounce(function(){return t.$emit("codeChange",e)},r),this.codeChangeEmitter(e)}}},{key:"fetchEditor",value:function(){var e=this.srcPath||"";m.default.load(e,this.createMonaco)}},{key:"createMonaco",value:function(){var e=this,t=window;this.monaco=t.monaco,this.editor=t.monaco.editor.create(this.$el,this.editorOptions),t.editor=this.editor,this.$emit("mounted",this.editor),this.editor.onDidChangeModelContent(function(){return e.codeChangeHandler(e.editor)}),this.codeChangeHandler(this.editor)}},{key:"destroyMonaco",value:function(){void 0!==this.editor&&this.editor.dispose()}},{key:"style",get:function(){var e=this.width,t=this.height;return{width:-1!==e.toString().indexOf("%")?e:e+"px",height:-1!==t.toString().indexOf("%")?t:t+"px"}}},{key:"editorOptions",get:function(){return(0,i.default)({},this.defaults,this.options,{value:this.code,language:this.language,theme:this.theme})}}]),t}(N.Vue);C([N.Prop],O.prototype,"width",void 0),C([N.Prop],O.prototype,"height",void 0),C([N.Prop],O.prototype,"code",void 0),C([N.Prop],O.prototype,"srcPath",void 0),C([N.Prop],O.prototype,"language",void 0),C([N.Prop],O.prototype,"theme",void 0),C([N.Prop],O.prototype,"options",void 0),C([N.Prop],O.prototype,"highlighted",void 0),C([N.Prop],O.prototype,"changeThrottle",void 0),C([N.Lifecycle],O.prototype,"mounted",null),C([N.Lifecycle],O.prototype,"destroyed",null),C([N.Watch("highlighted",{deep:!0})],O.prototype,"handler",null),O=C([N.Component({name:"MonacoEditor"})],O),t.default=O},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s),d=r(4),c=a(d),p=r(3),_=a(p),f=r(7),v=a(f),h=r(5),T=a(h),y=r(9),E=a(y),A=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,E.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,v.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(8),C=r(20),N=r(54),P=r(177),m=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.program=I.p({type:Array}),e.autoExecute=!1,e.speed=0,e.executor=new C.Executor,e.autoExecuteHandle=0,e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"beforeUpdate",value:function(){var e=this.program;this.executor||(this.executor=new C.Executor(e)),this.executor.program!==this.program&&this.executor.load(e),this.$refs.slider.refreshSize()}},{key:"toggleAutoExecute",value:function(e){this.autoExecute!==e&&(this.autoExecute=e,e?this.autoExecuteCallback():(clearTimeout(this.autoExecuteHandle),this.autoExecuteHandle=0))}},{key:"autoExecuteCallback",value:function(){var e=this;this.step(),this.autoExecuteHandle=setTimeout(function(){return e.autoExecuteCallback()},1e3*this.calcSpeed)}},{key:"step",value:function(){this.executor.step()}},{key:"reset",value:function(){this.executor.reset()}},{key:"getSeverity",value:function(e){return C.ErrorSeverity[e]}},{key:"calcSpeed",get:function(){return(Math.round((100-this.speed)/10)||1)/10}}]),t}(I.Vue);A([I.Prop],m.prototype,"program",void 0),A([I.Lifecycle],m.prototype,"beforeUpdate",null),m=A([I.Component({name:"execution",components:{QuadViewer:N.default,MemoryView:P.default}})],m),t.default=m},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(7),_=a(p),f=r(5),v=a(f),h=r(9),T=a(h),y=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,T.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,v.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var E=r(8),A=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.memoryData=E.p({type:Array}),e}return(0,c.default)(t,e),t}(E.Vue);y([E.Prop],A.prototype,"memoryData",void 0),A=y([E.Component({name:"memory-view"})],A),t.default=A},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(7),_=a(p),f=r(5),v=a(f),h=r(9),T=a(h),y=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,T.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,v.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var E=r(8),A=r(58),I=r(179),C=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.model=A.default,e.ast=E.p({type:Object}),e}return(0,c.default)(t,e),t}(E.Vue);y([E.Prop],C.prototype,"ast",void 0),C=y([E.Component({name:"left-panel",components:{ListItem:I.default}})],C),t.default=C},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(7),_=a(p),f=r(5),v=a(f),h=r(9),T=a(h),y=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,T.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,v.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var E=r(8),A=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.on=E.p({type:Boolean}),e}return(0,c.default)(t,e),t}(E.Vue);y([E.Prop],A.prototype,"on",void 0),A=y([E.Component({name:"list-view"})],A),t.default=A},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(60),i=a(n),o=r(1),u=a(o),s=r(0),l=a(s),d=r(2),c=a(d),p=r(4),_=a(p),f=r(3),v=a(f),h=r(7),T=a(h),y=r(5),E=a(y),A=r(9),I=a(A),C=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,I.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,E.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var N=r(8),P=r(58),m=r(86),O=r(174),g=r(175),R=r(178),L=r(184),S=r(181),k=r(54),x=r(176),w=r(20),D=function(){var e=window;e.monaco&&m.default.registerLanguage(e.monaco)},M=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.code=m.default.picolSample.default,e.editorOptions=m.default.defaultMonacoEditorOptions,e.ast=null,e.quadrupleTable=[],e.errorList=[],e.contextTree=null,e}return(0,v.default)(t,e),(0,c.default)(t,[{key:"editorMounted",value:function(e){this.editor=e,D()}},{key:"beforeUpdate",value:function(){var e=P.default.currentFile;e.model&&e.model===this.editor.getModel()||this.editor&&(e.model||(e.model=monaco.editor.createModel(e.src,"Picol")),this.editor.setModel(e.model))}},{key:"editorCodeChange",value:function(e){var t=e.getModel();this.code=t.getValue(),P.default.currentFile.src=this.code;var r=(0,i.default)(w.default.lexer(this.code)),a=[];r.map(function(e){if(e.type===w.TokenType.INV_NO_MATCH||e.type===w.TokenType.INV_VALUE)return void a.push({startLineNumber:e.position.line,startColumn:e.position.col,endLineNumber:e.position.line,endColumn:e.position.col+e.literal.length,message:e.value,severity:monaco.Severity.Error,source:"Lexer"});e.type,w.TokenType.SP_WHITE}),monaco.editor.setModelMarkers(t,"Lexer",a);try{var n=w.default.parser(r);this.ast=n,monaco.editor.setModelMarkers(t,"Parser",[])}catch(e){this.errorList.push(e);var o=e.token||r[r.length-1];monaco.editor.setModelMarkers(t,"Parser",[{startLineNumber:o.position.line,startColumn:o.position.col,endLineNumber:o.position.line,endColumn:o.position.col+o.literal.length,message:e.message,severity:monaco.Severity.Error,source:"Parser"}])}try{if(this.ast){var u=w.default.generator(this.ast);this.contextTree=u.contextTree,this.quadrupleTable=u.quadrupleList}}catch(e){}}}]),t}(N.Vue);C([N.Lifecycle],M.prototype,"beforeUpdate",null),M=C([N.Component({name:"index",components:{MonacoEditor:g.default,ErrorList:O.default,AstViewer:L.default,QuadViewer:k.default,Intermediate:S.default,FilePanel:R.default,Execution:x.default}})],M),t.default=M},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(61),i=a(n),o=r(1),u=a(o),s=r(0),l=a(s),d=r(2),c=a(d),p=r(4),_=a(p),f=r(3),v=a(f),h=r(7),T=a(h),y=r(5),E=a(y),A=r(9),I=a(A),C=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,I.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,E.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var N=r(8),P=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.contextTree=N.p({type:Object}),e.open=!0,e}return(0,v.default)(t,e),(0,c.default)(t,[{key:"isEmpty",value:function(e){return(0,i.default)(e).filter(function(e){return"__ob__"!==e}).length>0}}]),t}(N.Vue);C([N.Prop],P.prototype,"contextTree",void 0),P=C([N.Component({name:"context-tree",components:{}})],P),t.default=P},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(7),_=a(p),f=r(5),v=a(f),h=r(9),T=a(h),y=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,T.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,v.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var E=r(8),A=r(180),I=r(54),C=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.quadList=E.p({type:Array}),e.contextTree=E.p({type:Object}),e}return(0,c.default)(t,e),t}(E.Vue);y([E.Prop],C.prototype,"quadList",void 0),y([E.Prop],C.prototype,"contextTree",void 0),C=y([E.Component({name:"intermediate",components:{QuadViewer:I.default,ContextTree:A.default}})],C),t.default=C},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s),d=r(4),c=a(d),p=r(3),_=a(p),f=r(7),v=a(f),h=r(5),T=a(h),y=r(9),E=a(y),A=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,E.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,v.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(8),C=r(20),N=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.quadList=I.p({type:Array}),e.highlight=I.p({type:Number}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"mounted",value:function(){}},{key:"handler",value:function(e,t){this.scrollToQuad(e)}},{key:"scrollToQuad",value:function(e){var t=this.$refs["quad-list"],r=this.$refs["quad-item-"+e];if(r&&r[0]){var a=r[0].offsetTop,n=a>t.clientHeight/2?a-t.clientHeight/2:0,i=t.scrollTop;if(n!==i){var o=i-n,u=function e(){if(o*=.9,Math.abs(o)<3)return void(t.scrollTop=n);t.scrollTop=n+o,requestAnimationFrame(e)};requestAnimationFrame(u)}}}},{key:"quadruples",get:function(){return this.quadList&&this.quadList.length?this.quadList.map(function(e,t){return{i:t,op:e.operatorName,a1:e.argument1.toString(),a2:e.argument2.toString(),re:e.result.toString(),reLink:e.result.type===C.QuadrupleArgType.QUAD_REF?e.result.quadIndex:void 0,cm:e.comment}}):[]}}]),t}(I.Vue);A([I.Prop],N.prototype,"quadList",void 0),A([I.Prop],N.prototype,"highlight",void 0),A([I.Lifecycle],N.prototype,"mounted",null),A([I.Watch("highlight")],N.prototype,"handler",null),N=A([I.Component({name:"quad-viewer"})],N),t.default=N},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s),d=r(4),c=a(d),p=r(3),_=a(p),f=r(7),v=a(f),h=r(5),T=a(h),y=r(9),E=a(y),A=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,E.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,v.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(8),C=r(20),N=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.ast=I.p({type:Object}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"getTokenType",value:function(e){return C.TokenType[e]}},{key:"getPrimType",value:function(e){return C.PrimitiveType[e]}},{key:"getOperatorType",value:function(e){switch(e){case C.ParseOperatorType.UNI_POSIT:return["+","positive"];case C.ParseOperatorType.UNI_NOT:return["¬","not"];case C.ParseOperatorType.UNI_NEGATE:return["-","negative"];case C.ParseOperatorType.UNI_INC_PRE:return["++","pre inc"];case C.ParseOperatorType.UNI_DEC_PRE:return["--","pre dec"];case C.ParseOperatorType.UNI_INC_POS:return["++","post inc"];case C.ParseOperatorType.UNI_DEC_POS:return["--","post dec"];case C.ParseOperatorType.BIN_ADD:return["+","add"];case C.ParseOperatorType.BIN_SUB:return["-","minus"];case C.ParseOperatorType.BIN_MULTI:return["×","mul"];case C.ParseOperatorType.BIN_DIVIDE:return["÷","div"];case C.ParseOperatorType.BIN_REL_GT:return[">","gt"];case C.ParseOperatorType.BIN_REL_GTE:return["≥","gte"];case C.ParseOperatorType.BIN_REL_EQ:return["=","equal"];case C.ParseOperatorType.BIN_REL_NE:return["≠","neq"];case C.ParseOperatorType.BIN_REL_LT:return["<","lt"];case C.ParseOperatorType.BIN_REL_LTE:return["≤","lte"];case C.ParseOperatorType.BIN_LOG_AND:return["∧","and"];case C.ParseOperatorType.BIN_LOG_OR:return["∨","or"];case C.ParseOperatorType.BIN_ASS_VAL:return["≔","assign"];case C.ParseOperatorType.BIN_ASS_ADD:return["+=","add&ass"];case C.ParseOperatorType.BIN_ASS_SUB:return["-=","minus&ass"];case C.ParseOperatorType.BIN_ASS_MUL:return["×=","mul&ass"];case C.ParseOperatorType.BIN_ASS_DIV:return["÷=","div&ass"]}return["?",C.ParseOperatorType[e]]}},{key:"nodeType",get:function(){var e=this.ast;return e&&void 0!==e.type?C.ParseNodeType[e.type]:""}}]),t}(I.Vue);A([I.Prop],N.prototype,"ast",void 0),N=A([I.Component({name:"ast-expr"})],N),t.default=N},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(2),l=a(s),d=r(4),c=a(d),p=r(3),_=a(p),f=r(7),v=a(f),h=r(5),T=a(h),y=r(9),E=a(y),A=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,E.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,v.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(8),C=r(20),N=r(182),P=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.ast=I.p({type:Object}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"getTokenType",value:function(e){return C.TokenType[e]}},{key:"getPrimType",value:function(e){return C.PrimitiveType[e]}},{key:"getNodeType",value:function(e){return e&&void 0!==e.type?C.ParseNodeType[e.type]:""}},{key:"nodeType",get:function(){var e=this.ast;return this.getNodeType(e)}}]),t}(I.Vue);A([I.Prop],P.prototype,"ast",void 0),P=A([I.Component({name:"ast-node",components:{AstExpr:N.default}})],P),t.default=P},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(0),u=a(o),s=r(4),l=a(s),d=r(3),c=a(d),p=r(7),_=a(p),f=r(5),v=a(f),h=r(9),T=a(h),y=function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=(0,T.default)(t,r):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,v.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var E=r(8),A=r(183),I=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.ast=E.p({type:Object}),e}return(0,c.default)(t,e),t}(E.Vue);y([E.Prop],I.prototype,"ast",void 0),I=y([E.Component({name:"ast-viewer",components:{AstNode:A.default}})],I),t.default=I},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,r){function a(e){r(165)}var n=r(10)(r(89),r(192),a,"data-v-5bfd0748",null);t.__esModule=!0,t.default=n.exports},function(e,t,r){var a=r(10)(r(90),r(193),null,null,null);t.__esModule=!0,t.default=a.exports},function(e,t,r){function a(e){r(170)}var n=r(10)(r(91),r(198),a,"data-v-efed5f78",null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(158)}var n=r(10)(r(92),r(185),a,"data-v-0c1f18c6",null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(163)}var n=r(10)(r(93),r(190),a,"data-v-356abd9c",null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(160)}var n=r(10)(r(94),r(187),a,null,null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(162)}var n=r(10)(r(96),r(189),a,"data-v-24f710f5",null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(159)}var n=r(10)(r(97),r(186),a,"data-v-0e45f672",null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(164)}var n=r(10)(r(99),r(191),a,null,null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(161)}var n=r(10)(r(100),r(188),a,null,null);t.__esModule=!0,t.default=n.exports},function(e,t,r){function a(e){r(169)}var n=r(10)(r(101),r(197),a,"data-v-e9a448e8",null);t.__esModule=!0,t.default=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.memoryData&&e.memoryData.length?r("div",{staticClass:"memory-view"},e._l(e.memoryData,function(t,a){return r("div",{staticClass:"memory-view-row"},[r("pre",{staticClass:"index"},[e._v(e._s(a))]),e._v(" "),r("pre",{staticClass:"value"},[e._v(e._s(t))])])})):r("div",{staticClass:"empty-tip"},[e._v("\n  Empty memory section\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"intermediate-root"},[r("context-tree",{attrs:{contextTree:e.contextTree}}),e._v(" "),r("quad-viewer",{attrs:{quadList:e.quadList}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"wrapper",staticClass:"wrapper"},[e._t("default"),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"wrapper"}})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return"SRC_SOURCE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("code")]),e._v("\n    Src Root\n  ")],1),e._v(" "),e._l(e.ast.children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2):"STAT_SEQUENCE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("list")]),e._v("\n    statement list\n  ")],1),e._v(" "),e._l(e.ast.children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2):"STAT_FUNCTION"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("functions")]),e._v("\n    Func Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("ret")])]),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[1]}})],1),e._v(" "),e._l(e.ast.children[2].children,function(t,a){return r("div",{key:t,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("par "+e._s(a))])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])]),e._v(" "),r("pre",[e._v(e._s(t.children[1].value))])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])]),e._v(" "),r("ast-node",{attrs:{ast:t.children[0]}})],1)])}),e._v(" "),e._l(e.ast.children[3].children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2):"STAT_DECLARATION_PRIM"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("create")]),e._v("\n    Var Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])]),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),e._l(e.ast.children[1].children,function(t){return r("div",{key:t,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("decl")])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])]),e._v(" "),r("ast-expr",{attrs:{ast:t.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("value")])]),e._v(" "),r("ast-expr",{attrs:{ast:t.children[1]}})],1)])})],2):"STAT_DECLARATION_ARR_REF"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("create")]),e._v("\n    Array Ref. Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])]),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[0].children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("dim")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])]),e._v(" "),e._l(e.ast.children[1].children,function(t){return r("div",{key:t,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("decl")])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])]),e._v(" "),r("ast-expr",{attrs:{ast:t.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("value")])]),e._v(" "),r("ast-expr",{attrs:{ast:t.children[1]}})],1)])})],2):"STAT_DECLARATION_ARR"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("create")]),e._v("\n    Array Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])]),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[0].children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])]),e._v(" "),r("pre",[e._v(" "+e._s(e.ast.children[1].value)+" ")])]),e._v(" "),e._l(e.ast.children[0].children[1].children,function(t,a){return r("div",{key:t,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("dim "+e._s(a))])]),e._v(" "),r("ast-expr",{attrs:{ast:t}})],1)})],2):"STAT_IF"===e.nodeType||"STAT_IF_ELSE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("call_split")]),e._v("\n    if\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("done")]),e._v("Then")],1),e._v(" "),e._l(e.ast.children[1].children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2),e._v(" "),e.ast.children[2]?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("clear")]),e._v("Else")],1),e._v(" "),e._l(e.ast.children[2].children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2):e._e()]):"STAT_SWITCH"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("open_with")]),e._v("\n    switch\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),e._l(e.ast.children[1].children,function(t){return["SEG_CASE_LABEL"===e.getNodeType(t)?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"node-label"}),e._v(" "),r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("label")])],1),e._v(" "),r("ast-expr",{attrs:{ast:t.children[0]}})],1):"SEG_DEFAULT_LABEL"===e.getNodeType(t)?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"node-label"}),e._v(" "),r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("label_outline")])],1),e._v("\n      Default\n    ")]):r("ast-node",{attrs:{ast:t}})]})],2):"STAT_WHILE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("loop")]),e._v("\n    while loop\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("replay")]),e._v("loop body")],1),e._v(" "),e._l(e.ast.children[1].children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2)]):"STAT_DO"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("loop")]),e._v("\n    do loop\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("replay")]),e._v("loop body")],1),e._v(" "),e._l(e.ast.children[0].children,function(e){return r("ast-node",{key:e,attrs:{ast:e}})})],2),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[1]}})],1)]):"STAT_EXPR"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("widgets")]),e._v("\n    Expr\n  ")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1):"STAT_RETURN"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("keyboard_return")]),e._v("\n    Return\n  ")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1):"STAT_RETURN_VOID"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("keyboard_return")]),e._v("\n    Return\n  ")],1),e._v(" "),r("pre",{staticClass:"type-prim"},[e._v("<void>")])]):"STAT_BREAK"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("vertical_align_bottom")]),e._v("\n    Break\n  ")],1)]):"STAT_CONTINUE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("last_page")]),e._v("\n    Continue\n  ")],1)]):"TYPE_PRIMITIVE"===e.nodeType?r("span",[r("pre",{staticClass:"type-prim"},[e._v("<"+e._s(e.getPrimType(e.ast.value))+">")])]):"TYPE_ARRAY_REF"===e.nodeType?r("span",[r("pre",{staticClass:"type-prim"},[e._v("Array<"+e._s(e.getPrimType(e.ast.children[0].value))+">["+e._s(e.ast.value)+"]")])]):r("div",[e._v("\n  type: "),r("pre",[e._v(e._s(e.nodeType))]),e._v("\n  "+e._s(e.ast)+"\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.contextTree?r("div",{staticClass:"root",class:{open:e.open}},[r("div",{ref:"context-title",staticClass:"context-title",on:{click:function(t){e.open=!e.open}}},[r("ui-ripple-ink",{attrs:{trigger:"context-title"}}),e._v(" "),e.contextTree.name?r("div",[e._v("\n      "+e._s(e.contextTree.name)+"\n    ")]):r("div",[r("i",[e._v("unnamed")])])],1),e._v(" "),r("div",{staticClass:"context-body"},[r("div",{staticClass:"context-body-wrapper"},[e.isEmpty(e.contextTree.nameTable)?r("div",{staticClass:"variable-list"},e._l(e.contextTree.nameTable,function(t,a){return r("div",{staticClass:"variable"},[r("pre",{staticClass:"name"},[e._v(e._s(a))]),e._v(" "),"PRIMITIVE"==t.typeString?r("span",{staticClass:"variable-type primitive"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" "+e._s(t.info.size)+" "+e._s(t.info.size>1?"bytes":"byte")+"\n            "),r("div",{staticClass:"stack-offset"},[e._v(e._s(t.stackOffset))])]):"VOID"==t.typeString?r("span",{staticClass:"variable-type void"},[r("pre",[e._v(e._s(t.info.toString()))])]):"ARRAY"==t.typeString?r("span",{staticClass:"variable-type array"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" "),r("div",{staticClass:"stack-offset"},[e._v(e._s(t.stackOffset))]),e._v("\n            "+e._s(t.asArr.dimension)+"-dimension array\n          ")]):"ARRAY_REF"==t.typeString?r("span",{staticClass:"variable-type array-ref"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" "),r("div",{staticClass:"stack-offset"},[e._v(e._s(t.stackOffset))]),e._v("\n            reference to "+e._s(t.asArrRef.dimension)+"-dimension array\n          ")]):"FUNCTION"==t.typeString?r("span",{staticClass:"variable-type function"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v("\n            function, entry at: "+e._s(t.info.entryAddress)+e._s(t.info.entryAddress<0?", defined by language":"")+"\n          ")]):r("span",{staticClass:"variable-type"},[r("pre",[e._v(e._s(t.info.toString()))])])])})):r("div",[e._v("\n        No symbol defined in this context\n      ")]),e._v(" "),r("div",{staticClass:"nested-context"},e._l(e.contextTree.children,function(e){return r("context-tree",{key:e,attrs:{contextTree:e}})}))])])]):r("div",[e._v("\n  No context\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-container"},[r("span",{staticClass:"section"},[e._v("Sample")]),e._v(" "),r("div",e._l(e.model.templateList,function(t){return r("list-item",{key:t,nativeOn:{click:function(r){e.model.loadTemplate(t)}}},[r("div",{staticClass:"sample"},[e._v(e._s(t))])])})),e._v(" "),r("span",{staticClass:"section"},[e._v("Editing")]),e._v(" "),r("div",{staticClass:"editing-content"},[r("div",{ref:"editing-box",staticClass:"editing-box"},[r("div",{ref:"action-add",staticClass:"action",on:{click:function(t){e.model.addNew()}}},[r("ui-icon",[e._v("add")]),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"action-add"}})],1),e._v(" "),r("div",{ref:"action-delete",staticClass:"action",on:{click:function(t){e.model.deleteAll()}}},[r("ui-icon",[e._v("delete_sweep")]),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"action-delete"}})],1)]),e._v(" "),r("div",{staticClass:"editing-list"},e._l(e.model.fileList,function(t,a){return r("list-item",{key:t.name,nativeOn:{click:function(t){e.model.select(a)}}},[r("div",{staticClass:"editing-list-item",class:{current:e.model.current===a}},[r("div",{staticClass:"content"},[e._v("\n            "+e._s(t.name)+"\n            "+e._s(t.src!==t.savedSrc?"*":"")+"\n          ")]),e._v(" "),r("div",{staticClass:"inline-actions"},[r("div",{staticClass:"inline-action",on:{click:function(r){r.stopPropagation(),e.model.saveFile(t)}}},[r("ui-icon",[e._v("save")])],1),e._v(" "),r("div",{staticClass:"inline-action",on:{click:function(r){r.stopPropagation(),e.model.deleteFile(t)}}},[r("ui-icon",[e._v("delete")])],1)])])])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return"EXPR_BIN"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("span",{staticClass:"expr-operator"},[e._v(e._s(e.getOperatorType(e.ast.value)[0]))]),e._v(" "),r("span",{staticClass:"expr-operator-text"},[e._v(e._s(e.getOperatorType(e.ast.value)[1]))])]),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}}),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[1]}})],1):"EXPR_UNI"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("span",{staticClass:"expr-operator"},[e._v(e._s(e.getOperatorType(e.ast.value)[0]))]),e._v(" "),r("span",{staticClass:"expr-operator-text"},[e._v(e._s(e.getOperatorType(e.ast.value)[1]))])]),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1):"EXPR_ARR_ACCESS"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("ui-icon",[e._v("view_comfy")]),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])],1),e._v(" "),e._l(e.ast.children[1].children,function(t,a){return r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("dim "+e._s(a))])]),e._v(" "),r("ast-expr",{attrs:{ast:t}})],1)})],2):"EXPR_FUNC_INVOKE"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("ui-icon",[e._v("call")]),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])],1),e._v(" "),e._l(e.ast.children[1].children,function(t,a){return r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("arg "+e._s(a))])]),e._v(" "),r("ast-expr",{attrs:{ast:t}})],1)})],2):"VAL_CONSTANT_INT"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("int")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_CONSTANT_FLOAT"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("float")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_CONSTANT_CHAR"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("char")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_CONSTANT_BOOL"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("bool")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_IDENTIFIER"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("id")])]),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_UNINITIALIZED"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("un-init")])]),e._v("\n  No initialization\n")]):r("div",[e._v("\n  "+e._s(e.nodeType)+"\n  "+e._s(e.ast)+"\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[e.errorList&&e.errorList.length?r("div",{staticClass:"list"},[r("div",{staticClass:"summary"},[r("span",[e._v(e._s(e.errorList.length))]),e._v("\n      errors / warnings\n    ")]),e._v(" "),r("div",{staticClass:"error-list"},e._l(e.errorList,function(t){return r("div",{staticClass:"error-item",class:e.getSeverity(t.severity)},[r("div",{staticClass:"severity"},[r("ui-icon",[e._v(e._s(e.getIconName(t.severity)))])],1),e._v(" "),r("div",{staticClass:"message"},[t.pos?r("div",{staticClass:"pos"},[r("span",{staticClass:"pos-line"},[e._v(e._s(t.pos.line))]),e._v(" "),r("span",{staticClass:"pos-col"},[e._v(e._s(t.pos.col))])]):e._e(),e._v("\n          "+e._s(t.message)+"\n        ")])])}))]):r("div",{staticClass:"empty-tip"},[e._v("\n    No lexical or syntactic error detected.\n  ")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{style:e.style})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[e.quadruples.length?r("div",{ref:"quad-list",staticClass:"list"},e._l(e.quadruples,function(t){return r("div",{key:t.i+1,ref:"quad-item-"+(t.i+1),refInFor:!0,staticClass:"quadruple-item",class:{highlight:t.i+1===e.highlight},on:{click:function(r){e.scrollToQuad(t.reLink||t.i+2)}}},[r("div",{staticClass:"quad-index"},[e._v(e._s(t.i+1))]),e._v(" "),r("div",{staticClass:"quad-op"},[e._v(e._s(t.op))]),e._v(" "),r("div",{staticClass:"quad-arg"},[e._v(e._s(t.a1))]),e._v(" "),r("div",{staticClass:"quad-arg"},[e._v(e._s(t.a2))]),e._v(" "),void 0!==t.reLink?r("div",{staticClass:"quad-link"},[e._v("\n        ("),r("span",[e._v(e._s(t.reLink))]),e._v(")\n      ")]):r("div",{staticClass:"quad-arg"},[e._v(e._s(t.re))]),e._v(" "),r("div",{staticClass:"comment"},[e._v(e._s(t.cm))])])})):r("div",{staticClass:"tip"},[e._v("\n    Load sample files or type in your own program\n  ")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[r("a",{staticClass:"github-corner",attrs:{href:"https://github.com/Jack-Q/picol",title:"fork me on GitHub","aria-label":"View source on Github"}},[r("svg",{attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[r("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e._v(" "),r("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e._v(" "),r("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])]),e._v(" "),r("div",{staticClass:"header"},[r("div",{staticClass:"logo-box"},[r("svg",{staticClass:"logo",attrs:{viewBox:"0 0 200 100"}},[r("g",[r("path",{attrs:{d:"M 8.125 0 L 45.625 50 L 15 50 L 0 50 L 0 65 L 0 100 L 15 100 L 15 65 L 45.625 65 L 19.375 100 L 38.125 100 L 70 57.5 L 26.875 0 L 8.125 0 z M 138.125 0 L 95 57.5 L 126.875 100 L 145.625 100 L 113.75 57.5 L 156.875 0 L 138.125 0 z M 185 0 L 185 85 L 200 85 L 200 0 L 185 0 z M 75 15 L 75 75 L 90 75 L 90 15 L 75 15 z M 152.5 40 A 17.500001 17.499955 0 0 0 135 57.5 A 17.500001 17.499955 0 0 0 152.5 75 A 17.500001 17.499955 0 0 0 170 57.5 A 17.500001 17.499955 0 0 0 152.5 40 z M 82.5 80 A 7.5000002 7.4999853 0 0 0 75 87.5 A 7.5000002 7.4999853 0 0 0 82.5 95 A 7.5000002 7.4999853 0 0 0 90 87.5 A 7.5000002 7.4999853 0 0 0 82.5 80 z "}})])]),e._v(" "),r("a",{staticClass:"header-right",attrs:{href:"https://github.com/Jack-Q/"}},[r("svg",{attrs:{height:"20","aria-label":"code",viewBox:"0 0 14 16",version:"1.1",width:"17",role:"img"}},[r("path",{attrs:{d:"M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"}})]),e._v("\n        with\n        "),r("svg",{attrs:{height:"20","aria-label":"love",viewBox:"0 0 12 16",version:"1.1",width:"15",role:"img"}},[r("path",{attrs:{d:"M11.2 3c-.52-.63-1.25-.95-2.2-1-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-.95.05-1.69.38-2.2 1-.52.61-.78 1.28-.8 2 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.02-.72-.28-1.39-.8-2.02V3z"}})]),e._v("\n        by Jack Q\n      ")]),e._v(" "),r("div",{staticClass:"logo-tip"},[e._v("\n        Picol\n      ")])])]),e._v(" "),r("div",{staticClass:"body"},[r("div",{staticClass:"left-aside"},[r("file-panel")],1),e._v(" "),r("div",{staticClass:"main-stack"},[r("ui-tabs",{attrs:{type:"icon",fullwidth:""}},[r("ui-tab",{attrs:{icon:"code"}},[r("div",{staticClass:"src-editor"},[r("monaco-editor",{attrs:{code:e.code,options:e.editorOptions,srcPath:"./",width:"100%",height:"100%",theme:"PicolTheme",language:"Picol"},on:{mounted:function(t){e.editorMounted(t)},codeChange:e.editorCodeChange}})],1),e._v(" "),r("ErrorList",{attrs:{errorList:e.errorList}})],1),e._v(" "),r("ui-tab",{attrs:{icon:"device_hub"}},[r("ast-viewer",{attrs:{ast:e.ast}})],1),e._v(" "),r("ui-tab",{attrs:{icon:"list"}},[r("intermediate",{attrs:{quadList:e.quadrupleTable,contextTree:e.contextTree}})],1),e._v(" "),r("ui-tab",{attrs:{icon:"playlist_play"}},[r("execution",{attrs:{program:e.quadrupleTable}})],1)],1)],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[e.ast?r("div",[r("ast-node",{attrs:{ast:e.ast}})],1):r("div",{staticClass:"tip"},[e._v("\n    Load sample files or type in your own program\n  ")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.program?r("div",{staticClass:"executor-root"},[r("div",{staticClass:"col statue-col"},[r("div",{staticClass:"section"},[e._v("status")]),e._v(" "),r("dl",[r("dt",[e._v("PC")]),e._v(" "),r("dd",[e._v(e._s(e.executor.pc))]),e._v(" "),r("dt",[e._v("Frame Base")]),e._v(" "),r("dd",[e._v(e._s(e.executor.frameBase))])]),e._v(" "),r("div",{staticClass:"section"},[e._v("control")]),e._v(" "),r("div",{staticClass:"control"},[r("ui-button",{on:{click:e.step}},[e._v("Step")]),e._v(" "),r("ui-button",{on:{click:e.reset}},[e._v("Reset")]),e._v(" "),r("ui-button",{on:{click:function(t){e.executor.console=[]}}},[e._v("Clear Console")]),e._v(" "),r("div",{staticClass:"auto-execution-block"},[r("ui-switch",{attrs:{switchPosition:"right",value:e.autoExecute},on:{input:function(t){e.toggleAutoExecute(t)}}},[e._v("Auto Execute")]),e._v("\n        Speed: "),r("ui-slider",{ref:"slider",attrs:{icon:"play",step:10,showMarker:"",snapToSteps:"",markerValue:e.calcSpeed},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}},[e._v("Speed")])],1)],1),e._v(" "),r("div",{staticClass:"section"},[e._v("console")]),e._v(" "),r("div",{staticClass:"console"},[e._l(e.executor.console.map(function(e){return e}).reverse(),function(t){return["INFO"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-message"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("info")])],1),e._v("\n          "+e._s(t.message)+"\n        ")]):"WARN"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-warning"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("warning")])],1),e._v(" "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])]):"ERROR"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-error"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("error")])],1),e._v(" "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])]):"FATAL"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-fatal"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("block")])],1),e._v(" "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])]):r("div",[e._v("\n          "+e._s(e.getSeverity(t.severity))+"\n          "+e._s(t.severity)+"\n          "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])])]})],2)]),e._v(" "),r("div",{staticClass:"col"},[r("ui-tabs",[r("ui-tab",{attrs:{title:"temp"}},[r("memory-view",{attrs:{memoryData:e.executor.temp}})],1),e._v(" "),r("ui-tab",{attrs:{title:"stack"}},[r("memory-view",{attrs:{memoryData:e.executor.stack}})],1),e._v(" "),r("ui-tab",{attrs:{title:"heap"}},[r("memory-view",{attrs:{memoryData:e.executor.heap}})],1)],1)],1),e._v(" "),r("div",{staticClass:"program"},[r("quad-viewer",{attrs:{quadList:e.program,highlight:e.executor.pc}})],1)]):r("div",[e._v("\n  No context\n")])},staticRenderFns:[]}}],[85]);