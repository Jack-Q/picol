webpackJsonp([1],[,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(0),i=n(a),o=r(1),u=n(o);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){var t=this;(0,i.default)(this,e),this.markStartPoint=function(e){return t.startOffset=e.offsetStart,t.startCol=e.col,t.startLine=e.line,t},this.markEndPoint=function(e){return t.endOffset=e.offsetStart,t.endCol=e.col,t.endLine=e.line,t.endCol++,t.endOffset++,t}}return(0,u.default)(e,[{key:"length",get:function(){return this.endOffset-this.startOffset}}]),e}();s.fromPoint=function(e){return(new s).markStartPoint(e).markEndPoint(e)},t.RangePosition=s;var l;!function(e){e[e.SP_WHITE=0]="SP_WHITE",e[e.SP_COMMENT_LN=1]="SP_COMMENT_LN",e[e.KW_WHILE=2]="KW_WHILE",e[e.KW_DO=3]="KW_DO",e[e.KW_SWITCH=4]="KW_SWITCH",e[e.KW_CASE=5]="KW_CASE",e[e.KW_RETURN=6]="KW_RETURN",e[e.KW_IF=7]="KW_IF",e[e.KW_ELSE=8]="KW_ELSE",e[e.KW_DEFAULT=9]="KW_DEFAULT",e[e.KW_CONTINUE=10]="KW_CONTINUE",e[e.KW_BREAK=11]="KW_BREAK",e[e.ID_NAME=12]="ID_NAME",e[e.ID_TYPE=13]="ID_TYPE",e[e.OP_PLUS=14]="OP_PLUS",e[e.OP_MINUS=15]="OP_MINUS",e[e.OP_MULTI=16]="OP_MULTI",e[e.OP_DIVIDE=17]="OP_DIVIDE",e[e.OP_REL_GT=18]="OP_REL_GT",e[e.OP_REL_GTE=19]="OP_REL_GTE",e[e.OP_REL_EQ=20]="OP_REL_EQ",e[e.OP_REL_NE=21]="OP_REL_NE",e[e.OP_REL_LT=22]="OP_REL_LT",e[e.OP_REL_LTE=23]="OP_REL_LTE",e[e.OP_LOG_AND=24]="OP_LOG_AND",e[e.OP_LOG_OR=25]="OP_LOG_OR",e[e.OP_LOG_NOT=26]="OP_LOG_NOT",e[e.OP_ASS_VAL=27]="OP_ASS_VAL",e[e.OP_ASS_ADD=28]="OP_ASS_ADD",e[e.OP_ASS_SUB=29]="OP_ASS_SUB",e[e.OP_ASS_MUL=30]="OP_ASS_MUL",e[e.OP_ASS_DIV=31]="OP_ASS_DIV",e[e.OP_INC_INC=32]="OP_INC_INC",e[e.OP_INC_DEC=33]="OP_INC_DEC",e[e.DIM_L_BRACKET=34]="DIM_L_BRACKET",e[e.DIM_R_BRACKET=35]="DIM_R_BRACKET",e[e.DIM_L_PAREN=36]="DIM_L_PAREN",e[e.DIM_R_PAREN=37]="DIM_R_PAREN",e[e.DIM_L_CURLY=38]="DIM_L_CURLY",e[e.DIM_R_CURLY=39]="DIM_R_CURLY",e[e.DIM_SEMICOLON=40]="DIM_SEMICOLON",e[e.DIM_COMMA=41]="DIM_COMMA",e[e.DIM_COLON=42]="DIM_COLON",e[e.VAL_BOOL=43]="VAL_BOOL",e[e.VAL_CHAR=44]="VAL_CHAR",e[e.VAL_NUM_FLOAT=45]="VAL_NUM_FLOAT",e[e.VAL_NUM_INT=46]="VAL_NUM_INT",e[e.INV_VALUE=47]="INV_VALUE",e[e.INV_NO_MATCH=48]="INV_NO_MATCH",e[e.EOF=49]="EOF"}(l=t.TokenType||(t.TokenType={})),t.TokenTypeUtil={isWhiteSpace:function(e){return null!==e&&[l.SP_WHITE,l.SP_COMMENT_LN,l.INV_NO_MATCH].includes(e)},isType:function(e){return null!==e&&[l.ID_TYPE].includes(e)},isAssOperator:function(e){return null!==e&&[l.OP_ASS_VAL,l.OP_ASS_ADD,l.OP_ASS_SUB,l.OP_ASS_MUL,l.OP_ASS_DIV].includes(e)},isBinArithmetic:function(e){return null!==e&&[l.OP_PLUS,l.OP_MINUS,l.OP_MULTI,l.OP_DIVIDE].includes(e)},isBinRelational:function(e){return null!==e&&[l.OP_REL_EQ,l.OP_REL_NE,l.OP_REL_GT,l.OP_REL_GTE,l.OP_REL_LT,l.OP_REL_LTE].includes(e)},isBinLogical:function(e){return null!==e&&[l.OP_LOG_OR,l.OP_LOG_AND].includes(e)},isCloseDelimiter:function(e){return null!==e&&[l.DIM_R_BRACKET,l.DIM_R_CURLY,l.DIM_R_PAREN,l.DIM_COMMA,l.DIM_COMMA].includes(e)},isBinOperator:function(e){return t.TokenTypeUtil.isAssOperator(e)||t.TokenTypeUtil.isBinArithmetic(e)||t.TokenTypeUtil.isBinLogical(e)||t.TokenTypeUtil.isBinRelational(e)}};var d;!function(e){e[e.INT=0]="INT",e[e.FLOAT=1]="FLOAT",e[e.CHAR=2]="CHAR",e[e.BOOL=3]="BOOL",e[e.VOID=4]="VOID"}(d=t.PrimitiveType||(t.PrimitiveType={}));var c={"+":l.OP_PLUS,"-":l.OP_MINUS,"*":l.OP_MULTI,"/":l.OP_DIVIDE,">":l.OP_REL_GT,">=":l.OP_REL_GTE,"==":l.OP_REL_EQ,"!=":l.OP_REL_NE,"<":l.OP_REL_LT,"<=":l.OP_REL_LTE,"&&":l.OP_LOG_AND,"||":l.OP_LOG_OR,"!":l.OP_LOG_NOT,":=":l.OP_ASS_VAL,"+=":l.OP_ASS_ADD,"-=":l.OP_ASS_SUB,"*=":l.OP_ASS_MUL,"/=":l.OP_ASS_DIV,"++":l.OP_INC_INC,"--":l.OP_INC_DEC},p={while:l.KW_WHILE,do:l.KW_DO,switch:l.KW_SWITCH,case:l.KW_CASE,return:l.KW_RETURN,if:l.KW_IF,else:l.KW_ELSE,default:l.KW_DEFAULT,continue:l.KW_CONTINUE,break:l.KW_BREAK},_=function(){function e(t,r,n,a){var o=this;(0,i.default)(this,e),this.getPositionString=function(){return"ln: "+o.position.startLine+", col: "+o.position.startCol},this.type=t,this.literal=r,this.position=n,this.value=a}return(0,u.default)(e,null,[{key:"createOperatorToken",value:function(t,r){return c[t]?new e(c[t],t,r):null}},{key:"createIdentifierToken",value:function(t,r){var n=function(n,a){return new e(n,t,r,a)};if(p[t])return n(p[t]);switch(t){case"true":return n(l.VAL_BOOL,!0);case"false":return n(l.VAL_BOOL,!1);case"int":return n(l.ID_TYPE,d.INT);case"float":return n(l.ID_TYPE,d.FLOAT);case"char":return n(l.ID_TYPE,d.CHAR);case"bool":return n(l.ID_TYPE,d.BOOL);case"void":return n(l.ID_TYPE,d.VOID)}return n(l.ID_NAME,t)}}]),e}();t.Token=_},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(143),a=r(149),i=r(150),o=r(30);t.ErrorSeverity=o.ErrorSeverity,t.ErrorList=o.ErrorList,t.PicolError=o.PicolError;var u=r(16);t.Token=u.Token,t.TokenType=u.TokenType,t.PrimitiveType=u.PrimitiveType,t.RangePosition=u.RangePosition,t.TokenTypeUtil=u.TokenTypeUtil;var s=r(58);t.ParseNode=s.ParseNode,t.ParseNodeType=s.ParseNodeType,t.ParseOperatorType=s.ParseOperatorType;var l=r(40);t.Quadruple=l.Quadruple,t.QuadrupleArgType=l.QuadrupleArgType;var d=r(83);t.ExecutionContext=d.ExecutionContext;var c=r(154);t.Executor=c.Executor;var p=r(59);t.buildInFunctions=p.buildInFunctions,t.default={lexer:n.lexer,generator:i.generator,parser:a.parser}},,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(57),i=n(a),o=r(2),u=n(o),s=r(0),l=n(s),d=r(1),c=n(d),p=r(3),_=n(p),v=r(5),f=n(v);Object.defineProperty(t,"__esModule",{value:!0});var y;!function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR",e[e.FATAL=3]="FATAL"}(y=t.ErrorSeverity||(t.ErrorSeverity={})),t.errorName={lexer:"LexerError",parser:"ParserError",generator:"GeneratorError"};var T=function(e){function t(e){(0,l.default)(this,t);var r=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return r.severity=y.ERROR,r.name="PicolError",r}return(0,f.default)(t,e),(0,c.default)(t,[{key:"withPos",value:function(e){return this.pos=e,this}}],[{key:"lexerError",value:function(e,t){var r=new h(e,t.position);return r.token=t,r}}]),t}(Error);t.PicolError=T;var h=function(e){function r(e,n){(0,l.default)(this,r);var a=(0,_.default)(this,(r.__proto__||(0,u.default)(r)).call(this,e));return a.name=t.errorName.lexer,a.pos=(0,i.default)({},n),a}return(0,f.default)(r,e),r}(T);t.LexerError=h;var m=function(e){function r(e,n){(0,l.default)(this,r);var a=(0,_.default)(this,(r.__proto__||(0,u.default)(r)).call(this,e));return a.token=n,a.token&&(a.pos=a.token.position),a.name=t.errorName.parser,a}return(0,f.default)(r,e),r}(T);m.expect=function(e,t){return new m('expecting "'+e+'" at '+(null!==t?t.getPositionString():"the end"),t||void 0)},m.error=function(e,t){return new m(e+", error at "+(null!==t?t.getPositionString():"the end"),t||void 0)},t.ParserError=m;var E=function(e){function r(e,n){(0,l.default)(this,r);var a=(0,_.default)(this,(r.__proto__||(0,u.default)(r)).call(this,e));return n&&(a.token=n,a.pos=a.token.position),a.name=t.errorName.generator,a}return(0,f.default)(r,e),r}(T);t.GeneratorError=E;var I=function(){function e(){(0,l.default)(this,e),this.errorList=[]}return(0,c.default)(e,[{key:"info",value:function(e){e.severity=y.INFO,this.errorList.push(e)}},{key:"warn",value:function(e){e.severity=y.WARN,this.errorList.push(e)}},{key:"error",value:function(e){e.severity=y.ERROR,this.errorList.push(e)}},{key:"fatal",value:function(e){e.severity=y.FATAL,this.errorList.push(e)}},{key:"throw",value:function(e){throw e.severity=y.FATAL,this.errorList.push(e),e}}]),e}();t.ErrorList=I},,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(1),u=n(o),s=r(3),l=n(s),d=r(5),c=n(d),p=r(0),_=n(p);Object.defineProperty(t,"__esModule",{value:!0});var v,f=r(16);!function(e){e[e.VOID=0]="VOID",e[e.PRIMITIVE=1]="PRIMITIVE",e[e.ARRAY=2]="ARRAY",e[e.ARRAY_REF=3]="ARRAY_REF",e[e.FUNCTION=4]="FUNCTION"}(v=t.SymbolEntryType||(t.SymbolEntryType={}));!function(e){e[e.STACK=0]="STACK",e[e.LOCAL=1]="LOCAL",e[e.ARGUMENT=2]="ARGUMENT"}(t.SymbolLocation||(t.SymbolLocation={})),t.getPrimitiveSize=function(e){switch(e){case"ref":return 4;case f.PrimitiveType.BOOL:case f.PrimitiveType.CHAR:return 1;case f.PrimitiveType.FLOAT:return 4;case f.PrimitiveType.INT:return 2}return 0};var y=function e(){(0,_.default)(this,e)};t.SymbolEntryInfo=y;var T;!function(e){e[e.VOID=0]="VOID",e[e.PRIMITIVE=1]="PRIMITIVE",e[e.ARRAY=2]="ARRAY",e[e.ARRAY_REF=3]="ARRAY_REF"}(T=t.ValueType||(t.ValueType={}));var h=function(e){function r(e){(0,_.default)(this,r);var t=(0,l.default)(this,(r.__proto__||(0,i.default)(r)).call(this));return t.dim=0,t.primitiveType=e,t}return(0,c.default)(r,e),(0,u.default)(r,[{key:"size",get:function(){return t.getPrimitiveSize(this.primitiveType)}}]),r}(y);t.ValueTypeInfo=h;var m=function(e){function t(){(0,_.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,f.PrimitiveType.VOID));return e.isVoid=!0,e.type=T.VOID,e}return(0,c.default)(t,e),(0,u.default)(t,[{key:"toString",value:function(){return f.PrimitiveType[this.primitiveType]}}]),t}(h),E=function(e){function t(e){(0,_.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.type=T.PRIMITIVE,r}return(0,c.default)(t,e),(0,u.default)(t,[{key:"toString",value:function(){return f.PrimitiveType[this.primitiveType]}}]),t}(h),I=function(e){function r(e,t){(0,_.default)(this,r);var n=(0,l.default)(this,(r.__proto__||(0,i.default)(r)).call(this,e));return n.dimension=t,n.type=T.ARRAY,n}return(0,c.default)(r,e),(0,u.default)(r,[{key:"toString",value:function(){return"<"+f.PrimitiveType[this.primitiveType]+">["+",".repeat(this.dimension-1<0?0:this.dimension-1)+"]"}},{key:"size",get:function(){return t.getPrimitiveSize("ref")+t.getPrimitiveSize(f.PrimitiveType.INT)*this.dimension}},{key:"elementSize",get:function(){return t.getPrimitiveSize(this.primitiveType)}}]),r}(h),P=function(e){function r(e,t){(0,_.default)(this,r);var n=(0,l.default)(this,(r.__proto__||(0,i.default)(r)).call(this,e));return n.dimension=t,n.type=T.ARRAY_REF,n}return(0,c.default)(r,e),(0,u.default)(r,[{key:"toString",value:function(){return"Ref[<"+f.PrimitiveType[this.primitiveType]+">]"}},{key:"size",get:function(){return t.getPrimitiveSize("ref")}}]),r}(h),C=function(e){function t(){(0,_.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.parameterList=[],e}return(0,c.default)(t,e),(0,u.default)(t,[{key:"toString",value:function(){return"("+(this.parameterList?this.parameterList.map(function(e){return e.type&&e.type.toString()}).join(","):"***")+")=>"+this.returnType.toString()}}]),t}(y),A=function(){function e(t,r,n,a){(0,_.default)(this,e),this.stackOffset=-1,this.name=t,this.type=r,this.info=n,this.srcPosition=a}return(0,u.default)(e,[{key:"toString",value:function(){return this.name+"\t"+v[this.type]+" "+this.info.toString()+(this.type===v.FUNCTION?"@"+this.asFunc.entryAddress:" @"+this.stackOffset)}},{key:"asFunc",get:function(){return this.info}},{key:"asPrim",get:function(){return this.info}},{key:"asArr",get:function(){return this.info}},{key:"asArrRef",get:function(){return this.info}},{key:"typeString",get:function(){return v[this.type]}}]),e}();A.create={func:function(e,t){return new A(e,v.FUNCTION,new C,t)},prim:function(e,t,r){return new A(e,v.PRIMITIVE,new E(t),r)},arr:function(e,t,r,n){return new A(e,v.ARRAY,new I(t,r),n)},arrRef:function(e,t,r,n){return new A(e,v.ARRAY_REF,new P(t,r),n)}},t.SymbolEntry=A,t.createValueType={void:function(){return new m},prim:function(e){return new E(e)},arr:function(e,t){return new I(e,t)},arrRef:function(e,t){return new P(e,t)}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(3),u=n(o),s=r(5),l=n(s),d=r(0),c=n(d),p=r(1),_=n(p);Object.defineProperty(t,"__esModule",{value:!0});var v,f=r(16);!function(e){e[e.J_JMP=0]="J_JMP",e[e.J_EQ=1]="J_EQ",e[e.J_NE=2]="J_NE",e[e.J_GT=3]="J_GT",e[e.J_GTE=4]="J_GTE",e[e.J_LT=5]="J_LT",e[e.J_LTE=6]="J_LTE",e[e.J_EZ=7]="J_EZ",e[e.J_NEZ=8]="J_NEZ",e[e.I_ADD=9]="I_ADD",e[e.I_SUB=10]="I_SUB",e[e.I_MUL=11]="I_MUL",e[e.I_DIV=12]="I_DIV",e[e.R_ADD=13]="R_ADD",e[e.R_SUB=14]="R_SUB",e[e.R_MUL=15]="R_MUL",e[e.R_DIV=16]="R_DIV",e[e.C_I2F=17]="C_I2F",e[e.C_I2C=18]="C_I2C",e[e.C_F2I=19]="C_F2I",e[e.C_C2I=20]="C_C2I",e[e.V_ASS=21]="V_ASS",e[e.A_ASS=22]="A_ASS",e[e.A_RET=23]="A_RET",e[e.R_ASS=24]="R_ASS",e[e.F_PARA=25]="F_PARA",e[e.F_FUNC=26]="F_FUNC",e[e.F_REV=27]="F_REV",e[e.F_RET=28]="F_RET",e[e.F_VAL=29]="F_VAL",e[e.M_REQ=30]="M_REQ",e[e.M_FREE=31]="M_FREE"}(v=t.QuadrupleOperator||(t.QuadrupleOperator={}));var y;!function(e){e[e.TABLE_REF=0]="TABLE_REF",e[e.VAR_TEMP=1]="VAR_TEMP",e[e.QUAD_REF=2]="QUAD_REF",e[e.ARRAY_ADDR=3]="ARRAY_ADDR",e[e.VALUE_INST=4]="VALUE_INST",e[e.NULL=5]="NULL"}(y=t.QuadrupleArgType||(t.QuadrupleArgType={}));var T=function(){function e(t){var r=this;(0,c.default)(this,e),this.toString=function(){return y[r.type]},this.type=t}return(0,_.default)(e,[{key:"name",get:function(){return this.toString()}}]),e}();t.QuadrupleArg=T;var h=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y.VALUE_INST));return n.toString=function(){return f.PrimitiveType[n.valueType]+"("+n.value+")"},n.value=r,n.valueType=e,n}return(0,l.default)(t,e),(0,_.default)(t,[{key:"name",get:function(){return String(this.value)}}]),t}(T);t.QuadrupleArgValue=h;var m=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y.ARRAY_ADDR));return n.toString=function(){return n.base.name+"["+n.offset.name+"]"},n.base=e,n.offset=r,n}return(0,l.default)(t,e),t}(T);t.QuadrupleArgArrayAddr=m;var E=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y.TABLE_REF));return n.toString=function(){return[n.varName]+"@"+n.index},n.varName=e,n.index=r,n}return(0,l.default)(t,e),(0,_.default)(t,[{key:"name",get:function(){return String(this.varName)}}]),t}(T);t.QuadrupleArgTableRef=E;var I=function(e){function t(e,r){(0,c.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y.QUAD_REF));return n.label="",n.toString=function(){return(n.label?n.label:"")+"("+n.quadIndex+")"},n.quadIndex=e,n.label=r||"",n}return(0,l.default)(t,e),t}(T);t.QuadrupleArgQuadRef=I;var P=function(e){function t(e){(0,c.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y.VAR_TEMP));return r.toString=function(){return"T_"+r.tempIndex},r.tempIndex=e,r}return(0,l.default)(t,e),t}(T);t.QuadrupleArgVarTemp=P;var C=function(e){function t(){(0,c.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y.NULL));return e.toString=function(){return"_"},e}return(0,l.default)(t,e),t}(T);C.Q_NULL=new C,t.QuadrupleArgNull=C;var A=function(){function e(){(0,c.default)(this,e),this.comment=""}return(0,_.default)(e,[{key:"toString",value:function(){var e=function(e){return e+" ".repeat(12).slice(e.length)};return e(this.operatorName)+"\t "+e(this.argument1.toString())+"\t "+e(this.argument2.toString())+"\t "+e(this.result.toString())+(this.comment?"\t # "+this.comment:"")}},{key:"operatorName",get:function(){return v[this.operator]}}]),e}();t.Quadruple=A},,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(0),i=n(a),o=r(1),u=n(o);Object.defineProperty(t,"__esModule",{value:!0});var s,l=r(16);!function(e){e[e.NO_OP=0]="NO_OP",e[e.UNI_POSIT=1]="UNI_POSIT",e[e.UNI_NOT=2]="UNI_NOT",e[e.UNI_NEGATE=3]="UNI_NEGATE",e[e.UNI_INC_PRE=4]="UNI_INC_PRE",e[e.UNI_DEC_PRE=5]="UNI_DEC_PRE",e[e.UNI_INC_POS=6]="UNI_INC_POS",e[e.UNI_DEC_POS=7]="UNI_DEC_POS",e[e.BIN_ADD=8]="BIN_ADD",e[e.BIN_SUB=9]="BIN_SUB",e[e.BIN_MULTI=10]="BIN_MULTI",e[e.BIN_DIVIDE=11]="BIN_DIVIDE",e[e.BIN_REL_GT=12]="BIN_REL_GT",e[e.BIN_REL_GTE=13]="BIN_REL_GTE",e[e.BIN_REL_EQ=14]="BIN_REL_EQ",e[e.BIN_REL_NE=15]="BIN_REL_NE",e[e.BIN_REL_LT=16]="BIN_REL_LT",e[e.BIN_REL_LTE=17]="BIN_REL_LTE",e[e.BIN_LOG_AND=18]="BIN_LOG_AND",e[e.BIN_LOG_OR=19]="BIN_LOG_OR",e[e.BIN_ASS_VAL=20]="BIN_ASS_VAL",e[e.BIN_ASS_ADD=21]="BIN_ASS_ADD",e[e.BIN_ASS_SUB=22]="BIN_ASS_SUB",e[e.BIN_ASS_MUL=23]="BIN_ASS_MUL",e[e.BIN_ASS_DIV=24]="BIN_ASS_DIV"}(s=t.ParseOperatorType||(t.ParseOperatorType={})),t.getOperatorPriority=function(e){switch(e){case s.BIN_ASS_VAL:case s.BIN_ASS_ADD:case s.BIN_ASS_SUB:case s.BIN_ASS_MUL:case s.BIN_ASS_DIV:return 1;case s.BIN_LOG_OR:return 2;case s.BIN_LOG_AND:return 3;case s.BIN_REL_EQ:case s.BIN_REL_NE:return 4;case s.BIN_REL_GT:case s.BIN_REL_GTE:case s.BIN_REL_LT:case s.BIN_REL_LTE:return 5;case s.BIN_ADD:case s.BIN_SUB:return 6;case s.BIN_DIVIDE:case s.BIN_MULTI:return 7}return 0},t.getOperatorAssociativity=function(e){switch(e){case s.BIN_ASS_VAL:case s.BIN_ASS_ADD:case s.BIN_ASS_SUB:case s.BIN_ASS_MUL:case s.BIN_ASS_DIV:return-.5;case s.BIN_LOG_OR:case s.BIN_LOG_AND:case s.BIN_REL_EQ:case s.BIN_REL_NE:case s.BIN_REL_GT:case s.BIN_REL_GTE:case s.BIN_REL_LT:case s.BIN_REL_LTE:case s.BIN_ADD:case s.BIN_SUB:case s.BIN_DIVIDE:case s.BIN_MULTI:return.5}return 0},t.getBinaryParseOperator=function(e){switch(e){case l.TokenType.OP_PLUS:return s.BIN_ADD;case l.TokenType.OP_MINUS:return s.BIN_SUB;case l.TokenType.OP_MULTI:return s.BIN_MULTI;case l.TokenType.OP_DIVIDE:return s.BIN_DIVIDE;case l.TokenType.OP_REL_GT:return s.BIN_REL_GT;case l.TokenType.OP_REL_GTE:return s.BIN_REL_GTE;case l.TokenType.OP_REL_EQ:return s.BIN_REL_EQ;case l.TokenType.OP_REL_NE:return s.BIN_REL_NE;case l.TokenType.OP_REL_LT:return s.BIN_REL_LT;case l.TokenType.OP_REL_LTE:return s.BIN_REL_LTE;case l.TokenType.OP_LOG_AND:return s.BIN_LOG_AND;case l.TokenType.OP_LOG_OR:return s.BIN_LOG_OR;case l.TokenType.OP_ASS_VAL:return s.BIN_ASS_VAL;case l.TokenType.OP_ASS_ADD:return s.BIN_ASS_ADD;case l.TokenType.OP_ASS_SUB:return s.BIN_ASS_SUB;case l.TokenType.OP_ASS_MUL:return s.BIN_ASS_MUL;case l.TokenType.OP_ASS_DIV:return s.BIN_ASS_DIV}return s.NO_OP};var d;!function(e){e[e.SRC_SOURCE=0]="SRC_SOURCE",e[e.STAT_DECLARATION_PRIM=1]="STAT_DECLARATION_PRIM",e[e.STAT_DECLARATION_ARR=2]="STAT_DECLARATION_ARR",e[e.STAT_DECLARATION_ARR_REF=3]="STAT_DECLARATION_ARR_REF",e[e.STAT_SEQUENCE=4]="STAT_SEQUENCE",e[e.STAT_RETURN=5]="STAT_RETURN",e[e.STAT_RETURN_VOID=6]="STAT_RETURN_VOID",e[e.STAT_BREAK=7]="STAT_BREAK",e[e.STAT_CONTINUE=8]="STAT_CONTINUE",e[e.STAT_IF=9]="STAT_IF",e[e.STAT_IF_ELSE=10]="STAT_IF_ELSE",e[e.STAT_WHILE=11]="STAT_WHILE",e[e.STAT_DO=12]="STAT_DO",e[e.STAT_SWITCH=13]="STAT_SWITCH",e[e.STAT_FUNCTION=14]="STAT_FUNCTION",e[e.STAT_EXPR=15]="STAT_EXPR",e[e.SEG_DECLARATION_LIST=16]="SEG_DECLARATION_LIST",e[e.SEG_DECLARATION_ITEM=17]="SEG_DECLARATION_ITEM",e[e.SEG_SWITCH_BODY=18]="SEG_SWITCH_BODY",e[e.SEG_CASE_LABEL=19]="SEG_CASE_LABEL",e[e.SEG_DEFAULT_LABEL=20]="SEG_DEFAULT_LABEL",e[e.SEG_FUNCTION_PARAM_ITEM=21]="SEG_FUNCTION_PARAM_ITEM",e[e.SEG_FUNCTION_PARAM_LIST=22]="SEG_FUNCTION_PARAM_LIST",e[e.SEG_INVOKE_ARG_LIST=23]="SEG_INVOKE_ARG_LIST",e[e.SEG_ARRAY_DIM=24]="SEG_ARRAY_DIM",e[e.TYPE_ARRAY=25]="TYPE_ARRAY",e[e.TYPE_PRIMITIVE=26]="TYPE_PRIMITIVE",e[e.TYPE_ARRAY_REF=27]="TYPE_ARRAY_REF",e[e.EXPR_UNI=28]="EXPR_UNI",e[e.EXPR_BIN=29]="EXPR_BIN",e[e.EXPR_ARR_ACCESS=30]="EXPR_ARR_ACCESS",e[e.EXPR_FUNC_INVOKE=31]="EXPR_FUNC_INVOKE",e[e.VAL_CONSTANT_INT=32]="VAL_CONSTANT_INT",e[e.VAL_CONSTANT_FLOAT=33]="VAL_CONSTANT_FLOAT",e[e.VAL_CONSTANT_CHAR=34]="VAL_CONSTANT_CHAR",e[e.VAL_CONSTANT_BOOL=35]="VAL_CONSTANT_BOOL",e[e.VAL_IDENTIFIER=36]="VAL_IDENTIFIER",e[e.VAL_UNINITIALIZED=37]="VAL_UNINITIALIZED"}(d=t.ParseNodeType||(t.ParseNodeType={}));var c=function(){function e(t,r,n){var a=this;(0,i.default)(this,e),this.children=[],this.print=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log(""+" ".repeat(e*t)+d[a.type]+"   [1;35m"+a.getValueString()+"[0m"),a.children.map(function(r){return r.print(e,t+1)})},this.getValueString=function(){switch(a.type){case d.EXPR_UNI:case d.EXPR_BIN:return s[a.value];case d.TYPE_PRIMITIVE:return l.PrimitiveType[a.value];case d.VAL_UNINITIALIZED:return"no initialization"}return void 0===a.value?"":a.value},this.addChild=function(e){return e&&a.children.push(e),!!e},this.type=t,this.value=n,this.token=r}return(0,u.default)(e,[{key:"position",get:function(){return this.token?this.token.position:null}}],[{key:"createIdentifier",value:function(t,r){return new e(d.VAL_IDENTIFIER,r,t)}},{key:"createDeclarationPrimitive",value:function(t,r,n){var a=new e(d.STAT_DECLARATION_PRIM,n);return a.addChild(t),a.addChild(r),a}},{key:"createDeclarationArrayRef",value:function(t,r,n){var a=new e(d.STAT_DECLARATION_ARR_REF,n);return a.addChild(t),a.addChild(r),a}},{key:"createDeclarationArray",value:function(t,r,n){var a=new e(d.STAT_DECLARATION_ARR,n);return a.addChild(t),a.addChild(r),a}},{key:"createDeclarationList",value:function(t,r){var n=new e(d.SEG_DECLARATION_LIST,r);return t.map(function(e){return n.addChild(e)}),n}},{key:"createDeclarationItem",value:function(t,r,n){var a=new e(d.SEG_DECLARATION_ITEM,n);return r||(r=new e(d.VAL_UNINITIALIZED,n)),a.addChild(t),a.addChild(r),a}},{key:"createPrimitiveType",value:function(t,r){return new e(d.TYPE_PRIMITIVE,r,t)}},{key:"createArrayType",value:function(t,r,n){var a=new e(d.TYPE_ARRAY,n);return a.addChild(t),a.addChild(r),a}},{key:"createArrayRefType",value:function(t,r,n){var a=new e(d.TYPE_ARRAY_REF,n);return a.addChild(t),a.value=r,a}},{key:"createArrayAccess",value:function(t,r,n){var a=new e(d.EXPR_ARR_ACCESS,n);return a.addChild(t),a.addChild(r),a}},{key:"createExprConstantInt",value:function(t,r){return new e(d.VAL_CONSTANT_INT,r,t)}},{key:"createExprConstantFloat",value:function(t,r){return new e(d.VAL_CONSTANT_FLOAT,r,t)}},{key:"createExprConstantBool",value:function(t,r){return new e(d.VAL_CONSTANT_BOOL,r,t)}},{key:"createExprConstantChar",value:function(t,r){return new e(d.VAL_CONSTANT_CHAR,r,t)}},{key:"createExprUnary",value:function(t,r,n){var a=new e(d.EXPR_UNI,n,t);return a.addChild(r),a}},{key:"createExprBinary",value:function(t,r,n,a){var i=new e(d.EXPR_BIN,a,t);return i.addChild(r),i.addChild(n),i}}]),e}();t.ParseNode=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),a=r(16);t.buildInFunctions=[{id:-10,name:"show",description:"print a character to console",parameters:[{name:"ch",type:n.createValueType.prim(a.PrimitiveType.CHAR)}],return:n.createValueType.void()},{id:-11,name:"showInt",description:"print an integer to console",parameters:[{name:"num",type:n.createValueType.prim(a.PrimitiveType.INT)}],return:n.createValueType.void()},{id:-12,name:"showFloat",description:"print an float point number to console",parameters:[{name:"num",type:n.createValueType.prim(a.PrimitiveType.FLOAT)}],return:n.createValueType.void()},{id:-13,name:"showBool",description:"print an boolean value to console",parameters:[{name:"b",type:n.createValueType.prim(a.PrimitiveType.BOOL)}],return:n.createValueType.void()},{id:-20,name:"getInt",description:"request an integer from user",parameters:[],return:n.createValueType.prim(a.PrimitiveType.INT)},{id:-21,name:"getChar",description:"request a character from user",parameters:[],return:n.createValueType.prim(a.PrimitiveType.CHAR)},{id:-22,name:"getFloat",description:"get a float point number from user",parameters:[],return:n.createValueType.prim(a.PrimitiveType.FLOAT)},{id:-23,name:"getBool",description:"get a boolean value from user",parameters:[],return:n.createValueType.prim(a.PrimitiveType.BOOL)}]},function(e,t,r){"use strict";function n(e){r(208)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(209),i=r.n(a),o=r(210),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-96310722",null);t.default=l.exports},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(78),i=n(a),o=r(4),u=n(o),s=r(79),l=n(s),d=r(80),c=n(d),p=r(0),_=n(p),v=r(1),f=n(v);Object.defineProperty(t,"__esModule",{value:!0});var y=r(81),T="file-model",h=function(){function e(){var t=this;(0,_.default)(this,e),this.fileList=[];var r=window.localStorage.getItem(T);if(r){var n=JSON.parse(r);n.some&&!n.some(function(e){return void 0===e.name||void 0===e.savedSrc||void 0===e.src})&&(this.fileList=n),this.current=0}this.fileList&&this.fileList.length||(this.fileList=[],this.addNew(),this.loadTemplate("default")),window.addEventListener("storage",function(e){if(e.key===T&&e.oldValue!==e.newValue&&e.oldValue===t.getSerializeData()){var r=window.localStorage.getItem(T),n=r&&JSON.parse(r);if(!n||!n.length)return void t.deleteAll();t.fileList.forEach(function(e){var t=n.find(function(t){return t.name===e.name});t?(t.model=e.model,t.model&&t.model.setValue(t.src)):e.model&&e.model.dispose()}),t.fileList=n,t.current>=t.fileList.length&&(t.current=0)}}),setInterval(function(){window.localStorage.setItem(T,t.getSerializeData())},100)}return(0,f.default)(e,[{key:"addNew",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.findAvailableName(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.fileList.push({name:e,savedSrc:t,src:t,version:0}),this.current=this.fileList.length-1,window.monaco&&(this.currentFile.model=monaco.editor.createModel(this.currentFile.src,"Picol"))}},{key:"deleteAll",value:function(){var e=this.fileList;this.fileList=[],this.addNew(),e.map(function(e){e.model&&e.model.dispose()})}},{key:"saveFile",value:function(e){e.savedSrc=e.src,e.version++}},{key:"reload",value:function(e){e.src=e.savedSrc,e.model&&e.model.setValue(e.src)}},{key:"download",value:function(e){this.saveFile(e);var t=e.savedSrc,r=document.createElement("a");r.download=e.name+".picol",r.href=window.URL.createObjectURL(new Blob([t],{type:"octet/stream"})),r.click()}},{key:"loadLocalFile",value:function(e){var t=this,r=e.target.files,n=!0,a=!1,i=void 0;try{for(var o,u=(0,c.default)(r);!(n=(o=u.next()).done);n=!0){var s=o.value;!function(e){var r=e.name.endsWith(".picol")?e.name.replace(/\.picol$/,""):e.name,n=t.fileList.some(function(e){return e.name===r})?t.findAvailableName(r):r,a=new FileReader;a.readAsText(e),a.onload=function(e){t.addNew(n,e.target.result)}}(s)}}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}}},{key:"deleteFile",value:function(e){var t=this.fileList.indexOf(e);this.fileList.splice(t,1),e.model&&e.model.dispose(),this.current>t&&(this.current=this.current-1),0===this.fileList.length&&this.addNew(),(this.current<0||this.current>=this.fileList.length)&&(this.current=0)}},{key:"loadTemplate",value:function(e){this.currentFile.savedSrc===this.currentFile.src&&0===this.currentFile.version||this.addNew(),this.currentFile.src=this.currentFile.savedSrc=y.default[e]||"",this.currentFile.model&&this.currentFile.model.setValue(this.currentFile.src)}},{key:"select",value:function(e){this.current=e}},{key:"getSerializeData",value:function(){return(0,l.default)(this.fileList.map(function(e){return{name:e.name,savedSrc:e.savedSrc,src:e.src}}))}},{key:"findAvailableName",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"file",r=1;!0;r++){var n=function(r){var n=t+"-"+r;if(e.fileList.every(function(e){return e.name!==n}))return{v:n}}(r);if("object"===(void 0===n?"undefined":(0,u.default)(n)))return n.v}}},{key:"templateList",get:function(){return(0,i.default)(y.default).filter(function(e){return"default"!==e})}},{key:"currentFile",get:function(){return this.fileList[this.current]}}]),e}(),m=new h;t.default=m},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="// Default Sample\n// Feel free to explore the World of Picol\nint main (int v1, int v2) {\n  // Declare an matrix of matrix\n  float[2,2][2,2] a;\n  int i := 0, j := 100;\n  bool test := true;\n  while (i < j || test) {\n    i++;\n    j--;\n    if ( j - i > 2 * j && test) {\n      j := j + i;\n    }\n  }\n}\n\nmain(1, 2);\n",a={default:n,defaultSample:n,completeSample:"// Complete Sample\n// This sample tries to cover every language features in one file\n\n// Function Declaration\nint square(int value){\n  // single expression\n  value++;\n\n  // return expression\n  return value * value;\n}\n\nint main(){\n  // Declaration\n  float number := 3.0, result;\n\n  // Assignment, invocation, type-elevation\n  result := square(square(number));\n\n  if ( result > 10 ) {\n    while ( result > 10 ) {\n      result--;\n      if( result > 10 ){\n        show('C');\n        continue;\n      }else{\n        show('\\t'); // escape character\n        show('F');\n        show('\\n');\n        break;\n      }\n      show('U');\n    }\n  } else {\n    show('E');\n  }\n  return 123;\n  return;\n}\n\nint[10,10,10] arr;\nint i,j;\nswitch(arr[1,2,3]){\n  case 12: i++; break;\n  case 13: j++; break;\n  default: i *= j; break;\n}\n\n",functionSample:"// Sample file with nested function definition\nint a := 12;\nint b := 24;\nint[10,a,b] arr;\nint[,,,] arrRef := arr;\n\nvoid main(){\n  void show() {}\n\n  while(a < b) {\n    void func(int a, int b) {\n      show(a);\n      show(b);\n    }\n    func(a++, b--);\n  }\n\n  int a, b;\n}\n\nmain();\n",stackSample:"// various definitions\nint a, b, c, d;\nbool e, f, g, h;\nchar i, j, k, l;\nint[1,2] a_1;\nint[2,3] a_2;\n{\n    int a, b, c, d;\n    int e, f, g, h;\n}\nint funct(){\n    int a, b, c, d;\n    int e, f, g, h;\n    {\n        int a, b, c, d;\n        int e, f, g, h;\n    }\n}\n",fact:"// recursive factorial calculation\nint b;\n\nint fact(int a){\n    if(a == 0){\n        return 1;\n    }\n    return a * fact(a - 1);\n}\n\nb := fact(10);\n"};t.default=a},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(151),i=n(a),o=r(38),u=n(o),s=r(0),l=n(s),d=r(1),c=n(d);Object.defineProperty(t,"__esModule",{value:!0});var p=r(59),_=r(30),v=r(40),f=r(39),y=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,l.default)(this,e),this.isFunction=!1,this.children=[],this.stackPointer=0,this.nameTable={},this.parent=t,this.name=r||"",n?(this.stackPointer=0,this.isFunction=!0):this.stackPointer=t?t.stackPointer:0}return(0,c.default)(e,[{key:"addEntry",value:function(e){if(this.nameTable[e.name]=e,e.type!==f.SymbolEntryType.FUNCTION){var t=e.info;e.stackOffset=this.stackPointer,this.stackPointer+=t.size}}},{key:"getEntry",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.nameTable[e])return this.nameTable[e];if(t&&this.parent)return this.parent.getEntry(e,t);throw new _.GeneratorError("no symbol defined with name "+e+"\n please use checkName before getEntry",void 0)}},{key:"checkName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.nameTable[e]?{isDefined:!0,currentContext:t,entry:this.nameTable[e]}:this.parent?this.parent.checkName(e,!1):{isDefined:!1,currentContext:!1}}},{key:"addChildContext",value:function(e){this.children.push(e)}},{key:"dump",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t+2,n=" ".repeat(t);return[n+"Context: "+(this.name||"(unnamed)")].concat((0,u.default)((0,i.default)(this.nameTable).filter(function(e){return"__ob__"!==e}).map(function(t,r){return""+n+r+":"+e.nameTable[t].toString()})),(0,u.default)(this.children.map(function(e){return e.dump(r)}))).join("\n")}},{key:"isRoot",get:function(){return void 0===this.parent}}]),e}();t.ExecutionContext=y;var T=function(){function e(){(0,l.default)(this,e),this.err=new _.ErrorList,this.tempIndex=0,this.contextStack=[],this.quadrupleList=[],this.breakChain=[],this.continueChain=[],this.createGlobalContext()}return(0,c.default)(e,[{key:"pushContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.currentContext;return this.contextStack.push(new y(this.currentContext,e,t.isFunction||!1)),r.addChildContext(this.currentContext),this.currentContext}},{key:"popContext",value:function(){return this.contextStack.pop()}},{key:"wrapInContext",value:function(e,t,r){var n=this.pushContext(e,t);if(r(),n!==this.popContext())throw new _.GeneratorError("inconsistent context state",void 0)}},{key:"getEntryInfo",value:function(e){return this.currentContext.getEntry(e)}},{key:"getEntry",value:function(e){var t=this.getEntryInfo(e);return t.type===f.SymbolEntryType.FUNCTION?new v.QuadrupleArgQuadRef(t.asFunc.entryAddress,t.name):new v.QuadrupleArgTableRef(t.name,t.stackOffset)}},{key:"checkName",value:function(e){return this.currentContext.checkName(e)}},{key:"addQuadruple",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=new v.Quadruple;i.operator=e,i.argument1=t,i.argument2=r,i.result=n,i.comment=a,this.quadrupleList.push(i)}},{key:"getTempVar",value:function(){return new v.QuadrupleArgVarTemp(this.tempIndex++)}},{key:"backPatchChain",value:function(e,t){for(var r=e;0!==r;){var n=this.quadrupleList[r-1].result;r=n.quadIndex,n.quadIndex=t}}},{key:"mergeChain",value:function(e,t){if(0===t)return e;for(var r=t;;){var n=this.quadrupleList[r-1].result;if(0===(r=n.quadIndex)){n.quadIndex=e;break}}return t}},{key:"pushBreakChain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.breakChain.push(e)}},{key:"popBreakChain",value:function(){var e=this.breakChain.pop();if(void 0===e)throw new _.GeneratorError("pop empty break chain context",void 0);return e}},{key:"mergeIntoBreakChain",value:function(e){var t=this.breakChain.length;if(0===t)throw new _.GeneratorError("no break chain, break statement outside of breakable block",void 0);this.breakChain[t-1]=this.mergeChain(this.breakChain[t-1],e)}},{key:"pushContinueChain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.continueChain.push(e)}},{key:"popContinueChain",value:function(){var e=this.continueChain.pop();if(void 0===e)throw new _.GeneratorError("pop empty break chain context",void 0);return e}},{key:"mergeIntoContinueChain",value:function(e){var t=this.continueChain.length;if(0===t)throw new _.GeneratorError("no continue chain, continue statement outside of loop block",void 0);this.continueChain[t-1]=this.mergeChain(this.continueChain[t-1],e)}},{key:"createGlobalContext",value:function(){var e=this,t=new y(void 0,"default global");this.contextStack.push(t),p.buildInFunctions.map(function(t){e.addEntry.func(t.name,null);var r=e.getEntryInfo(t.name).asFunc;r.returnType=t.return,r.entryAddress=t.id,r.parameterList=t.parameters})}},{key:"currentHeapTop",get:function(){return this.currentContext.stackPointer}},{key:"currentContext",get:function(){return this.contextStack[this.contextStack.length-1]}},{key:"quadrupleTable",get:function(){return this.quadrupleList}},{key:"nextQuadrupleIndex",get:function(){return this.quadrupleList.length+1}},{key:"addEntry",get:function(){var e=this;return{func:function(t,r){return e.currentContext.addEntry(f.SymbolEntry.create.func(t,r))},prim:function(t,r,n){return e.currentContext.addEntry(f.SymbolEntry.create.prim(t,r,n))},arr:function(t,r,n,a){return e.currentContext.addEntry(f.SymbolEntry.create.arr(t,r,n,a))},arrRef:function(t,r,n,a){return e.currentContext.addEntry(f.SymbolEntry.create.arrRef(t,r,n,a))}}}}]),e}();t.GeneratorContext=T},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(87);r(88);var a=r(61),i=r(90),o=r(91),u=r(127);r(225),a.default.use(n.default),a.default.use(i.default),a.default.config.productionTip=!1;var s=new i.default({routes:[{path:"/",name:"Index",component:u.default}]});new a.default({el:"#app",router:s,template:"<App/>",components:{App:o.default}})},,function(e,t){},,,function(e,t,r){"use strict";function n(e){r(92)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(93),i=r.n(a),o=r(126),u=r(8),s=n,l=u(i.a,o.a,s,null,null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(3),l=n(s),d=r(5),c=n(d),p=r(7),_=n(p),v=r(4),f=n(v),y=r(9),T=n(y),h=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,T.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,f.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var m=r(10),E=function(e){function t(){return(0,u.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),t}(m.Vue);E=h([m.Component()],E),t.default=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(128)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(129),i=r.n(a),o=r(224),u=r(8),s=n,l=u(i.a,o.a,s,null,null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(38),i=n(a),o=r(72),u=n(o),s=r(2),l=n(s),d=r(0),c=n(d),p=r(1),_=n(p),v=r(3),f=n(v),y=r(5),T=n(y),h=r(7),m=n(h),E=r(4),I=n(E),P=r(9),C=n(P),A=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,C.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,I.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,m.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var k=r(10),g=r(77),O=r(138),N=r(140),R=r(166),L=r(173),S=r(177),b=r(189),x=r(201),w=r(60),M=r(212),D=r(21),V=function(){var e=window;e.monaco&&O.default.registerLanguage(e.monaco)},Q=function(e,t,r){return{startLineNumber:r.position.startLine,startColumn:r.position.startCol,endLineNumber:r.position.endLine||r.position.startLine,endColumn:r.position.endCol||r.position.startCol+r.literal.length,message:t,severity:monaco.Severity.Error,source:e}},B=function(e){function t(){(0,c.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments));return e.editorOptions=O.default.defaultMonacoEditorOptions,e.ast=null,e.tokenList=[],e.quadrupleTable=[],e.errorList=[],e.contextTree=null,e}return(0,T.default)(t,e),(0,_.default)(t,[{key:"editorMounted",value:function(e){this.editor=e,V();var t=this.editor;t.addAction({id:"editor-save-content",label:"Save Content to Storage",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S],run:function(e){g.default.saveFile(g.default.currentFile)}}),t.addAction({id:"editor-reload-content",label:"Reload Content from Storage",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_R],run:function(e){g.default.reload(g.default.currentFile)}}),t.addAction({id:"editor-delete-content",label:"Delete Current File",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyMod.Shift|monaco.KeyCode.Delete],run:function(e){g.default.deleteFile(g.default.currentFile)}})}},{key:"beforeUpdate",value:function(){var e=g.default.currentFile;e.model&&e.model===this.editor.getModel()||this.editor&&(e.model||(e.model=monaco.editor.createModel(e.src,"Picol")),this.editor.setModel(e.model),this.editorCodeChange(this.editor))}},{key:"editorCodeChange",value:function(e){var t=this,r=e.getModel(),n=r.getValue();g.default.currentFile.src=n,this.errorList=[];var a=[],o=(0,u.default)(D.default.lexer(n));this.tokenList=o,o.map(function(e){if(e.type===D.TokenType.INV_NO_MATCH||e.type===D.TokenType.INV_VALUE)return t.errorList.push(D.PicolError.lexerError("unknown token",e)),void a.push(Q("Lexer",e.value,e));e.type,D.TokenType.SP_WHITE}),monaco.editor.setModelMarkers(r,"Lexer",a);var s=[];try{var l=D.default.parser(o),d=l.ast;if(this.ast=d,l.errorList.length>0){var c;(c=this.errorList).push.apply(c,(0,i.default)(l.errorList)),l.errorList.map(function(e){var t=e.token||o[o.length-1];s.push(Q("Parser",e.message,t))})}}catch(e){console.log(e),this.errorList.push(e);var p=e.token||o[o.length-1];s.push(Q("Parser",e.message,p))}monaco.editor.setModelMarkers(r,"Parser",s);var _=[];try{if(this.ast){var v,f=D.default.generator(this.ast);this.contextTree=f.contextTree,this.quadrupleTable=f.quadrupleList;var y=f.errorList;(v=this.errorList).push.apply(v,(0,i.default)(y)),y.map(function(e){var t=e.token||o[o.length-1];_.push(Q("Generator",e.message,t))})}}catch(e){this.errorList.push(e);var T=e.token||o[o.length-1];_.push(Q("Generator",e.message,T))}monaco.editor.setModelMarkers(r,"Generator",_)}},{key:"selectPosition",value:function(e){this.editor.setSelection({startLineNumber:e.startLine,startColumn:e.startCol,endLineNumber:e.endLine,endColumn:e.endCol})}},{key:"code",get:function(){return g.default.currentFile.src}}]),t}(k.Vue);A([k.Lifecycle],B.prototype,"beforeUpdate",null),B=A([k.Component({name:"index",components:{MonacoEditor:R.default,ErrorList:N.default,TokenList:L.default,AstViewer:b.default,QuadViewer:w.default,Intermediate:x.default,FilePanel:S.default,Execution:M.default}})],B),t.default=B},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(139),a=r(81),i={base:"vs",inherit:!0,rules:[{token:"invalid",foreground:"af3a3a",fontStyle:"italic underline"},{token:"error",foreground:"ff0000",fontStyle:"bold underline italic"},{token:"type",foreground:"aa3afa",fontStyle:"bold"},{token:"operator",foreground:"aabafa",fontStyle:"bold"},{token:"delimiter",foreground:"5adaca",fontStyle:"bold"}],colors:{"editor.inactiveSelectionBackground":"#aabbcc"}},o=function(e){e.languages.register({id:"Picol"}),e.languages.setMonarchTokensProvider("Picol",n.default),e.editor.defineTheme("PicolTheme",i),e.editor.setTheme("PicolTheme")},u={acceptSuggestionOnCommitCharacter:!0,autoClosingBrackets:!0,selectOnLineNumbers:!0,roundedSelection:!0,readOnly:!1,cursorStyle:"line",automaticLayout:!0,glyphMargin:!0,renderWhitespace:"boundary"};t.default={registerLanguage:o,defaultMonacoEditorOptions:u,picolLanguage:n.default,picolSample:a.default,picolTheme:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={defaultToken:"invalid",keywords:["continue","switch","do","if","break","else","return","while","true","false","case","default"],symbols:/\+\+|--|\+=|-=|\+|-|:=|:|>=|>|<=|<|==|!=|!|&&|\|\||\*=|\/=|\*|\//,operators:[":",":=",">","<","!","~","==","<=",">=","!=","&&","||","++","--","+","-","*","/","+=","-=","*=","/="],typeKeywords:["bool","int","char","void","float"],brackets:[["{","}","delimiter.curly"],["(",")","delimiter.parenthesis"],["[","]","delimiter.square"]].map(function(e){return{open:e[0],close:e[1],token:e[2]}}),tokenizer:{root:[[/[a-zA-Z$_]\w*/,{cases:{"@typeKeywords":"type","@keywords":"keyword","@default":"identifier"}}],[/'(?:\\["'\\tnr]|[^\\'])'/,"string"],[/'(?:\\'|[^'])*'/,"error"],[/'(?:\\'|[^'])*/,"error"],[/"(?:\\"|[^\\"])*"/,"error"],[/"(?:\\"|[^\\"])*/,"error"],[/(?:0|(?:[1-9]\d*))\.\d+/,"number"],[/0|(?:[1-9]\d*)/,"number"],[/[{}()\[\]]/,"@brackets"],[/\/\/(.*)$/,{token:"comment"}],[/\/\*/,"comment","@comment"],[/[;,]/,"delimiter"],[/@symbols/,{cases:{"@operators":"operator"}}],[/[ \t]+/,"whitespace"],[/./,{token:"invalid"}]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]]},tokenPostfix:""};t.default=n},function(e,t,r){"use strict";function n(e){r(141)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(142),i=r.n(a),o=r(165),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-5bfd0748",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=r(21),C=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.errorList=I.p({type:Array}),e.filter="",e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"getSeverity",value:function(e){return P.ErrorSeverity[e]}},{key:"getIconName",value:function(e){return{INFO:"info",WARN:"warning",ERROR:"error",FATAL:"block"}[this.getSeverity(e)]}},{key:"selectPosition",value:function(e){this.$emit("selectPosition",e)}}]),t}(I.Vue);E([I.Prop],C.prototype,"errorList",void 0),C=E([I.Component({name:"error-list"})],C),t.default=C},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(82),i=n(a),o=r(80),u=n(o),s=r(57),l=n(s);Object.defineProperty(t,"__esModule",{value:!0});var d=r(16),c={isNewLine:function(e){return"\n\r".indexOf(e)>=0},isWhiteSpace:function(e){return" \t\n\r".indexOf(e)>=0},isIdentifierStart:function(e){return/[A-Za-z_\$]/.test(e)},isIdentifierMid:function(e){return/[A-Za-z_\$0-9]/.test(e)},isDigit:function(e){return/\d/.test(e)},peekIf:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=0,i="";;a++){var o=e(a);if(void 0===o||n&&c.isNewLine(o)||!t(o,a))return i;if(a>=r)break;i+=o}return""}},p=[function(e,t,r,n){if(c.isWhiteSpace(e)){var a=c.peekIf(r,c.isWhiteSpace,1/0,!1),i=(new d.RangePosition).markStartPoint(n());return t(a.length-1),i.markEndPoint(n()),new d.Token(d.TokenType.SP_WHITE,a,i)}return null},function(e,t,r,n){if("/"===e&&"/"===r()){var a=c.peekIf(r,function(){return!0}),i=(new d.RangePosition).markStartPoint(n());return t(a.length-1+1),i.markEndPoint(n()),new d.Token(d.TokenType.SP_COMMENT_LN,a,i)}return null},function(e,t,r,n){if("/"===e&&"*"===r()){var a=c.peekIf(r,function(e,t){return!(t>=4&&"*"===r(t-2)&&"/"===r(t-1))},1/0,!1),i=(new d.RangePosition).markStartPoint(n());return t(a.length-1),i.markEndPoint(n()),a.endsWith("*/")?new d.Token(d.TokenType.SP_COMMENT_LN,a,i):new d.Token(d.TokenType.INV_NO_MATCH,a,i,"unclosed multiline comment"+a)}return null},function(e,t,r,n){if(c.isIdentifierStart(e)){var a=c.peekIf(r,c.isIdentifierMid),i=(new d.RangePosition).markStartPoint(n());return t(a.length-1),i.markEndPoint(n()),d.Token.createIdentifierToken(a,i)}return null},function(e,t,r,n){var a="+-*/<>=:&|~!",i=(0,l.default)({},n());if(a.indexOf(e)>=0){if(a.indexOf(r())>=0){var o=d.Token.createOperatorToken(e+r(),d.RangePosition.fromPoint(i));if(o)return t(1),o.position.markEndPoint(n()),o}var u=d.Token.createOperatorToken(e,d.RangePosition.fromPoint(i));if(u)return u}return null},function(e,t,r,n){var a=d.RangePosition.fromPoint(n());switch(e){case";":return new d.Token(d.TokenType.DIM_SEMICOLON,";",a);case",":return new d.Token(d.TokenType.DIM_COMMA,",",a);case":":return new d.Token(d.TokenType.DIM_COLON,":",a);case"(":return new d.Token(d.TokenType.DIM_L_PAREN,"(",a);case")":return new d.Token(d.TokenType.DIM_R_PAREN,")",a);case"{":return new d.Token(d.TokenType.DIM_L_CURLY,"{",a);case"}":return new d.Token(d.TokenType.DIM_R_CURLY,"}",a);case"[":return new d.Token(d.TokenType.DIM_L_BRACKET,"[",a);case"]":return new d.Token(d.TokenType.DIM_R_BRACKET,"]",a)}return null},function(e,t,r,n){if(c.isDigit(e)){for(var a=1,i=!1,o=parseInt(e,10),u=e,s=.1,l=d.RangePosition.fromPoint(n());;){if(e=r(a),c.isDigit(e))i?(o+=s*parseInt(e,10),s/=10):o=10*o+parseInt(e,10);else{if(i||"."!==e)break;i=!0}a++,u+=e}if(t(a-1),l.markEndPoint(n()),i)o=parseFloat(u);else if((o=parseInt(u,10))<-Math.pow(2,15)||o>Math.pow(2,15)-1)return new d.Token(d.TokenType.INV_VALUE,u,l,"invalid integer literal");return new d.Token(i?d.TokenType.VAL_NUM_FLOAT:d.TokenType.VAL_NUM_INT,u,l,o)}return null},function(e,t,r,n){var a="\\tnr'\"";if("'"===e||'"'===e){for(var i=1,o=e,u="",s=null,l=d.RangePosition.fromPoint(n()),p=e;;){if(void 0===(e=r(i++)))break;if(o+=e,"\\"===e){var _=a.indexOf(r(i+1));_>=0&&(e=r(i++),o+=e,u+=a[_])}else{if(e===p)break;if(c.isNewLine(e)){s="require close quote";break}u+=e}}return t(i-1),l.markEndPoint(n()),s=s||u.length>1&&"only char (not string) supported",s=s||0===u.length&&"char cannot be empty",s=s||'"'===p&&"char should be quoted by '",s?new d.Token(d.TokenType.INV_VALUE,o,l,s):new d.Token(d.TokenType.VAL_CHAR,o,l,u)}return null}];t.lexer=i.default.mark(function e(t){var r,n,a,o,s,l,_,v,f,y,T,h,m;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.length,n={offsetStart:-1,line:0,col:1},a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e>0&&e--;){if(++n.offsetStart===r)return"";0===n.offsetStart||c.isNewLine(t[n.offsetStart-1])?(n.line++,n.col=1):n.col++}return t[n.offsetStart]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t[n.offsetStart+e]},s=function(){return n};case 5:if(!(n.offsetStart<r)){e.next=41;break}if(l=a(),!l.length){e.next=39;break}_=!0,v=!1,f=void 0,e.prev=11,y=(0,u.default)(p);case 13:if(_=(T=y.next()).done){e.next=23;break}if(h=T.value,!(m=h(l,a,o,s))){e.next=20;break}return e.next=19,m;case 19:return e.abrupt("continue",5);case 20:_=!0,e.next=13;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(11),v=!0,f=e.t0;case 29:e.prev=29,e.prev=30,!_&&y.return&&y.return();case 32:if(e.prev=32,!v){e.next=35;break}throw f;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.next=39,new d.Token(d.TokenType.INV_NO_MATCH,l,d.RangePosition.fromPoint(n),"invalid token '"+l+"'");case 39:e.next=5;break;case 41:return e.next=43,new d.Token(d.TokenType.EOF,"",d.RangePosition.fromPoint(n));case 43:case"end":return e.stop()}},e,this,[[11,25,29,37],[30,,32,36]])})},,,,,,function(e,t,r){"use strict";var n=r(38),a=function(e){return e&&e.__esModule?e:{default:e}}(n);Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),o=r(58),u=r(16),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.peek(t)&&e.peek(t).type===u.TokenType.EOF},l=function(e){for(;!s(e)&&!u.TokenTypeUtil.isCloseDelimiter(e.get().type);)e.adv()},d=function e(t,r){var n=t.get();if(n.type!==u.TokenType.DIM_L_BRACKET)return r;var s=T(t);if(0===s.children.length)return t.err.error(i.ParserError.expect("Array dimension",n)),o.ParseNode.createArrayAccess(r,s,r.token);if(r.type===o.ParseNodeType.EXPR_ARR_ACCESS){var l;return(l=r.children[1].children).push.apply(l,(0,a.default)(s.children)),e(t,r)}return e(t,o.ParseNode.createArrayAccess(r,s,r.token))},c=function(e,t){var r=e.get(),n=new o.ParseNode(o.ParseNodeType.EXPR_FUNC_INVOKE,t.token);if(r.type!==u.TokenType.DIM_L_PAREN)return e.err.error(i.ParserError.expect("(",r)),n;e.adv();var a=new o.ParseNode(o.ParseNodeType.SEG_INVOKE_ARG_LIST,t.token);if(e.get().type===u.TokenType.DIM_R_PAREN)return e.adv(),n.addChild(t),n.addChild(a),n;for(;;){var l=f(e);null===l&&e.err.error(i.ParserError.expect("dim expr",e.get())),a.addChild(l);var d=e.get();if(d.type!==u.TokenType.DIM_COMMA){if(d.type===u.TokenType.DIM_R_PAREN)return e.adv(),n.addChild(t),n.addChild(a),n;s(e)&&e.err.throw(i.ParserError.error("incomplete function invocation",d)),e.err.error(i.ParserError.expect(") ,",d)),e.adv()}else e.adv()}},p=function(e,t){var r=e.get();return r.type===u.TokenType.OP_INC_INC?(e.adv(),o.ParseNode.createExprUnary(o.ParseOperatorType.UNI_INC_POS,t,r)):r.type===u.TokenType.OP_INC_DEC?(e.adv(),o.ParseNode.createExprUnary(o.ParseOperatorType.UNI_DEC_POS,t,r)):t},_=function e(t){var r=function(r,n){t.adv();var a=e(t);return o.ParseNode.createExprUnary(r,a,n)},n=t.get();switch(n.type){case u.TokenType.VAL_NUM_INT:return t.adv(),o.ParseNode.createExprConstantInt(n.value,n);case u.TokenType.VAL_NUM_FLOAT:return t.adv(),o.ParseNode.createExprConstantFloat(n.value,n);case u.TokenType.VAL_BOOL:return t.adv(),o.ParseNode.createExprConstantBool(n.value,n);case u.TokenType.VAL_CHAR:return t.adv(),o.ParseNode.createExprConstantChar(n.value,n);case u.TokenType.INV_VALUE:return t.adv(),o.ParseNode.createExprConstantInt(0,n);case u.TokenType.DIM_L_PAREN:t.adv();var a=f(t);if(null===a)throw i.ParserError.expect("expression",t.get());var s=t.get();if(null===s||s.type!==u.TokenType.DIM_R_PAREN)throw i.ParserError.expect(")",s);return t.adv(),p(t,a);case u.TokenType.ID_NAME:var l=o.ParseNode.createIdentifier(n.value,n),_=t.adv();if(null!==_&&_.type===u.TokenType.DIM_L_BRACKET){var v=d(t,l);return v&&p(t,v)}return null!=_&&_.type===u.TokenType.DIM_L_PAREN?c(t,l):l&&p(t,l);case u.TokenType.OP_PLUS:return r(o.ParseOperatorType.UNI_POSIT,n);case u.TokenType.OP_MINUS:return r(o.ParseOperatorType.UNI_NEGATE,n);case u.TokenType.OP_LOG_NOT:return r(o.ParseOperatorType.UNI_NOT,n);case u.TokenType.OP_INC_INC:return r(o.ParseOperatorType.UNI_INC_PRE,n);case u.TokenType.OP_INC_DEC:return r(o.ParseOperatorType.UNI_DEC_PRE,n);case u.TokenType.EOF:t.err.throw(i.ParserError.error("incomplete expression",t.get()))}return t.err.error(i.ParserError.error("unknown token",t.get())),t.adv(),e(t)},v=function e(t,r,n,a,i){for(var l=n,d=a,c=i,p=o.getOperatorPriority(a)+o.getOperatorAssociativity(a);;){var v=_(t),f=null;if(f=t.get(),s(t)||!u.TokenTypeUtil.isBinOperator(f.type))return o.ParseNode.createExprBinary(d,l,v,c);var y=o.getBinaryParseOperator(f.type),T=o.getOperatorPriority(y);if(T<r)return o.ParseNode.createExprBinary(d,l,v,c);if(t.adv(),T<p)l=o.ParseNode.createExprBinary(d,l,v,c),d=y,c=f,p=T+o.getOperatorAssociativity(y);else{var h=e(t,p,v,y,f);if(l=o.ParseNode.createExprBinary(d,l,h,c),f=t.get(),s(t)||!u.TokenTypeUtil.isBinOperator(f.type))return l;if(d=o.getBinaryParseOperator(f.type),c=f,(p=o.getOperatorPriority(d))<r)return l;t.adv(),p+=o.getOperatorAssociativity(d)}}},f=function(e){if(e.get().type===u.TokenType.DIM_SEMICOLON||s(e))return e.err.error(i.ParserError.expect("expression",e.get())),o.ParseNode.createPrimitiveType(u.PrimitiveType.VOID,e.get());var t=_(e),r=e.get();return s(e)&&e.err.throw(i.ParserError.error("incomplete expression",r)),u.TokenTypeUtil.isBinOperator(r.type)?(e.adv(),v(e,0,t,o.getBinaryParseOperator(r.type),r)):t},y=function e(t,r){var n=t.get();if(n.type!==u.TokenType.DIM_L_BRACKET)return r||null;for(var a=1;;){var s=t.adv();if(s.type!==u.TokenType.DIM_COMMA){if(s.type===u.TokenType.DIM_R_BRACKET){if(t.adv(),r.type===o.ParseNodeType.TYPE_ARRAY_REF)return r.value+=a,e(t,r);return e(t,o.ParseNode.createArrayRefType(r,a,r.token))}if(s.type===u.TokenType.EOF&&t.err.throw(i.ParserError.expect(", ]",n)),t.err.error(i.ParserError.expect(", ]",n)),u.TokenTypeUtil.isCloseDelimiter(s.type)){return e(t,o.ParseNode.createArrayRefType(r,a,r.token))}t.adv()}else a++}},T=function(e){var t=e.get();t.type!==u.TokenType.DIM_L_BRACKET?e.err.error(i.ParserError.expect("[",t)):e.adv();for(var r=new o.ParseNode(o.ParseNodeType.SEG_ARRAY_DIM,t);;){var n=f(e);r.addChild(n);var a=e.get();if(a.type!==u.TokenType.DIM_COMMA){if(a.type===u.TokenType.DIM_R_BRACKET)return e.adv(),r;if(s(e)&&e.err.throw(i.ParserError.error("incomplete array dimension",a)),e.err.error(i.ParserError.expect("] ,",a)),u.TokenTypeUtil.isCloseDelimiter(a.type))return r;e.adv()}else e.adv()}},h=function e(t,r){if(t.get().type!==u.TokenType.DIM_L_BRACKET)return r||null;var n=T(t);if(r.type===o.ParseNodeType.TYPE_ARRAY){var i;return(i=r.children[1].children).push.apply(i,(0,a.default)(n.children)),e(t,r)}return e(t,o.ParseNode.createArrayType(r,n,r.token))},m=function(e){var t=e.get(),r=o.ParseNode.createPrimitiveType(t.value,t);if(null===(t=e.adv())||t.type!==u.TokenType.DIM_L_BRACKET)return r;var n=e.peek(1);return null===n||n.type!==u.TokenType.DIM_R_BRACKET&&n.type!==u.TokenType.DIM_COMMA?h(e,r):y(e,r)},E=function(e){var t=e.get();t.type!==u.TokenType.DIM_L_CURLY?e.err.error(i.ParserError.expect("{",t)):e.adv();for(var r=new o.ParseNode(o.ParseNodeType.STAT_SEQUENCE,t);;){var n=e.get();if(s(e)&&e.err.throw(i.ParserError.expect("}",n)),n.type===u.TokenType.DIM_R_CURLY)return e.adv(),r;var a=M(e);r.children.push(a)}},I=function(e){var t=e.get();if(t.type!==u.TokenType.KW_RETURN?e.err.error(i.ParserError.expect("return",t)):e.adv(),e.get().type===u.TokenType.DIM_SEMICOLON)return e.adv(),new o.ParseNode(o.ParseNodeType.STAT_RETURN_VOID,t);var r=f(e),n=e.get();n.type!==u.TokenType.DIM_SEMICOLON?e.err.error(i.ParserError.expect(";",n)):e.adv();var a=new o.ParseNode(o.ParseNodeType.STAT_RETURN,t);return a.addChild(r),a},P=function(e){var t=e.get();t.type!==u.TokenType.KW_IF?e.err.error(i.ParserError.expect("if",t)):e.adv();var r=e.get();r.type!==u.TokenType.DIM_L_PAREN?e.err.error(i.ParserError.expect("(",r)):e.adv();var n=f(e),a=e.get();a.type!==u.TokenType.DIM_R_PAREN?e.err.error(i.ParserError.expect(")",a)):e.adv();var s=M(e),l=e.get();if(l.type!==u.TokenType.KW_ELSE){var d=new o.ParseNode(o.ParseNodeType.STAT_IF,t);return d.addChild(n),d.addChild(s),d}e.adv();var c=M(e),p=new o.ParseNode(o.ParseNodeType.STAT_IF_ELSE,l);return p.addChild(n),p.addChild(s),p.addChild(c),p},C=function(e){var t=e.get();t.type!==u.TokenType.KW_BREAK?e.err.error(i.ParserError.expect("break",t)):e.adv();var r=e.get();return r.type!==u.TokenType.DIM_SEMICOLON?e.err.error(i.ParserError.expect(";",r)):e.adv(),new o.ParseNode(o.ParseNodeType.STAT_BREAK,t)},A=function(e){var t=e.get();t.type!==u.TokenType.KW_CONTINUE?e.err.error(i.ParserError.expect("continue",t)):e.adv();var r=e.get();return r.type!==u.TokenType.DIM_SEMICOLON?e.err.error(i.ParserError.expect(";",r)):e.adv(),new o.ParseNode(o.ParseNodeType.STAT_CONTINUE,t)},k=function(e){var t=e.get();t.type!==u.TokenType.DIM_L_CURLY?e.err.error(i.ParserError.expect("{",t)):e.adv();for(var r=new o.ParseNode(o.ParseNodeType.SEG_SWITCH_BODY,t);;){var n=e.get();if(n.type===u.TokenType.DIM_R_CURLY)return e.adv(),r;if(n.type!==u.TokenType.KW_CASE)if(n.type!==u.TokenType.KW_DEFAULT){var a=M(e);r.children.push(a)}else{e.adv();var s=e.get();s.type!==u.TokenType.DIM_COLON?e.err.error(i.ParserError.expect(":",s)):e.adv(),r.addChild(new o.ParseNode(o.ParseNodeType.SEG_DEFAULT_LABEL,n))}else{e.adv();var l=f(e),d=e.get();d.type!==u.TokenType.DIM_COLON?e.err.error(i.ParserError.expect(":",d)):e.adv();var c=new o.ParseNode(o.ParseNodeType.SEG_CASE_LABEL,n);c.addChild(l),r.addChild(c)}}},g=function(e){var t=e.get();t.type!==u.TokenType.KW_SWITCH?e.err.error(i.ParserError.expect("switch",t)):e.adv();var r=e.get();r.type!==u.TokenType.DIM_L_PAREN?e.err.error(i.ParserError.expect("(",r)):e.adv();var n=f(e),a=e.get();a.type!==u.TokenType.DIM_R_PAREN?e.err.error(i.ParserError.expect(")",a)):e.adv();var s=k(e),l=new o.ParseNode(o.ParseNodeType.STAT_SWITCH,t);return l.addChild(n),l.addChild(s),l},O=function(e){var t=e.get();t.type!==u.TokenType.KW_DO?e.err.error(i.ParserError.expect("do",t)):e.adv();var r=M(e);null===r&&e.err.error(i.ParserError.error("the loop block is required",e.get()));var n=e.get();n.type!==u.TokenType.KW_WHILE?e.err.error(i.ParserError.expect("while",n)):e.adv();var a=e.get();a.type!==u.TokenType.DIM_L_PAREN?e.err.error(i.ParserError.expect("(",a)):e.adv();var s=f(e),l=e.get();l.type!==u.TokenType.DIM_R_PAREN?e.err.error(i.ParserError.expect(")",l)):e.adv();var d=e.get();d.type!==u.TokenType.DIM_SEMICOLON?e.err.error(i.ParserError.expect(";",d)):e.adv();var c=new o.ParseNode(o.ParseNodeType.STAT_DO,t);return c.addChild(r),c.addChild(s),c},N=function(e){var t=e.get();t.type!==u.TokenType.KW_WHILE&&e.err.error(i.ParserError.expect("while",t));var r=e.adv();r.type!==u.TokenType.DIM_L_PAREN?e.err.error(i.ParserError.expect("(",r)):e.adv();var n=f(e),a=e.get();a.type!==u.TokenType.DIM_R_PAREN?e.err.error(i.ParserError.expect(")",a)):e.adv();var s=M(e),l=new o.ParseNode(o.ParseNodeType.STAT_WHILE,t);return l.addChild(n),l.addChild(s),l},R=function(e){var t=new o.ParseNode(o.ParseNodeType.SEG_FUNCTION_PARAM_LIST,e.get()),r=e.get();if(null===r||r.type===u.TokenType.DIM_R_PAREN)return t;for(;;){var n=m(e);null===n&&e.err.error(i.ParserError.expect("type",e.get()));var a=e.get();a.type!==u.TokenType.ID_NAME&&e.err.error(i.ParserError.expect("id",e.get())),e.adv();var s=new o.ParseNode(o.ParseNodeType.SEG_FUNCTION_PARAM_ITEM,a);s.addChild(n),s.addChild(o.ParseNode.createIdentifier(a.value,a)),t.addChild(s);var l=e.get();if(l.type===u.TokenType.DIM_R_PAREN)return t;l.type!==u.TokenType.DIM_COMMA&&e.err.error(i.ParserError.expect(",",l)),e.adv()}},L=function(e,t,r){t&&r||e.err.throw(i.ParserError.error("function type and identifer are required",e.get()));var n=e.get();n.type!==u.TokenType.DIM_L_PAREN?e.err.error(i.ParserError.expect("(",n)):e.adv();var a=R(e),s=e.get();null===s||s.type!==u.TokenType.DIM_R_PAREN?e.err.error(i.ParserError.expect(")",s)):e.adv();var l=E(e),d=new o.ParseNode(o.ParseNodeType.STAT_FUNCTION,r.token);return d.addChild(r),d.addChild(t),d.addChild(a),d.addChild(l),d},S=function(e,t){var r=e.get();if(console.log(r),r.type===u.TokenType.DIM_COMMA||r.type===u.TokenType.DIM_SEMICOLON)return o.ParseNode.createDeclarationItem(t,void 0,t.token);if(r.type===u.TokenType.OP_ASS_VAL){e.adv();var n=f(e);return o.ParseNode.createDeclarationItem(t,n,t.token)}return e.err.error(i.ParserError.expect(":= , ;",r)),l(e),o.ParseNode.createDeclarationItem(t,void 0,t.token)},b=function(e,t){for(var r=[],n=e.get(),a=t;;){if(a||(n.type!==u.TokenType.ID_NAME?e.err.error(i.ParserError.expect("identifier",n)):a=o.ParseNode.createIdentifier(n.value,n),n=e.adv()),a){var d=S(e,a);a=null,r.push(d)}if(n=e.get(),n.type!==u.TokenType.DIM_COMMA&&n.type!==u.TokenType.DIM_SEMICOLON&&(e.err.error(i.ParserError.expect(", ;",n)),l(e)),s(e)&&e.err.throw(i.ParserError.error("incomplete declare list",e.get())),e.adv(),n.type===u.TokenType.DIM_SEMICOLON)return o.ParseNode.createDeclarationList(r,n);n=e.get()}},x=function(e){var t=e.get(),r=m(e);if(t=e.get(),t.type!==u.TokenType.ID_NAME)throw i.ParserError.expect("identifier",t);e.adv();var n=o.ParseNode.createIdentifier(t.value,t);if(t=e.get(),![u.TokenType.OP_ASS_VAL,u.TokenType.DIM_COMMA,u.TokenType.DIM_L_PAREN,u.TokenType.DIM_SEMICOLON].includes(t.type))throw i.ParserError.expect(["(",":=",";",","].join(" "),t);if(t.type===u.TokenType.DIM_L_PAREN)return L(e,r,n);if(r.type===o.ParseNodeType.TYPE_ARRAY){if(t.type===u.TokenType.DIM_SEMICOLON)e.adv();else if(t.type===u.TokenType.DIM_COMMA)for(e.err.error(i.ParserError.error("array declaration can only specify on variable",t));e.adv().type!==u.TokenType.DIM_SEMICOLON&&!s(e););else if(t.type===u.TokenType.OP_ASS_VAL)for(e.err.error(i.ParserError.error("array declaration cannot assign value",t));e.adv().type!==u.TokenType.DIM_SEMICOLON&&!s(e););return o.ParseNode.createDeclarationArray(r,n,r.token)}if(r.type===o.ParseNodeType.TYPE_ARRAY_REF){if([u.TokenType.OP_ASS_VAL,u.TokenType.DIM_COMMA,u.TokenType.DIM_SEMICOLON].includes(t.type)){var a=b(e,n);return o.ParseNode.createDeclarationArrayRef(r,a,r.token)}}else if(r.type===o.ParseNodeType.TYPE_PRIMITIVE&&[u.TokenType.OP_ASS_VAL,u.TokenType.DIM_COMMA,u.TokenType.DIM_SEMICOLON].includes(t.type)){var l=b(e,n);return o.ParseNode.createDeclarationPrimitive(r,l,r.token)}throw i.ParserError.error("",t)},w=function(e){var t=e.get();if(u.TokenTypeUtil.isType(t.type))return x(e);var r=f(e),n=e.get();n.type!==u.TokenType.DIM_SEMICOLON?e.err.error(i.ParserError.expect(";",n)):e.adv();var a=new o.ParseNode(o.ParseNodeType.STAT_EXPR,t);return a.addChild(r),a},M=function(e){var t=e.get();s(e)&&e.err.throw(i.ParserError.expect("statement",t));var r=null;switch(t.type){case u.TokenType.DIM_L_CURLY:r=E(e);break;case u.TokenType.KW_RETURN:r=I(e);break;case u.TokenType.KW_IF:r=P(e);break;case u.TokenType.KW_BREAK:r=C(e);break;case u.TokenType.KW_CONTINUE:r=A(e);break;case u.TokenType.KW_SWITCH:r=g(e);break;case u.TokenType.KW_DO:r=O(e);break;case u.TokenType.KW_WHILE:r=N(e);break;default:r=w(e)}return r},D=function(e){for(var t=new o.ParseNode(o.ParseNodeType.SRC_SOURCE,e.get());!s(e);){var r=M(e);if(r)t.children.push(r);else{if(e.err.error(i.ParserError.error("cannot parse token",e.get())),s(e))break;e.adv()}}return t};t.parser=function(e){var t=0,r=e.filter(function(e){return!u.TokenTypeUtil.isWhiteSpace(e.type)}),n=new i.ErrorList,a={get:function(){return r[t]},peek:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r[t+e]},adv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r[t+=e]},err:n},o=null;try{o=D(a)}catch(e){var s=e;if(s.name!==i.errorName.parser)throw e;e!==n.errorList[n.errorList.length-1]&&n.fatal(e)}return{errorList:n.errorList,ast:o}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(1),i=n(a),o=r(0),u=n(o);Object.defineProperty(t,"__esModule",{value:!0});var s=r(83),l=r(30),d=r(58),c=r(40),p=r(39),_=r(16),v=0+p.getPrimitiveSize("ref"),f=c.QuadrupleArgNull.Q_NULL,y=function e(t){(0,u.default)(this,e),this.isValid=!0,this.chain=t},T=function(){function e(t,r){(0,u.default)(this,e),this.isValid=!0,this.isBoolean=!1,this.trueChain=0,this.falseChain=0,this.generatedValue=t,r&&(this.entryType=r)}return(0,i.default)(e,[{key:"toBoolean",value:function(e){if(!this.isBoolean){var t=e.nextQuadrupleIndex;this.isBoolean=!0,this.trueChain=t,this.falseChain=t+1,e.addQuadruple(c.QuadrupleOperator.J_NEZ,this.value,f,new c.QuadrupleArgQuadRef(0),"convert value to boolean: value is truly"),e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"convert value to boolean: value is falsy")}}},{key:"toValue",value:function(e){if(!this.isBoolean){if(this.value.type===c.QuadrupleArgType.ARRAY_ADDR){var t=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.A_RET,this.value,f,t,"retrieve value of array reference"),t}return this.value}var r=e.getTempVar(),n=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.V_ASS,new c.QuadrupleArgValue(_.PrimitiveType.BOOL,!0),f,r,"convert boolean to value: true"),e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(n+3),"convert boolean to value: jump"),e.addQuadruple(c.QuadrupleOperator.V_ASS,new c.QuadrupleArgValue(_.PrimitiveType.BOOL,!1),f,r,"convert boolean to value: false"),e.backPatchChain(this.trueChain,n),e.backPatchChain(this.falseChain,n+2),this.trueChain=this.falseChain=0,this.isBoolean=!1,this.generatedValue=r,this.value}},{key:"toRef",value:function(e,t){if(this.isBoolean)throw new l.GeneratorError("boolean cannot be used as reference value",void 0);switch(this.value.type){case c.QuadrupleArgType.TABLE_REF:case c.QuadrupleArgType.ARRAY_ADDR:return this.value;case c.QuadrupleArgType.VAR_TEMP:case c.QuadrupleArgType.NULL:case c.QuadrupleArgType.VALUE_INST:default:throw new l.GeneratorError("value cannot be used as reference",t)}}},{key:"value",get:function(){return this.generatedValue?this.generatedValue:f}}],[{key:"newBoolExpr",value:function(t,r){var n=new e;return n.trueChain=t,n.falseChain=r,n.isBoolean=!0,n.entryType=p.createValueType.prim(_.PrimitiveType.BOOL),n}},{key:"newPrimValue",value:function(t,r){var n=new c.QuadrupleArgValue(t,r);return console.log("set value type as "+_.PrimitiveType[t]),new e(n,p.createValueType.prim(t))}},{key:"newQuadrupleRef",value:function(t,r){return new e(t,r)}}]),e}(),h={valid:function(){return{isValid:!0}}},m=function(e){switch(e.type){case d.ParseNodeType.TYPE_ARRAY:return p.createValueType.arr(e.children[0].children[0].value,e.children[0].children[1].children.length);case d.ParseNodeType.TYPE_ARRAY_REF:return p.createValueType.arrRef(e.children[0].value,e.value);case d.ParseNodeType.TYPE_PRIMITIVE:return p.createValueType.prim(e.value)}return p.createValueType.void()},E=function(e,t,r,n){var a=t.entryType.primitiveType;if(a===r)return t.toValue(e);if(a===_.PrimitiveType.INT&&r===_.PrimitiveType.FLOAT){var i=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.C_I2F,t.toValue(e),f,i),i}if(a===_.PrimitiveType.INT&&r===_.PrimitiveType.INT){var o=e.getTempVar();return e.err.warn(new l.GeneratorError("precision loss in type conversion from int to char",n)),e.addQuadruple(c.QuadrupleOperator.C_I2C,t.toValue(e),f,o),o}if(a===_.PrimitiveType.FLOAT&&r===_.PrimitiveType.INT){var u=e.getTempVar();return e.err.warn(new l.GeneratorError("precision loss in type conversion from float to int",n)),e.addQuadruple(c.QuadrupleOperator.C_F2I,t.toValue(e),f,u),u}if(a===_.PrimitiveType.CHAR&&r===_.PrimitiveType.INT){var s=e.getTempVar();return e.err.warn(new l.GeneratorError("implicit type conversion from char to int",n)),e.addQuadruple(c.QuadrupleOperator.C_C2I,t.toValue(e),f,s),s}return r===_.PrimitiveType.BOOL?(e.err.warn(new l.GeneratorError("precision loss in type conversion to boolean value",n)),t.toBoolean(e),t.toValue(e)):(e.err.error(new l.GeneratorError("no viable conversion exists from "+_.PrimitiveType[a]+" to "+_.PrimitiveType[r],n)),t.toValue(e))},I=function(e,t,r,n){var a=r.toRef(e,n);a.type===c.QuadrupleArgType.TABLE_REF?e.addQuadruple(c.QuadrupleOperator.V_ASS,t,f,a):a.type===c.QuadrupleArgType.ARRAY_ADDR&&e.addQuadruple(c.QuadrupleOperator.A_ASS,t,f,a)},P=function(e,t){var r=g(e,t.children[0]);if(t.value===d.ParseOperatorType.UNI_NOT)return r.toBoolean(e),T.newBoolExpr(r.falseChain,r.trueChain);var n=r.toValue(e);if(t.value===d.ParseOperatorType.UNI_POSIT)return r.entryType.type!==p.ValueType.PRIMITIVE?(e.err.error(new l.GeneratorError("posit operator can only be applied to primitive type",t.token)),T.newQuadrupleRef(n,new p.ValueTypeInfo(_.PrimitiveType.INT))):r.entryType.primitiveType===_.PrimitiveType.BOOL?(e.err.info(new l.GeneratorError("implicit conversion from bool to int",t.token)),T.newQuadrupleRef(n,new p.ValueTypeInfo(_.PrimitiveType.INT))):T.newQuadrupleRef(n,r.entryType);if(t.value===d.ParseOperatorType.UNI_NEGATE){if(r.entryType.type!==p.ValueType.PRIMITIVE)return e.err.error(new l.GeneratorError("negate operator can only be applied to primitive type",t.token)),T.newQuadrupleRef(n,new p.ValueTypeInfo(_.PrimitiveType.INT));if(r.entryType.primitiveType===_.PrimitiveType.BOOL)return e.err.error(new l.GeneratorError("negate operator cannot be applied to bool",t.token)),T.newQuadrupleRef(n,new p.ValueTypeInfo(_.PrimitiveType.INT));var a=e.getTempVar();return r.entryType.primitiveType===_.PrimitiveType.FLOAT?e.addQuadruple(c.QuadrupleOperator.R_SUB,new c.QuadrupleArgValue(_.PrimitiveType.FLOAT,0),n,a):e.addQuadruple(c.QuadrupleOperator.I_SUB,new c.QuadrupleArgValue(_.PrimitiveType.INT,0),n,a),T.newQuadrupleRef(a,r.entryType)}var i=e.getTempVar(),o=void 0,u=new c.QuadrupleArgValue(_.PrimitiveType.INT,0),s=new c.QuadrupleArgValue(_.PrimitiveType.INT,1),v=new c.QuadrupleArgValue(_.PrimitiveType.FLOAT,0),f=new c.QuadrupleArgValue(_.PrimitiveType.FLOAT,1);if(r.entryType.primitiveType===_.PrimitiveType.BOOL)return e.err.error(new l.GeneratorError("self-increment/decrement operator cannot be applied to bool",t.token)),T.newQuadrupleRef(n,r.entryType);if(r.entryType.primitiveType===_.PrimitiveType.FLOAT)switch(t.value){case d.ParseOperatorType.UNI_INC_PRE:e.addQuadruple(c.QuadrupleOperator.R_ADD,n,f,i),I(e,i,r,t.children[0].token);break;case d.ParseOperatorType.UNI_INC_POS:e.addQuadruple(c.QuadrupleOperator.R_ADD,n,v,i),o=e.getTempVar(),e.addQuadruple(c.QuadrupleOperator.R_ADD,i,f,o),I(e,o,r,t.children[0].token);break;case d.ParseOperatorType.UNI_DEC_PRE:e.addQuadruple(c.QuadrupleOperator.R_SUB,n,f,i),I(e,i,r,t.children[0].token);break;case d.ParseOperatorType.UNI_DEC_POS:e.addQuadruple(c.QuadrupleOperator.R_ADD,n,v,i),o=e.getTempVar(),e.addQuadruple(c.QuadrupleOperator.R_SUB,i,f,o),I(e,o,r,t.children[0].token);break;default:e.err.error(new l.GeneratorError("unknown unary operator",t.token))}else switch(t.value){case d.ParseOperatorType.UNI_INC_PRE:e.addQuadruple(c.QuadrupleOperator.I_ADD,n,s,i),I(e,i,r,t.children[0].token);break;case d.ParseOperatorType.UNI_INC_POS:e.addQuadruple(c.QuadrupleOperator.I_ADD,n,u,i),o=e.getTempVar(),e.addQuadruple(c.QuadrupleOperator.I_ADD,i,s,o),I(e,o,r,t.children[0].token);break;case d.ParseOperatorType.UNI_DEC_PRE:e.addQuadruple(c.QuadrupleOperator.I_SUB,n,s,i),I(e,i,r,t.children[0].token);break;case d.ParseOperatorType.UNI_DEC_POS:e.addQuadruple(c.QuadrupleOperator.I_ADD,n,u,i),o=e.getTempVar(),e.addQuadruple(c.QuadrupleOperator.I_SUB,i,s,o),I(e,o,r,t.children[0].token);break;default:e.err.error(new l.GeneratorError("unknown unary operator",t.token))}return T.newQuadrupleRef(i,r.entryType)},C=function(e,t){var r=t.value;if(r===d.ParseOperatorType.BIN_LOG_AND||r===d.ParseOperatorType.BIN_LOG_OR){var n=r===d.ParseOperatorType.BIN_LOG_AND,a=g(e,t.children[0]);a.entryType.type!==p.ValueType.PRIMITIVE&&e.err.error(new l.GeneratorError("cannot use reference in logical expression",t.children[0].token)),a.toBoolean(e),e.backPatchChain(n?a.trueChain:a.falseChain,e.nextQuadrupleIndex);var i=g(e,t.children[1]);return i.entryType.type!==p.ValueType.PRIMITIVE&&e.err.error(new l.GeneratorError("cannot use reference in logical expression",t.children[1].token)),i.toBoolean(e),n?T.newBoolExpr(i.trueChain,e.mergeChain(a.falseChain,i.falseChain)):T.newBoolExpr(e.mergeChain(a.trueChain,i.trueChain),i.falseChain)}var o=g(e,t.children[0]),u=g(e,t.children[1]);o.entryType.type===p.ValueType.ARRAY_REF&&u.entryType.type===p.ValueType.ARRAY||o.entryType.type===p.ValueType.ARRAY_REF&&u.entryType.type===p.ValueType.ARRAY_REF||o.entryType.type===p.ValueType.PRIMITIVE&&u.entryType.type===p.ValueType.PRIMITIVE||(o.entryType.type!==p.ValueType.PRIMITIVE&&e.err.error(new l.GeneratorError("left operand should be a value",t.children[0].token)),u.entryType.type!==p.ValueType.PRIMITIVE&&e.err.error(new l.GeneratorError("right operand should be a value",t.children[1].token)));var s=function(e,t){return e===_.PrimitiveType.FLOAT||t===_.PrimitiveType.FLOAT?_.PrimitiveType.FLOAT:e===_.PrimitiveType.CHAR&&t===_.PrimitiveType.CHAR?_.PrimitiveType.CHAR:e===_.PrimitiveType.BOOL&&t===_.PrimitiveType.BOOL?_.PrimitiveType.BOOL:(e===_.PrimitiveType.INT||_.PrimitiveType.INT,_.PrimitiveType.INT)},v=function(r){var n=s(o.entryType.primitiveType,u.entryType.primitiveType),a=E(e,o,n,t.children[0].token),i=E(e,u,n,t.children[1].token);n===_.PrimitiveType.BOOL&&r!==c.QuadrupleOperator.J_EQ&&r!==c.QuadrupleOperator.J_NE&&e.err.error(new l.GeneratorError("only equal and not-equal comparison can be applied to bool values",t.token));var d=T.newBoolExpr(e.nextQuadrupleIndex,e.nextQuadrupleIndex+1);return e.addQuadruple(r,a,i,new c.QuadrupleArgQuadRef(0)),e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0)),d},y=function(r){var n=E(e,u,o.entryType.primitiveType,t.token),a=e.getTempVar();return e.addQuadruple(r,o.toRef(e,t.children[0].token),n,a),I(e,a,o,t.children[0].token),T.newQuadrupleRef(a,o.entryType)},h=function(e){switch(e){case c.QuadrupleOperator.I_ADD:return c.QuadrupleOperator.R_ADD;case c.QuadrupleOperator.I_SUB:return c.QuadrupleOperator.R_SUB;case c.QuadrupleOperator.I_MUL:return c.QuadrupleOperator.R_MUL;case c.QuadrupleOperator.I_ADD:return c.QuadrupleOperator.R_DIV}return e},m=function(r){if(o.entryType.primitiveType===_.PrimitiveType.FLOAT||u.entryType.primitiveType===_.PrimitiveType.FLOAT){var n=E(e,o,_.PrimitiveType.FLOAT,t.children[0].token),a=E(e,u,_.PrimitiveType.FLOAT,t.children[1].token),i=e.getTempVar();return e.addQuadruple(h(r),n,a,i),T.newQuadrupleRef(i,p.createValueType.prim(_.PrimitiveType.FLOAT))}var s=E(e,o,_.PrimitiveType.INT,t.children[0].token),l=E(e,u,_.PrimitiveType.INT,t.children[1].token),d=e.getTempVar();return e.addQuadruple(r,s,l,d),T.newQuadrupleRef(d,p.createValueType.prim(_.PrimitiveType.INT))};switch(r){case d.ParseOperatorType.BIN_ADD:return m(c.QuadrupleOperator.I_ADD);case d.ParseOperatorType.BIN_SUB:return m(c.QuadrupleOperator.I_SUB);case d.ParseOperatorType.BIN_MULTI:return m(c.QuadrupleOperator.I_MUL);case d.ParseOperatorType.BIN_DIVIDE:return m(c.QuadrupleOperator.I_DIV);case d.ParseOperatorType.BIN_ASS_ADD:return y(c.QuadrupleOperator.I_ADD);case d.ParseOperatorType.BIN_ASS_SUB:return y(c.QuadrupleOperator.I_SUB);case d.ParseOperatorType.BIN_ASS_MUL:return y(c.QuadrupleOperator.I_MUL);case d.ParseOperatorType.BIN_ASS_DIV:return y(c.QuadrupleOperator.I_DIV);case d.ParseOperatorType.BIN_ASS_VAL:var P=E(e,u,o.entryType.primitiveType,t.token);return I(e,P,o,t.children[0].token),T.newQuadrupleRef(o.toRef(e,t.children[0].token),o.entryType);case d.ParseOperatorType.BIN_REL_EQ:return v(c.QuadrupleOperator.J_EQ);case d.ParseOperatorType.BIN_REL_GT:return v(c.QuadrupleOperator.J_GT);case d.ParseOperatorType.BIN_REL_GTE:return v(c.QuadrupleOperator.J_GTE);case d.ParseOperatorType.BIN_REL_LT:return v(c.QuadrupleOperator.J_LT);case d.ParseOperatorType.BIN_REL_LTE:return v(c.QuadrupleOperator.J_LTE);case d.ParseOperatorType.BIN_REL_NE:return v(c.QuadrupleOperator.J_NE);default:throw new l.GeneratorError("unknown operator",t.token)}},A=function(e,t){var r=t.children[0],n=e.checkName(r.value);if(!n.isDefined)return e.err.error(new l.GeneratorError('function "'+r.value+'" is not defined',r.token)),e.err.warn(new l.GeneratorError("function result is assumed as an temporary variable",r.token)),T.newQuadrupleRef(e.getTempVar(),p.createValueType.prim(_.PrimitiveType.INT));if(n.entry&&n.entry.type!==p.SymbolEntryType.FUNCTION)return e.err.error(new l.GeneratorError("variable identifier "+r.value+" cannot be used as function",r.token)),T.newQuadrupleRef(e.getEntry(r.value),n.entry.info);var a=e.getEntryInfo(t.children[0].value).asFunc,i=t.children[1].children,o=e.currentHeapTop,u=o;u+=p.getPrimitiveSize(_.PrimitiveType.INT),u+=p.getPrimitiveSize(_.PrimitiveType.INT);var s=new c.QuadrupleArgArrayAddr(f,new c.QuadrupleArgValue(_.PrimitiveType.INT,u));u+=a.returnType.size,i.length!==a.parameterList.length&&e.err.error(new l.GeneratorError("the number of arguments mismatches to the number of parameter",t.children[0].token)),i.forEach(function(t,r){var n=g(e,t),i=new c.QuadrupleArgArrayAddr(f,new c.QuadrupleArgValue(_.PrimitiveType.INT,u)),o=a.parameterList[r];if(o){u+=o.type.size;var s=E(e,n,o.type.primitiveType,t.token);e.addQuadruple(c.QuadrupleOperator.F_PARA,s,f,i)}else e.err.error(new l.GeneratorError("this argument exceeds the parameter count",t.token))});var d=new c.QuadrupleArgValue(_.PrimitiveType.INT,o);if(e.addQuadruple(c.QuadrupleOperator.F_FUNC,d,f,e.getEntry(r.value)),a.returnType.isVoid)return T.newPrimValue(_.PrimitiveType.VOID,void 0);var v=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.F_VAL,s,f,v),T.newQuadrupleRef(v,a.returnType)},k=function(e,t){var r=t.children[0].value,n=e.getEntryInfo(r);t.children[1].children.length!==n.asArr.dimension&&e.err.error(new l.GeneratorError("incompatible array dimension for array access",t.token));var a=void 0;t.children[1].children.map(function(t,n){var i=g(e,t),o=E(e,i,_.PrimitiveType.INT,t.token),u=new c.QuadrupleArgArrayAddr(e.getEntry(r),new c.QuadrupleArgValue(_.PrimitiveType.INT,v+n*p.getPrimitiveSize(_.PrimitiveType.INT)));if(a){var s=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.A_RET,u,f,s,"retrieve array size of "+n+" dimension");var l=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.I_MUL,a,s,l,"multiply dim size");var d=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.I_ADD,l,o,d,"add dim offset"),a=d}else a=o}),a||(e.err.error(new l.GeneratorError("empty array index list",t.token)),a=f);var i=e.getTempVar(),o=n.asArr.elementSize;e.addQuadruple(c.QuadrupleOperator.I_MUL,a,new c.QuadrupleArgValue(_.PrimitiveType.INT,o),i,"calc total size");var u=new c.QuadrupleArgArrayAddr(e.getEntry(r),new c.QuadrupleArgValue(_.PrimitiveType.INT,0)),s=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.A_RET,u,f,s,"retrieve array base address at heap"),T.newQuadrupleRef(new c.QuadrupleArgArrayAddr(s,i),p.createValueType.prim(n.asArr.primitiveType))},g=function(e,t){switch(t.type){case d.ParseNodeType.VAL_CONSTANT_INT:return T.newPrimValue(_.PrimitiveType.INT,t.value);case d.ParseNodeType.VAL_CONSTANT_BOOL:return T.newPrimValue(_.PrimitiveType.BOOL,t.value);case d.ParseNodeType.VAL_CONSTANT_CHAR:return T.newPrimValue(_.PrimitiveType.CHAR,t.value);case d.ParseNodeType.VAL_CONSTANT_FLOAT:return T.newPrimValue(_.PrimitiveType.FLOAT,t.value);case d.ParseNodeType.EXPR_UNI:return P(e,t);case d.ParseNodeType.EXPR_BIN:return C(e,t);case d.ParseNodeType.EXPR_ARR_ACCESS:return k(e,t);case d.ParseNodeType.EXPR_FUNC_INVOKE:return A(e,t);case d.ParseNodeType.VAL_IDENTIFIER:if(e.checkName(t.value).isDefined){var r=e.getEntryInfo(t.value);return r.type===p.SymbolEntryType.FUNCTION?(e.err.error(new l.GeneratorError("cannot use function identifier as variable",t.token)),T.newQuadrupleRef(e.getEntry(t.value),r.asFunc.returnType)):T.newQuadrupleRef(e.getEntry(t.value),r.info)}return e.err.error(new l.GeneratorError('variable "'+t.value+'" is not defined',t.token)),e.err.warn(new l.GeneratorError("variable is assumed as an temporary variable",t.token)),T.newQuadrupleRef(e.getTempVar(),p.createValueType.prim(_.PrimitiveType.INT));case d.ParseNodeType.VAL_UNINITIALIZED:default:return T.newPrimValue(_.PrimitiveType.VOID,null)}},O=function(e,t){var r=t.children[0].value;t.children[1].children.map(function(t){var n=t.children[0].value,a=e.checkName(n);a.isDefined&&a.currentContext?e.err.error(new l.GeneratorError("variable is defined "+n,t.children[0].token)):e.addEntry.prim(n,r,t.children[0].position);var i=e.getEntry(n);if(t.children[1].type===d.ParseNodeType.VAL_UNINITIALIZED)e.addQuadruple(c.QuadrupleOperator.V_ASS,new c.QuadrupleArgValue(_.PrimitiveType.INT,0),f,i,"default initialization");else{var o=g(e,t.children[1]),u=E(e,o,r,t.token);e.addQuadruple(c.QuadrupleOperator.V_ASS,u,f,i)}return{name:t.children[0]}});return h.valid()},N=function(e,t){var r=t.children[0],n=r.children[0].value,a=r.children[1],i=t.children[1].value,o=e.checkName(i);if(o.isDefined&&o.currentContext)return e.err.error(new l.GeneratorError("name redefinition:"+name,t.children[1].token)),h.valid();e.addEntry.arr(i,n,a.children.length,t.children[1].position);var u=e.getEntryInfo(i).asArr,s=void 0;a.children.map(function(t,r){var n=g(e,t),a=new c.QuadrupleArgArrayAddr(e.getEntry(i),new c.QuadrupleArgValue(_.PrimitiveType.INT,r*p.getPrimitiveSize(_.PrimitiveType.INT)+v)),o=E(e,n,_.PrimitiveType.INT,t.token);if(e.addQuadruple(c.QuadrupleOperator.A_ASS,o,f,a,"Set array size of "+r+" dimension"),s){var u=e.getTempVar();e.addQuadruple(c.QuadrupleOperator.I_MUL,s,n.toValue(e),u,"calc array size"),s=u}else s=n.toValue(e)}),s||(e.err.error(new l.GeneratorError("empty array dimension",a.token)),s=f);var d=e.getTempVar(),y=u.elementSize;e.addQuadruple(c.QuadrupleOperator.I_MUL,s,new c.QuadrupleArgValue(_.PrimitiveType.INT,y),d,"calc total size");var T=new c.QuadrupleArgArrayAddr(e.getEntry(i),new c.QuadrupleArgValue(_.PrimitiveType.INT,0)),m=e.getTempVar();return e.addQuadruple(c.QuadrupleOperator.M_REQ,d,f,m,"request memory allocation"),e.addQuadruple(c.QuadrupleOperator.A_ASS,m,f,T,"save dynamic array address"),h.valid()},R=function(e,t){var r=t.children[0].children[0].value,n=t.children[0].value;t.children[1].children.map(function(t){var a=t.children[0].value,i=e.checkName(a);i.isDefined&&i.currentContext?e.err.error(new l.GeneratorError("variable redefinition",t.children[0].token)):e.addEntry.arrRef(a,r,n,t.children[0].position);var o=e.getEntry(a);if(t.children[1].type===d.ParseNodeType.VAL_UNINITIALIZED)e.addQuadruple(c.QuadrupleOperator.A_ASS,new c.QuadrupleArgValue(_.PrimitiveType.INT,void 0),f,o,"default initialization");else{var u=g(e,t.children[1]);e.addQuadruple(c.QuadrupleOperator.R_ASS,u.toValue(e),f,o)}});return h.valid()},L=function(e,t){var r=t.children[0].value,n=e.checkName(r);return n.isDefined&&n.currentContext?e.err.error(new l.GeneratorError("name redefinition: "+r,t.children[0].token)):e.addEntry.func(r,t.position),e.wrapInContext("Function: "+r,{isFunction:!0},function(){var n=e.getEntryInfo(r).asFunc;e.addEntry.prim("?ppc",_.PrimitiveType.INT,null),e.addEntry.prim("?addr",_.PrimitiveType.INT,null);var a=m(t.children[1]);n.returnType=a,a.type===p.ValueType.ARRAY_REF?e.addEntry.arrRef("?ret",a.primitiveType,a.dim,null):a.type===p.ValueType.PRIMITIVE&&e.addEntry.prim("?ret",a.primitiveType,null),t.children[2].children.map(function(t){var r={name:t.children[1].value,type:m(t.children[0])};n.parameterList.some(function(e){return e.name===r.name})?e.err.error(new l.GeneratorError("parameter with same name already defined",t.children[1].token)):(r.type.type===p.ValueType.ARRAY_REF?e.addEntry.arrRef(r.name,r.type.primitiveType,r.type.dim,t.children[1].position):r.type.type===p.ValueType.PRIMITIVE&&e.addEntry.prim(r.name,r.type.primitiveType,t.children[1].position),n.parameterList.push(r))});var i=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"skip function "+r),n.entryAddress=e.nextQuadrupleIndex;var o=x(e,t.children[3],!1);e.backPatchChain(o.chain,e.nextQuadrupleIndex),e.addQuadruple(c.QuadrupleOperator.F_RET,f,f,f,"generated return"),e.backPatchChain(i,e.nextQuadrupleIndex)}),h.valid()},S=function(e,t){var r=g(e,t.children[0]);r.toBoolean(e),e.backPatchChain(r.trueChain,e.nextQuadrupleIndex),e.pushContext("if-then block");var n=F(e,t.children[1],!1);e.popContext();var a=e.mergeChain(r.falseChain,n.chain);return new y(a)},b=function(e,t){var r=g(e,t.children[0]);r.toBoolean(e),e.pushContext("if-then-else block: then"),e.backPatchChain(r.trueChain,e.nextQuadrupleIndex);var n=F(e,t.children[1],!1),a=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"end of if-then block"),n.chain=e.mergeChain(n.chain,a),e.popContext(),e.pushContext("if-then-else block else"),e.backPatchChain(r.falseChain,e.nextQuadrupleIndex);var i=F(e,t.children[2],!1);e.popContext();var o=e.mergeChain(n.chain,i.chain);return new y(o)},x=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1!==r&&e.pushContext("block");var n=t.children.reduce(function(t,r){return e.backPatchChain(t,e.nextQuadrupleIndex),F(e,r).chain},0);return!1!==r&&e.popContext(),new y(n)},w=function(e,t){e.pushContext("while loop"),e.pushBreakChain(0),e.pushContinueChain(0);var r=e.nextQuadrupleIndex,n=g(e,t.children[0]);n.toBoolean(e),e.backPatchChain(n.trueChain,e.nextQuadrupleIndex);var a=F(e,t.children[1],!1),i=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"end of while loop"),a.chain=e.mergeChain(a.chain,i),e.backPatchChain(a.chain,r);var o=e.popBreakChain(),u=e.popContinueChain();e.backPatchChain(u,r);var s=e.mergeChain(n.falseChain,o);return e.popContext(),new y(s)},M=function(e,t){e.pushContext("do loop"),e.pushBreakChain(0),e.pushContinueChain(0);var r=e.nextQuadrupleIndex,n=F(e,t.children[0]);e.backPatchChain(n.chain,e.nextQuadrupleIndex);var a=e.nextQuadrupleIndex,i=g(e,t.children[1]);i.toBoolean(e),e.backPatchChain(i.trueChain,r);var o=e.popBreakChain(),u=e.popContinueChain();e.backPatchChain(u,a);var s=e.mergeChain(o,i.falseChain);return e.popContext(),new y(s)},D=function(e,t){e.pushContext("switch block"),e.pushBreakChain(0);var r=g(e,t.children[0]).toValue(e),n=e.nextQuadrupleIndex;e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"Switch: jump to table");var a=[],i=-1,o=t.children[1].children.reduce(function(t,r){var n=e.nextQuadrupleIndex;return e.backPatchChain(t,n),r.type===d.ParseNodeType.SEG_CASE_LABEL?(a.push([r.children[0],n]),0):r.type===d.ParseNodeType.SEG_DEFAULT_LABEL?(i=n,0):F(e,r).chain},0);e.backPatchChain(o,e.nextQuadrupleIndex),e.popContext();var u=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"Switch: end of switch body"),e.backPatchChain(n,e.nextQuadrupleIndex),a.map(function(t){var n=g(e,t[0]).toValue(e);e.addQuadruple(c.QuadrupleOperator.J_EQ,r,n,new c.QuadrupleArgQuadRef(t[1]),"switch: case "+n.toString())}),i>=0&&e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(i),"switch: default case"),new y(e.mergeChain(u,e.popBreakChain()))},V=function(e,t){var r=g(e,t.children[0]),n=e.checkName("?ret");if(!n.isDefined||!n.entry)return e.err.error(new l.GeneratorError("return statement is only valid inside an function scope",t.token)),h.valid();var a=n.entry,i=e.getEntry("?ret");if(a.asPrim.primitiveType===_.PrimitiveType.VOID)return e.err.error(new l.GeneratorError("return statement cannot contain return value for void function",t.token)),e.addQuadruple(c.QuadrupleOperator.F_RET,f,f,f),h.valid();var o=E(e,r,a.asPrim.primitiveType,t.token);return e.addQuadruple(c.QuadrupleOperator.V_ASS,o,f,i),e.addQuadruple(c.QuadrupleOperator.F_RET,f,f,f),h.valid()},Q=function(e,t){var r=e.checkName("?ret");if(!r.isDefined||!r.entry)return e.err.error(new l.GeneratorError("return statement is only valid inside an function scope",t.token)),h.valid();var n=r.entry;e.getEntry("?ret");return n.asPrim.primitiveType!==_.PrimitiveType.VOID?(e.err.error(new l.GeneratorError("return statement must contain a return value for non-void function",t.token)),e.addQuadruple(c.QuadrupleOperator.F_RET,f,f,f),h.valid()):(e.addQuadruple(c.QuadrupleOperator.F_RET,f,f,f),h.valid())},B=function(e,t){var r=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"break"),e.mergeIntoBreakChain(r),h.valid()},U=function(e,t){var r=e.nextQuadrupleIndex;return e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(0),"continue"),e.mergeIntoContinueChain(r),h.valid()},F=function(e,t,r){switch(t.type){case d.ParseNodeType.STAT_IF:return S(e,t);case d.ParseNodeType.STAT_IF_ELSE:return b(e,t);case d.ParseNodeType.STAT_SEQUENCE:return x(e,t,r);case d.ParseNodeType.STAT_WHILE:return w(e,t);case d.ParseNodeType.STAT_DO:return M(e,t);case d.ParseNodeType.STAT_SWITCH:return D(e,t);case d.ParseNodeType.STAT_RETURN:V(e,t);break;case d.ParseNodeType.STAT_RETURN_VOID:Q(e,t);break;case d.ParseNodeType.STAT_BREAK:B(e);break;case d.ParseNodeType.STAT_CONTINUE:U(e);break;case d.ParseNodeType.STAT_FUNCTION:L(e,t);break;case d.ParseNodeType.STAT_DECLARATION_ARR:N(e,t);break;case d.ParseNodeType.STAT_DECLARATION_ARR_REF:R(e,t);break;case d.ParseNodeType.STAT_DECLARATION_PRIM:O(e,t);break;case d.ParseNodeType.STAT_EXPR:g(e,t.children[0])}return new y(0)},G=function(e,t){return e.wrapInContext("source root",{},function(){var r=t.children.reduce(function(t,r){return e.backPatchChain(t,e.nextQuadrupleIndex),F(e,r).chain},0);e.backPatchChain(r,e.nextQuadrupleIndex),e.addQuadruple(c.QuadrupleOperator.J_JMP,f,f,new c.QuadrupleArgQuadRef(e.nextQuadrupleIndex,"end"),"loop forever")}),h.valid()};t.generator=function(e){if(e.type!==d.ParseNodeType.SRC_SOURCE)throw new l.GeneratorError("root of AST for generator must be a source file",e.token);var t=new s.GeneratorContext;try{G(t,e)}catch(e){console.log(e),t.err.fatal(e)}return{quadrupleList:t.quadrupleTable,contextTree:t.currentContext,errorList:t.err.errorList}}},,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(38),i=n(a),o=r(82),u=n(o),s=r(155),l=n(s),d=r(0),c=n(d),p=r(1),_=n(p);Object.defineProperty(t,"__esModule",{value:!0});var v=r(59),f=r(30),y=r(40),T=r(39),h=r(16),m=function(e,t,r){e.length<=t&&(e.length=t+1),e.splice(t,1,r)},E=function(){function e(t,r){(0,c.default)(this,e),this.console=[],this.parameterProvider=t,r&&(this.program=r),this.reset()}return(0,_.default)(e,[{key:"step",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){var t,r,n,a,i,o,s,l,d,c,p,_,v,f,E,I,P,C,A,k,g,O,N,R,L,S,b,x,w,M,D,V,Q;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.pc<0)){e.next=3;break}return e.next=3,this.invokeBuildIn();case 3:if(t=this.program[this.pc-1]){e.next=6;break}return e.abrupt("return",this.pushError("program counter out of range"));case 6:this.pc++,e.t0=t.operator,e.next=e.t0===y.QuadrupleOperator.J_JMP?10:e.t0===y.QuadrupleOperator.J_EQ?13:e.t0===y.QuadrupleOperator.J_NE?13:e.t0===y.QuadrupleOperator.J_GT?13:e.t0===y.QuadrupleOperator.J_GTE?13:e.t0===y.QuadrupleOperator.J_LT?13:e.t0===y.QuadrupleOperator.J_LTE?13:e.t0===y.QuadrupleOperator.J_EZ?13:e.t0===y.QuadrupleOperator.J_NEZ?13:e.t0===y.QuadrupleOperator.I_ADD?17:e.t0===y.QuadrupleOperator.I_SUB?17:e.t0===y.QuadrupleOperator.I_MUL?17:e.t0===y.QuadrupleOperator.I_DIV?17:e.t0===y.QuadrupleOperator.R_ADD?17:e.t0===y.QuadrupleOperator.R_SUB?17:e.t0===y.QuadrupleOperator.R_MUL?17:e.t0===y.QuadrupleOperator.R_DIV?17:e.t0===y.QuadrupleOperator.C_I2C?24:e.t0===y.QuadrupleOperator.C_I2F?24:e.t0===y.QuadrupleOperator.C_C2I?24:e.t0===y.QuadrupleOperator.C_F2I?24:e.t0===y.QuadrupleOperator.V_ASS?30:e.t0===y.QuadrupleOperator.A_ASS?34:e.t0===y.QuadrupleOperator.A_RET?40:e.t0===y.QuadrupleOperator.R_ASS?44:e.t0===y.QuadrupleOperator.F_PARA?48:e.t0===y.QuadrupleOperator.F_FUNC?52:e.t0===y.QuadrupleOperator.F_REV?63:e.t0===y.QuadrupleOperator.F_RET?64:e.t0===y.QuadrupleOperator.F_VAL?67:e.t0===y.QuadrupleOperator.M_REQ?71:(e.t0,y.QuadrupleOperator.M_FREE,76);break;case 10:return this.pc=t.result.quadIndex,this.pushMsg("jump to "+this.pc),e.abrupt("break",76);case 13:return r=this.getValue(t.argument1),n=this.getValue(t.argument2),this.compareByOperator(t.operator,r.value,n.value)?(this.pc=t.result.quadIndex,this.pushMsg("jump conditionally to "+this.pc+": "+r.value+" "+t.operatorName+" "+n.value)):this.pushMsg("unsatisfied jump condition: "+r.value+" "+t.operatorName+" "+n.value),e.abrupt("break",76);case 17:return a=this.getValue(t.argument1),i=this.getValue(t.argument2),o=this.calcByOperator(t.operator,a.value,i.value),s=t.result,console.log(s,o),m(this.temp,s.tempIndex,o.value),e.abrupt("break",76);case 24:return l=this.getValue(t.argument1),d=this.convertByOperator(t.operator,l.value),c=t.result,console.log(c,d),m(this.temp,c.tempIndex,d.value),e.abrupt("break",76);case 30:return p=t.argument1,_=t.result,this.stackFill(_.index,this.getValue(p)),e.abrupt("break",76);case 34:return v=t.argument1,f=t.result,E=f.base.type===y.QuadrupleArgType.TABLE_REF?f.base.index:this.getValue(f.base).value,I=this.getValue(f.offset).value,this.stackFill(E+I,this.getValue(v)),e.abrupt("break",76);case 40:return P=this.getValue(t.argument1),C=t.result,m(this.temp,C.tempIndex,P.value),e.abrupt("break",76);case 44:return A=t.argument1,k=t.result,this.stackFill(k.index,{value:A.index,span:T.getPrimitiveSize("ref")}),e.abrupt("break",76);case 48:return g=this.getValue(t.argument1),O=this.getValue(t.result.offset),this.stackFill(O.value,g),e.abrupt("break",76);case 52:return N=this.getValue(t.argument1).value,R=t.result.quadIndex,L=this.pc,S=this.frameBase,this.frameBase+=N,this.pc=R,b={value:S,span:T.getPrimitiveSize(h.PrimitiveType.INT)},this.stackFill(0,b),x={value:L,span:T.getPrimitiveSize(h.PrimitiveType.INT)},this.stackFill(b.span,x),e.abrupt("break",76);case 63:return e.abrupt("break",76);case 64:return this.pc=this.stack[this.frameBase+T.getPrimitiveSize(h.PrimitiveType.INT)],this.frameBase=this.stack[this.frameBase],e.abrupt("break",76);case 67:return w=this.getValue(t.argument1),M=t.result,m(this.temp,M.tempIndex,w.value),e.abrupt("break",76);case 71:return D=this.getValue(t.argument1).value,V=t.result,Q=this.allocateHeap(D),m(this.temp,V.tempIndex,Q),e.abrupt("break",76);case 76:case"end":return e.stop()}},e,this)}));return e}()},{key:"load",value:function(e){this.program=e,this.reset()}},{key:"reset",value:function(){this.pc=1,this.frameBase=0,this.stackTop=0,this.heapTop=1e4,this.heap=[],this.stack=[],this.temp=[]}},{key:"pushError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.ErrorSeverity.ERROR;this.console.push({message:e,severity:t})}},{key:"pushMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.ErrorSeverity.INFO;this.console.push({message:e,severity:t})}},{key:"stackFill",value:function(e,t){if(e>=1e4){m(this.heap,e-1e4,t.value);for(var r=1;r<t.span;r++)m(this.heap,e+r-1e4,-1)}else{m(this.stack,this.frameBase+e,t.value);for(var n=1;n<t.span;n++)m(this.stack,this.frameBase+e+n,-1)}}},{key:"getValue",value:function(e){if(e.type===y.QuadrupleArgType.VALUE_INST){var t=e;return{value:t.value,span:T.getPrimitiveSize(t.valueType)}}if(e.type===y.QuadrupleArgType.VAR_TEMP){var r=e;return console.log(r.tempIndex),{value:this.temp[r.tempIndex],span:1}}if(e.type===y.QuadrupleArgType.TABLE_REF){var n=e;return{value:this.stack[this.frameBase+n.index],span:1}}if(e.type===y.QuadrupleArgType.ARRAY_ADDR){var a=e,i=a.base.type===y.QuadrupleArgType.TABLE_REF?a.base.index:this.getValue(a.base).value,o=this.getValue(a.offset).value;return console.log(i,o),i>=1e4?{value:this.heap[i+o-1e4],span:1}:{value:this.stack[this.frameBase+i+o],span:1}}if(e.type===y.QuadrupleArgType.NULL)return{value:0,span:0};throw new Error}},{key:"compareByOperator",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case y.QuadrupleOperator.J_EQ:return t===r;case y.QuadrupleOperator.J_NE:return t!==r;case y.QuadrupleOperator.J_GT:return t>r;case y.QuadrupleOperator.J_GTE:return t>=r;case y.QuadrupleOperator.J_LT:return t<r;case y.QuadrupleOperator.J_LTE:return t<=r;case y.QuadrupleOperator.J_EZ:return 0===t;case y.QuadrupleOperator.J_NEZ:return 0!==t}return!1}},{key:"calcByOperator",value:function(e,t,r){switch(e){case y.QuadrupleOperator.I_ADD:return{value:t+r,span:T.getPrimitiveSize(h.PrimitiveType.INT)};case y.QuadrupleOperator.I_SUB:return{value:t-r,span:T.getPrimitiveSize(h.PrimitiveType.INT)};case y.QuadrupleOperator.I_MUL:return{value:t*r,span:T.getPrimitiveSize(h.PrimitiveType.INT)};case y.QuadrupleOperator.I_DIV:return{value:t/r,span:T.getPrimitiveSize(h.PrimitiveType.INT)};case y.QuadrupleOperator.R_ADD:return{value:t+r,span:T.getPrimitiveSize(h.PrimitiveType.FLOAT)};case y.QuadrupleOperator.R_SUB:return{value:t-r,span:T.getPrimitiveSize(h.PrimitiveType.FLOAT)};case y.QuadrupleOperator.R_MUL:return{value:t*r,span:T.getPrimitiveSize(h.PrimitiveType.FLOAT)};case y.QuadrupleOperator.R_DIV:return{value:t/r,span:T.getPrimitiveSize(h.PrimitiveType.FLOAT)}}return{value:0,span:0}}},{key:"convertByOperator",value:function(e,t){switch(e){case y.QuadrupleOperator.C_C2I:return{value:t,span:T.getPrimitiveSize(h.PrimitiveType.INT)};case y.QuadrupleOperator.C_F2I:return{value:Math.round(t),span:T.getPrimitiveSize(h.PrimitiveType.INT)};case y.QuadrupleOperator.C_I2C:return{value:255&t,span:T.getPrimitiveSize(h.PrimitiveType.CHAR)};case y.QuadrupleOperator.C_I2F:return{value:t,span:T.getPrimitiveSize(h.PrimitiveType.FLOAT)}}return{value:0,span:0}}},{key:"allocateHeap",value:function(e){var t=this.heapTop;return this.heapTop+=e,this.pushMsg("allocate heap from "+t+" to "+this.heapTop+" of size "+e),t}},{key:"invokeBuildIn",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){var t,r,n,a,i=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.pc,r=v.buildInFunctions.find(function(e){return e.id===i.pc})){e.next=5;break}return this.pushError("undefined build in function invocation",f.ErrorSeverity.FATAL),e.abrupt("return");case 5:return n=[],r.parameters.reduce(function(e,t){return n.push(i.stack[e]),e+t.type.size},this.frameBase+2*T.getPrimitiveSize(h.PrimitiveType.INT)+r.return.size),e.next=9,this.executeBuildIn(r.name,n);case 9:a=e.sent,r.return.isVoid||this.stackFill(2*T.getPrimitiveSize(h.PrimitiveType.INT),{value:a,span:r.return.size}),this.pc=this.stack[this.frameBase+T.getPrimitiveSize(h.PrimitiveType.INT)],this.frameBase=this.stack[this.frameBase];case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"executeBuildIn",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t,r){var n,a=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={show:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.pushMsg(t,f.ErrorSeverity.INFO));case 1:case"end":return e.stop()}},e,a)}));return e}(),showInt:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.pushMsg(t+"",f.ErrorSeverity.INFO));case 1:case"end":return e.stop()}},e,a)}));return e}(),showFloat:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.pushMsg(t+"",f.ErrorSeverity.INFO));case 1:case"end":return e.stop()}},e,a)}));return e}(),showBool:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.pushMsg(t+"",f.ErrorSeverity.INFO));case 1:case"end":return e.stop()}},e,a)}));return e}(),getInt:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.parameterProvider.getInteger();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,a)}));return e}(),getChar:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.parameterProvider.getChar();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,a)}));return e}(),getFloat:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.parameterProvider.getFloat();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,a)}));return e}(),getBool:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.parameterProvider.getBoolean();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,a)}));return e}()},e.next=3,n[t].apply(n,(0,i.default)(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.Executor=E},,,,,,,,,,,function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[e.errorList&&e.errorList.length?r("div",{staticClass:"list"},[r("div",{staticClass:"summary"},[r("span",[e._v(e._s(e.errorList.length))]),e._v("\n      errors / warnings\n    ")]),e._v(" "),r("div",{staticClass:"filter"},[r("div",{class:{on:""===e.filter},on:{click:function(t){e.filter=""}}},[e._v("ALL")]),e._v(" "),r("div",{class:{on:"lex"===e.filter},on:{click:function(t){e.filter="lex"}}},[e._v("Lex")]),e._v(" "),r("div",{class:{on:"par"===e.filter},on:{click:function(t){e.filter="par"}}},[e._v("Par")]),e._v(" "),r("div",{class:{on:"gen"===e.filter},on:{click:function(t){e.filter="gen"}}},[e._v("Gen")])]),e._v(" "),r("div",{staticClass:"error-list"},[e._l(e.errorList.filter(function(t){return t.name.toLowerCase().indexOf(e.filter)>=0}),function(t){return r("div",{key:e.errorList.indexOf(t),staticClass:"error-item",class:e.getSeverity(t.severity)},[r("div",{staticClass:"severity"},[r("ui-icon",[e._v(e._s(e.getIconName(t.severity)))])],1),e._v(" "),r("div",{staticClass:"message"},["PicolError"!==t.name?r("div",{staticClass:"err-src"},[e._v("\n            "+e._s(t.name.replace("Error",""))+"\n          ")]):e._e(),e._v(" "),t.pos?r("div",{staticClass:"pos",on:{click:function(r){e.selectPosition(t.pos)}}},[r("span",{staticClass:"pos-line"},[e._v(e._s(t.pos.startLine))]),e._v(" "),r("span",{staticClass:"pos-col"},[e._v(e._s(t.pos.startCol))])]):e._e(),e._v(" "),t.interpolatedMessage?r("span"):r("span",[e._v("\n            "+e._s(t.message)+"\n          ")])])])}),e._v(" "),0===e.errorList.filter(function(t){return t.name.toLowerCase().indexOf(e.filter)>=0}).length?r("div",{staticClass:"empty-tip"},[e._m(0),e._v("\n        No error found in this pass\n      ")]):e._e()],2)]):r("div",{staticClass:"empty-tip"},[e._m(1),e._v("\n    No lexical or syntactic error detected.\n  ")])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-icon"},[r("i",{staticClass:"material-icons"},[e._v("check_circle")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-icon"},[r("i",{staticClass:"material-icons"},[e._v("check_circle")])])}],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(167)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(168),i=r.n(a),o=r(172),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-8c005678",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(57),i=n(a),o=r(2),u=n(o),s=r(0),l=n(s),d=r(1),c=n(d),p=r(3),_=n(p),v=r(5),f=n(v),y=r(7),T=n(y),h=r(4),m=n(h),E=r(9),I=n(E),P=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,I.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,m.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var C=r(10),A=r(169),k=r(171),g=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.width=C.p({type:String,default:"100%"}),e.height=C.p({type:String,default:"100%"}),e.code=C.p({type:String,default:"// code \n"}),e.srcPath=C.p({type:String}),e.language=C.p({type:String,default:"javascript"}),e.theme=C.p({type:String,default:"vs"}),e.options=C.p({default:function(){}}),e.highlighted=C.p({type:Array,default:function(){return[{number:0,class:""}]}}),e.changeThrottle=C.p({type:Number,default:0}),e.defaults={selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0},e.loaded=!1,e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"mounted",value:function(){this.fetchEditor()}},{key:"destroyed",value:function(){this.destroyMonaco()}},{key:"handler",value:function(e){this.highlightLines(e)}},{key:"highlightLines",value:function(e){var t=this;this.editor&&e.forEach(function(e){var r=e.class,n=t.$el.querySelector("."+r);n&&n.classList.remove(r);var a=parseInt(e.number,10);if(!(!t.editor&&a<1||isNaN(a))){var i=t.$el.querySelector('.view-lines [linenumber="'+a+'"]');i&&i.classList.add(r)}})}},{key:"codeChangeHandler",value:function(e){var t=this;if(this.codeChangeEmitter)this.codeChangeEmitter(e);else{var r=+this.changeThrottle;this.codeChangeEmitter=A.debounce(function(){return t.$emit("codeChange",e)},r),this.codeChangeEmitter(e)}}},{key:"fetchEditor",value:function(){var e=this.srcPath||"";k.default.load(e,this.createMonaco)}},{key:"createMonaco",value:function(){var e=this;this.loaded=!0;var t=window;this.monaco=t.monaco,this.editor=t.monaco.editor.create(this.$el,this.editorOptions),t.editor=this.editor,this.$emit("mounted",this.editor),this.editor.onDidChangeModelContent(function(){return e.codeChangeHandler(e.editor)}),this.codeChangeHandler(this.editor)}},{key:"destroyMonaco",value:function(){void 0!==this.editor&&this.editor.dispose()}},{key:"style",get:function(){var e=this.width,t=this.height;return{width:-1!==e.toString().indexOf("%")?e:e+"px",height:-1!==t.toString().indexOf("%")?t:t+"px"}}},{key:"editorOptions",get:function(){return(0,i.default)({},this.defaults,this.options,{value:this.code,language:this.language,theme:this.theme})}}]),t}(C.Vue);P([C.Prop],g.prototype,"width",void 0),P([C.Prop],g.prototype,"height",void 0),P([C.Prop],g.prototype,"code",void 0),P([C.Prop],g.prototype,"srcPath",void 0),P([C.Prop],g.prototype,"language",void 0),P([C.Prop],g.prototype,"theme",void 0),P([C.Prop],g.prototype,"options",void 0),P([C.Prop],g.prototype,"highlighted",void 0),P([C.Prop],g.prototype,"changeThrottle",void 0),P([C.Lifecycle],g.prototype,"mounted",null),P([C.Lifecycle],g.prototype,"destroyed",null),P([C.Watch("highlighted",{deep:!0})],g.prototype,"handler",null),g=P([C.Component({name:"MonacoEditor"})],g),t.default=g},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window,a=function(e,t){if(n.monaco)return void t();var r={paths:{vs:e+"/vs"}},a=r.paths.vs+"/loader.js",i=function(){if(n.LOADER_PENDING&&n.require.config(r),n.require(["vs/editor/editor.main"],function(){t()}),n.LOADER_PENDING){n.LOADER_PENDING=!1;var e=n.LOADER_CALLBACKS;if(e&&e.length)for(var a=e.shift();a;)a.fn.call(a.window),a=e.shift()}};if(n.LOADER_PENDING)n.LOADER_CALLBACKS=n.LOADER_CALLBACKS||[],n.LOADER_CALLBACKS.push({window:n,fn:i});else if(void 0===n.require){var o=window.document.createElement("script");o.type="text/javascript",o.src=a,o.addEventListener("load",i),n.document.body.appendChild(o),n.LOADER_PENDING=!0}else i()};t.default={load:a}},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loaded?r("div",{ref:"editor",style:e.style}):r("div",{staticClass:"loading"},[e._v("Loading Code Editor")])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(174)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(175),i=r.n(a),o=r(176),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-16fb0312",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(79),i=n(a),o=r(2),u=n(o),s=r(0),l=n(s),d=r(1),c=n(d),p=r(3),_=n(p),v=r(5),f=n(v),y=r(7),T=n(y),h=r(4),m=n(h),E=r(9),I=n(E),P=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,I.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,m.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var C=r(10),A=r(21),k=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.tokenList=C.p({type:Array}),e.filter="",e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"selectPosition",value:function(e){this.$emit("selectPosition",e)}},{key:"getFilteredList",value:function(){var e=void 0;switch(this.filter){case"no-space":e=function(e){return!A.TokenTypeUtil.isWhiteSpace(e.type)};break;default:return this.tokenList||[]}return this.tokenList&&this.tokenList.filter?this.tokenList.filter(e):[]}},{key:"getType",value:function(e){return A.TokenType[e]}},{key:"dumpTokenList",value:function(){var e=this.tokenList||[],t=e.map(function(e,t){return t+"\t"+A.TokenType[e.type]+"\t"+(0,i.default)(e.literal)+"\t"+(e.value||"")}).join("\n"),r=document.createElement("a");r.download="token-list.txt",r.href=window.URL.createObjectURL(new Blob([t],{type:"octet/stream"})),r.click()}}]),t}(C.Vue);P([C.Prop],k.prototype,"tokenList",void 0),k=P([C.Component({name:"token-list"})],k),t.default=k},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[e.tokenList&&e.tokenList.length?r("div",{staticClass:"list"},[r("div",{staticClass:"summary"},[r("span",[e._v(e._s(e.tokenList.length))]),e._v(" tokens\n    ")]),e._v(" "),r("div",{staticClass:"filter"},[r("div",{class:{on:""===e.filter},on:{click:function(t){e.filter=""}}},[e._v("ALL")]),e._v(" "),r("div",{class:{on:"no-space"===e.filter},on:{click:function(t){e.filter="no-space"}}},[e._v("No Space")]),e._v(" "),r("div",{staticClass:"filter-button",on:{click:e.dumpTokenList}},[r("i",{staticClass:"material-icons"},[e._v("save")])])]),e._v(" "),r("div",{staticClass:"token-list"},e._l(e.getFilteredList(),function(t,n){return r("div",{key:n,staticClass:"token-item"},[r("span",{staticClass:"token-index"},[e._v(e._s(n))]),e._v(" "),r("span",{staticClass:"token-type"},[r("code",[e._v(e._s(e.getType(t.type)))])]),e._v(" "),r("span",{staticClass:"token-pos",on:{click:function(r){e.selectPosition(t.position)}}},[r("span",{staticClass:"pos-line"},[e._v(e._s(t.position.startLine))]),e._v(" "),r("span",{staticClass:"pos-col"},[e._v(e._s(t.position.startCol))])]),e._v(" "),r("span",{staticClass:"token-value",attrs:{title:t.value}},[e._v(e._s(t.value))])])}))]):r("div",{staticClass:"empty-tip"},[e._m(0),e._v("\n    no token found\n    "),r("div",{staticStyle:{"font-size":"0.7em"}},[e._v("\n      try to add some code first?\n    ")])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-icon"},[r("i",{staticClass:"material-icons"},[e._v("hourglass_empty")])])}],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(178)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(179),i=r.n(a),o=r(188),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-356abd9c",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(3),l=n(s),d=r(5),c=n(d),p=r(7),_=n(p),v=r(4),f=n(v),y=r(9),T=n(y),h=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,T.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,f.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var m=r(10),E=r(77),I=r(180),P=r(184),C=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.model=E.default,e.ast=m.p({type:Object}),e}return(0,c.default)(t,e),t}(m.Vue);h([m.Prop],C.prototype,"ast",void 0),C=h([m.Component({name:"left-panel",components:{ListItem:I.default,InlineAction:P.default}})],C),t.default=C},function(e,t,r){"use strict";function n(e){r(181)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(182),i=r.n(a),o=r(183),u=r(8),s=n,l=u(i.a,o.a,s,null,null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(3),l=n(s),d=r(5),c=n(d),p=r(7),_=n(p),v=r(4),f=n(v),y=r(9),T=n(y),h=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,T.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,f.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var m=r(10),E=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.on=m.p({type:Boolean}),e}return(0,c.default)(t,e),t}(m.Vue);h([m.Prop],E.prototype,"on",void 0),E=h([m.Component({name:"list-view"})],E),t.default=E},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"wrapper",staticClass:"wrapper"},[e._t("default"),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"wrapper"}})],2)},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(185)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(186),i=r.n(a),o=r(187),u=r(8),s=n,l=u(i.a,o.a,s,null,null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.icon=I.p({type:String}),e.tooltip=I.p({type:String}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"click",value:function(e){this.$emit("click",e)}}]),t}(I.Vue);E([I.Prop],P.prototype,"icon",void 0),E([I.Prop],P.prototype,"tooltip",void 0),P=E([I.Component({name:"inline-action"})],P),t.default=P},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"root",staticClass:"inline-action",on:{click:function(t){t.stopPropagation(),e.click(t)}}},[r("ui-tooltip",{attrs:{trigger:"root"}},[e._v(e._s(e.tooltip))]),e._v(" "),r("ui-icon",[e._v(e._s(e.icon))])],1)},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-container"},[r("span",{staticClass:"section"},[e._v("Sample")]),e._v(" "),r("div",e._l(e.model.templateList,function(t){return r("list-item",{key:t,nativeOn:{click:function(r){e.model.loadTemplate(t)}}},[r("div",{staticClass:"sample"},[e._v(e._s(t))])])})),e._v(" "),r("span",{staticClass:"section"},[e._v("Editing")]),e._v(" "),r("div",{staticClass:"editing-content"},[r("div",{ref:"editing-box",staticClass:"editing-box"},[r("div",{ref:"action-add",staticClass:"action",on:{click:function(t){e.model.addNew()}}},[r("ui-icon",[e._v("add")]),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"action-add"}})],1),e._v(" "),r("div",{ref:"action-delete",staticClass:"action",on:{click:function(t){e.model.deleteAll()}}},[r("ui-icon",[e._v("delete_sweep")]),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"action-delete"}})],1),e._v(" "),r("label",{ref:"local-file-open",staticClass:"action"},[r("ui-icon",[e._v("file_upload")]),e._v(" "),r("ui-ripple-ink",{attrs:{trigger:"local-file-open"}}),e._v(" "),r("input",{attrs:{type:"file",hidden:"",required:""},on:{change:function(t){e.model.loadLocalFile(t)}}})],1)]),e._v(" "),r("div",{staticClass:"editing-list"},e._l(e.model.fileList,function(t,n){return r("list-item",{key:t.name,nativeOn:{click:function(t){e.model.select(n)}}},[r("div",{staticClass:"editing-list-item",class:{current:e.model.current===n}},[r("div",{staticClass:"content"},[e._v("\n            "+e._s(t.name)+"\n            "+e._s(t.src!==t.savedSrc?"*":"")+"\n          ")]),e._v(" "),r("div",{staticClass:"inline-actions"},[r("inline-action",{attrs:{icon:"settings_backup_restore",tooltip:"reload from storage"},on:{click:function(r){e.model.reload(t)}}}),e._v(" "),r("inline-action",{attrs:{icon:"save",tooltip:"save to storage"},on:{click:function(r){e.model.saveFile(t)}}}),e._v(" "),r("inline-action",{attrs:{icon:"delete",tooltip:"delete"},on:{click:function(r){e.model.deleteFile(t)}}}),e._v(" "),r("inline-action",{attrs:{icon:"file_download",tooltip:"download source"},on:{click:function(r){e.model.download(t)}}})],1)])])}))])])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(190)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(191),i=r.n(a),o=r(200),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-e9a448e8",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(3),l=n(s),d=r(5),c=n(d),p=r(7),_=n(p),v=r(4),f=n(v),y=r(9),T=n(y),h=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,T.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,f.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var m=r(10),E=r(192),I=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.ast=m.p({type:Object}),e}return(0,c.default)(t,e),t}(m.Vue);h([m.Prop],I.prototype,"ast",void 0),I=h([m.Component({name:"ast-viewer",components:{AstNode:E.default}})],I),t.default=I},function(e,t,r){"use strict";function n(e){r(193)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(194),i=r.n(a),o=r(199),u=r(8),s=n,l=u(i.a,o.a,s,null,null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=r(21),C=r(195),A=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.ast=I.p({type:Object}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"getTokenType",value:function(e){return P.TokenType[e]}},{key:"getPrimType",value:function(e){return P.PrimitiveType[e]}},{key:"getNodeType",value:function(e){return e&&void 0!==e.type?P.ParseNodeType[e.type]:""}},{key:"nodeType",get:function(){var e=this.ast;return this.getNodeType(e)}}]),t}(I.Vue);E([I.Prop],A.prototype,"ast",void 0),A=E([I.Component({name:"ast-node",components:{AstExpr:C.default}})],A),t.default=A},function(e,t,r){"use strict";function n(e){r(196)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(197),i=r.n(a),o=r(198),u=r(8),s=n,l=u(i.a,o.a,s,null,null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=r(21),C=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.ast=I.p({type:Object}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"getTokenType",value:function(e){return P.TokenType[e]}},{key:"getPrimType",value:function(e){return P.PrimitiveType[e]}},{key:"getOperatorType",value:function(e){switch(e){case P.ParseOperatorType.UNI_POSIT:return["+","positive"];case P.ParseOperatorType.UNI_NOT:return["¬","not"];case P.ParseOperatorType.UNI_NEGATE:return["-","negative"];case P.ParseOperatorType.UNI_INC_PRE:return["++","pre inc"];case P.ParseOperatorType.UNI_DEC_PRE:return["--","pre dec"];case P.ParseOperatorType.UNI_INC_POS:return["++","post inc"];case P.ParseOperatorType.UNI_DEC_POS:return["--","post dec"];case P.ParseOperatorType.BIN_ADD:return["+","add"];case P.ParseOperatorType.BIN_SUB:return["-","minus"];case P.ParseOperatorType.BIN_MULTI:return["×","mul"];case P.ParseOperatorType.BIN_DIVIDE:return["÷","div"];case P.ParseOperatorType.BIN_REL_GT:return[">","gt"];case P.ParseOperatorType.BIN_REL_GTE:return["≥","gte"];case P.ParseOperatorType.BIN_REL_EQ:return["=","equal"];case P.ParseOperatorType.BIN_REL_NE:return["≠","neq"];case P.ParseOperatorType.BIN_REL_LT:return["<","lt"];case P.ParseOperatorType.BIN_REL_LTE:return["≤","lte"];case P.ParseOperatorType.BIN_LOG_AND:return["∧","and"];case P.ParseOperatorType.BIN_LOG_OR:return["∨","or"];case P.ParseOperatorType.BIN_ASS_VAL:return["≔","assign"];case P.ParseOperatorType.BIN_ASS_ADD:return["+=","add&ass"];case P.ParseOperatorType.BIN_ASS_SUB:return["-=","minus&ass"];case P.ParseOperatorType.BIN_ASS_MUL:return["×=","mul&ass"];case P.ParseOperatorType.BIN_ASS_DIV:return["÷=","div&ass"]}return["?",P.ParseOperatorType[e]]}},{key:"nodeType",get:function(){var e=this.ast;return e&&void 0!==e.type?P.ParseNodeType[e.type]:""}}]),t}(I.Vue);E([I.Prop],C.prototype,"ast",void 0),C=E([I.Component({name:"ast-expr"})],C),t.default=C},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return"EXPR_BIN"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("span",{staticClass:"expr-operator"},[e._v(e._s(e.getOperatorType(e.ast.value)[0]))]),e._v(" "),r("span",{staticClass:"expr-operator-text"},[e._v(e._s(e.getOperatorType(e.ast.value)[1]))])]),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}}),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[1]}})],1):"EXPR_UNI"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("span",{staticClass:"expr-operator"},[e._v(e._s(e.getOperatorType(e.ast.value)[0]))]),e._v(" "),r("span",{staticClass:"expr-operator-text"},[e._v(e._s(e.getOperatorType(e.ast.value)[1]))])]),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1):"EXPR_ARR_ACCESS"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("ui-icon",[e._v("view_comfy")]),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])],1),e._v(" "),e._l(e.ast.children[1].children,function(t,n){return r("div",{key:n,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("dim "+e._s(n))])]),e._v(" "),r("ast-expr",{attrs:{ast:t}})],1)})],2):"EXPR_FUNC_INVOKE"===e.nodeType?r("div",{staticClass:"node-block expr-node"},[r("div",{staticClass:"expr-node-header"},[r("ui-icon",[e._v("call")]),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])],1),e._v(" "),e._l(e.ast.children[1].children,function(t,n){return r("div",{key:n,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("arg "+e._s(n))])]),e._v(" "),r("ast-expr",{attrs:{ast:t}})],1)})],2):"VAL_CONSTANT_INT"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[e._m(0),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_CONSTANT_FLOAT"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[e._m(1),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_CONSTANT_CHAR"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[e._m(2),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_CONSTANT_BOOL"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[e._m(3),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_IDENTIFIER"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[e._m(4),e._v(" "),r("pre",[e._v(e._s(e.ast.value))])]):"VAL_UNINITIALIZED"===e.nodeType?r("div",{staticClass:"node-block expr-inline-node"},[e._m(5),e._v("\n  No initialization\n")]):r("div",[e._v("\n  "+e._s(e.nodeType)+"\n  "+e._s(e.ast)+"\n")])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("int")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("float")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("char")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("bool")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("id")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("un-init")])])}],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return"SRC_SOURCE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("code")]),e._v("\n    Src Root\n  ")],1),e._v(" "),e._l(e.ast.children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2):"STAT_SEQUENCE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("list")]),e._v("\n    statement list\n  ")],1),e._v(" "),e._l(e.ast.children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2):"STAT_FUNCTION"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("functions")]),e._v("\n    Func Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(0),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(1),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[1]}})],1),e._v(" "),e._l(e.ast.children[2].children,function(t,n){return r("div",{key:n,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("par "+e._s(n))])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(2,!0),e._v(" "),r("pre",[e._v(e._s(t.children[1].value))])]),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(3,!0),e._v(" "),r("ast-node",{attrs:{ast:t.children[0]}})],1)])}),e._v(" "),e._l(e.ast.children[3].children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2):"STAT_DECLARATION_PRIM"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("create")]),e._v("\n    Var Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(4),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),e._l(e.ast.children[1].children,function(t,n){return r("div",{key:n,staticClass:"node-block expr-inline-node"},[e._m(5,!0),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(6,!0),e._v(" "),r("ast-expr",{attrs:{ast:t.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(7,!0),e._v(" "),r("ast-expr",{attrs:{ast:t.children[1]}})],1)])})],2):"STAT_DECLARATION_ARR_REF"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("create")]),e._v("\n    Array Ref. Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(8),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[0].children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(9),e._v(" "),r("pre",[e._v(e._s(e.ast.children[0].value))])]),e._v(" "),e._l(e.ast.children[1].children,function(t,n){return r("div",{key:n,staticClass:"node-block expr-inline-node"},[e._m(10,!0),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(11,!0),e._v(" "),r("ast-expr",{attrs:{ast:t.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(12,!0),e._v(" "),r("ast-expr",{attrs:{ast:t.children[1]}})],1)])})],2):"STAT_DECLARATION_ARR"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("create")]),e._v("\n    Array Def.\n  ")],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(13),e._v(" "),r("ast-node",{attrs:{ast:e.ast.children[0].children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block expr-inline-node"},[e._m(14),e._v(" "),r("pre",[e._v(" "+e._s(e.ast.children[1].value)+" ")])]),e._v(" "),e._l(e.ast.children[0].children[1].children,function(t,n){return r("div",{key:n,staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("dim "+e._s(n))])]),e._v(" "),r("ast-expr",{attrs:{ast:t}})],1)})],2):"STAT_IF"===e.nodeType||"STAT_IF_ELSE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("call_split")]),e._v("\n    if\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("done")]),e._v("Then")],1),e._v(" "),e._l(e.ast.children[1].children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2),e._v(" "),e.ast.children[2]?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("clear")]),e._v("Else")],1),e._v(" "),e._l(e.ast.children[2].children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2):e._e()]):"STAT_SWITCH"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("open_with")]),e._v("\n    switch\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),e._l(e.ast.children[1].children,function(t){return["SEG_CASE_LABEL"===e.getNodeType(t)?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"node-label"}),e._v(" "),r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("label")])],1),e._v(" "),r("ast-expr",{attrs:{ast:t.children[0]}})],1):"SEG_DEFAULT_LABEL"===e.getNodeType(t)?r("div",{staticClass:"node-block expr-inline-node"},[r("div",{staticClass:"node-label"}),e._v(" "),r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("label_outline")])],1),e._v("\n      Default\n    ")]):r("ast-node",{attrs:{ast:t}})]})],2):"STAT_WHILE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("loop")]),e._v("\n    while loop\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("replay")]),e._v("loop body")],1),e._v(" "),e._l(e.ast.children[1].children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2)]):"STAT_DO"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("loop")]),e._v("\n    do loop\n  ")],1),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("replay")]),e._v("loop body")],1),e._v(" "),e._l(e.ast.children[0].children,function(e,t){return r("ast-node",{key:t,attrs:{ast:e}})})],2),e._v(" "),r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("help_outline")]),e._v("Condition")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[1]}})],1)]):"STAT_EXPR"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("widgets")]),e._v("\n    Expr\n  ")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1):"STAT_RETURN"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("keyboard_return")]),e._v("\n    Return\n  ")],1),e._v(" "),r("ast-expr",{attrs:{ast:e.ast.children[0]}})],1):"STAT_RETURN_VOID"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("keyboard_return")]),e._v("\n    Return\n  ")],1),e._v(" "),r("pre",{staticClass:"type-prim"},[e._v("<void>")])]):"STAT_BREAK"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("vertical_align_bottom")]),e._v("\n    Break\n  ")],1)]):"STAT_CONTINUE"===e.nodeType?r("div",{staticClass:"node-block"},[r("div",{staticClass:"node-header"},[r("ui-icon",[e._v("last_page")]),e._v("\n    Continue\n  ")],1)]):"TYPE_PRIMITIVE"===e.nodeType?r("span",[r("pre",{staticClass:"type-prim"},[e._v("<"+e._s(e.getPrimType(e.ast.value))+">")])]):"TYPE_ARRAY_REF"===e.nodeType?r("span",[r("pre",{staticClass:"type-prim"},[e._v("Array<"+e._s(e.getPrimType(e.ast.children[0].value))+">["+e._s(e.ast.value)+"]")])]):r("div",[e._v("\n  type: "),r("pre",[e._v(e._s(e.nodeType))]),e._v("\n  "+e._s(e.ast)+"\n")])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("ret")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("decl")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("value")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("dim")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("decl")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("value")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("type")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expr-node-header"},[r("div",{staticClass:"type-icon"},[e._v("name")])])}],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.ast?r("div",{staticClass:"root"},[r("div",[r("ast-node",{attrs:{ast:e.ast}})],1)]):r("div",{staticClass:"tip"},[e._v("\n  Load sample files or type in your own program\n")])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(202)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(203),i=r.n(a),o=r(211),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-0e45f672",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=r(204),C=r(60),A=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.quadList=I.p({type:Array}),e.contextTree=I.p({type:Object}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"dumpQuadruple",value:function(){var e=this.quadList,t=e.map(function(e,t){return t+"\t"+e.toString()}).join("\n"),r=document.createElement("a");r.download="quadruple-list.txt",r.href=window.URL.createObjectURL(new Blob([t],{type:"octet/stream"})),r.click()}}]),t}(I.Vue);E([I.Prop],A.prototype,"quadList",void 0),E([I.Prop],A.prototype,"contextTree",void 0),A=E([I.Component({name:"intermediate",components:{QuadViewer:C.default,ContextTree:P.default}})],A),t.default=A},function(e,t,r){"use strict";function n(e){r(205)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(206),i=r.n(a),o=r(207),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-24f710f5",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(78),i=n(a),o=r(2),u=n(o),s=r(0),l=n(s),d=r(1),c=n(d),p=r(3),_=n(p),v=r(5),f=n(v),y=r(7),T=n(y),h=r(4),m=n(h),E=r(9),I=n(E),P=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,I.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,m.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var C=r(10),A=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.contextTree=C.p({type:Object}),e.isRoot=C.p({type:Boolean}),e.hideVariable=!1,e.open=!0,e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"isEmpty",value:function(e){return(0,i.default)(e).filter(function(e){return"__ob__"!==e}).length>0}},{key:"saveContext",value:function(){if(this.contextTree){var e=this.contextTree.dump(2),t=document.createElement("a");t.download="context.txt",t.href=window.URL.createObjectURL(new Blob([e],{type:"octet/stream"})),t.click()}}}]),t}(C.Vue);P([C.Prop],A.prototype,"contextTree",void 0),P([C.Prop],A.prototype,"isRoot",void 0),A=P([C.Component({name:"context-tree",components:{}})],A),t.default=A},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.contextTree?r("div",{staticClass:"root",class:{open:e.open}},[r("div",{ref:"context-title",staticClass:"context-title",on:{click:function(t){e.open=!e.open}}},[r("ui-ripple-ink",{attrs:{trigger:"context-title"}}),e._v(" "),e.contextTree.name?r("div",{staticClass:"context-title-text"},[e._v("\n      "+e._s(e.contextTree.name)+"\n    ")]):r("div",{staticClass:"context-title-text"},[r("i",[e._v("unnamed")])]),e._v(" "),r("div",{staticClass:"context-title-actions"},[r("div",{ref:"title-action-save",staticClass:"context-title-action",on:{click:function(t){t.stopPropagation(),e.saveContext(t)}}},[r("ui-tooltip",{attrs:{trigger:"title-action-save"}},[e._v(" dump current portion of context to file")]),e._v(" "),r("i",{staticClass:"material-icons"},[e._v("save")])],1),e._v(" "),r("div",{ref:"title-action-hide",staticClass:"context-title-action",class:{on:e.hideVariable},on:{click:function(t){t.stopPropagation(),e.hideVariable=!e.hideVariable}}},[r("ui-tooltip",{attrs:{trigger:"title-action-hide"}},[e._v(e._s(e.hideVariable?"show":"hide")+" symbols in this context")]),e._v(" "),r("i",{staticClass:"material-icons"},[e._v("low_priority")])],1)])],1),e._v(" "),r("div",{staticClass:"context-body"},[r("div",{staticClass:"context-body-wrapper"},[e.isEmpty(e.contextTree.nameTable)?r("div",{staticClass:"variable-list",class:{hide:e.hideVariable}},e._l(e.contextTree.nameTable,function(t,n){return r("div",{key:n,staticClass:"variable"},[r("pre",{staticClass:"name"},[e._v(e._s(n))]),e._v(" "),n&&"?"===n[0]?r("pre",{staticClass:"gen"},[e._v("Generated")]):e._e(),e._v(" "),"PRIMITIVE"==t.typeString?r("span",{staticClass:"variable-type primitive"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" "+e._s(t.info.size)+" "+e._s(t.info.size>1?"bytes":"byte")+"\n            "),r("div",{staticClass:"stack-offset"},[e._v(e._s(t.stackOffset))])]):"VOID"==t.typeString?r("span",{staticClass:"variable-type void"},[r("pre",[e._v(e._s(t.info.toString()))])]):"ARRAY"==t.typeString?r("span",{staticClass:"variable-type array"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" "),r("div",{staticClass:"stack-offset"},[e._v(e._s(t.stackOffset))]),e._v("\n            "+e._s(t.asArr.dimension)+"-dimension array\n          ")]):"ARRAY_REF"==t.typeString?r("span",{staticClass:"variable-type array-ref"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" "),r("div",{staticClass:"stack-offset"},[e._v(e._s(t.stackOffset))]),e._v("\n            reference to "+e._s(t.asArrRef.dimension)+"-dimension array\n          ")]):"FUNCTION"==t.typeString?r("span",{staticClass:"variable-type function"},[r("pre",[e._v(e._s(t.info.toString()))]),e._v(" function, entry at: "+e._s(t.info.entryAddress)+e._s(t.info.entryAddress<0?", defined by language":"")+" ")]):r("span",{staticClass:"variable-type"},[r("pre",[e._v(e._s(t.info.toString()))])])])})):r("div",[e._v("\n        No symbol defined in this context\n      ")]),e._v(" "),r("div",{staticClass:"nested-context"},e._l(e.contextTree.children,function(e,t){return r("context-tree",{key:t,attrs:{contextTree:e}})}))])])]):r("div",{staticClass:"tip"},[e._v("\n  No context\n")])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=r(21),C=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.quadList=I.p({type:Array}),e.highlight=I.p({type:Number}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"mounted",value:function(){}},{key:"handler",value:function(e,t){this.scrollToQuad(e)}},{key:"scrollToQuad",value:function(e){var t=this.$refs["quad-list"],r=this.$refs["quad-item-"+e];if(r&&r[0]){var n=r[0].offsetTop,a=n>t.clientHeight/2?n-t.clientHeight/2:0,i=t.scrollTop;if(a!==i){var o=i-a,u=function e(){if(o*=.9,Math.abs(o)<3)return void(t.scrollTop=a);t.scrollTop=a+o,requestAnimationFrame(e)};requestAnimationFrame(u)}}}},{key:"quadruples",get:function(){return this.quadList&&this.quadList.length?this.quadList.map(function(e,t){return{i:t,op:e.operatorName,a1:e.argument1.toString(),a2:e.argument2.toString(),re:e.result.toString(),reLink:e.result.type===P.QuadrupleArgType.QUAD_REF?e.result.quadIndex:void 0,cm:e.comment}}):[]}}]),t}(I.Vue);E([I.Prop],C.prototype,"quadList",void 0),E([I.Prop],C.prototype,"highlight",void 0),E([I.Lifecycle],C.prototype,"mounted",null),E([I.Watch("highlight")],C.prototype,"handler",null),C=E([I.Component({name:"quad-viewer"})],C),t.default=C},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[e.quadruples.length?r("div",{ref:"quad-list",staticClass:"list"},e._l(e.quadruples,function(t){return r("div",{key:t.i+1,ref:"quad-item-"+(t.i+1),refInFor:!0,staticClass:"quadruple-item",class:{highlight:t.i+1===e.highlight},on:{click:function(r){e.scrollToQuad(t.reLink||t.i+2)}}},[r("div",{staticClass:"quad-index"},[e._v(e._s(t.i+1))]),e._v(" "),r("div",{staticClass:"quad-op"},[e._v(e._s(t.op))]),e._v(" "),r("div",{staticClass:"quad-arg"},[e._v(e._s(t.a1))]),e._v(" "),r("div",{staticClass:"quad-arg"},[e._v(e._s(t.a2))]),e._v(" "),void 0!==t.reLink?r("div",{staticClass:"quad-link"},[e._v("\n        ("),r("span",[e._v(e._s(t.reLink))]),e._v(")\n      ")]):r("div",{staticClass:"quad-arg"},[e._v(e._s(t.re))]),e._v(" "),r("div",{staticClass:"comment"},[e._v(e._s(t.cm))])])})):r("div",{staticClass:"tip"},[e._v("\n    Load sample files or type in your own program\n  ")])])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.contextTree||e.quadList.length?r("div",{staticClass:"intermediate-root"},[r("context-tree",{attrs:{contextTree:e.contextTree,isRoot:!0}}),e._v(" "),r("div",{staticClass:"quadruple-list"},[e.quadList?r("div",{staticClass:"quad-header"},[r("div",{ref:"quad-header-dump",staticClass:"quad-header-action",on:{click:function(t){e.dumpQuadruple()}}},[r("ui-tooltip",{attrs:{trigger:"quad-header-dump"}},[e._v("dump quadruple list")]),e._v(" "),r("i",{staticClass:"material-icons"},[e._v("save")])],1)]):e._e(),e._v(" "),r("quad-viewer",{attrs:{quadList:e.quadList}})],1)],1):r("div",{staticClass:"tip"},[e._v("\n  Load sample files or type in your own program\n")])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(213)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(214),i=r.n(a),o=r(223),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-efed5f78",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(84),i=n(a),o=r(2),u=n(o),s=r(0),l=n(s),d=r(1),c=n(d),p=r(3),_=n(p),v=r(5),f=n(v),y=r(7),T=n(y),h=r(4),m=n(h),E=r(9),I=n(E),P=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,I.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,m.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,T.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var C=r(10),A=r(21),k=r(60),g=r(215),O=r(219),N=function(e){function t(){(0,l.default)(this,t);var e=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments));return e.program=C.p({type:Array}),e.autoExecute=!1,e.speed=0,e.popupParameterRequest=!1,e.requestedValueType="",e.requestedValueResolver=void 0,e.executor=new A.Executor(e.getExecutionParameterProvider()),e.autoExecuteHandle=0,e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"getExecutionParameterProvider",value:function(){var e=this,t=function(t,r){console.log(e.$refs),e.$refs.resolver.resetValue(),e.requestedValueResolver=t,e.requestedValueType=r,e.popupParameterRequest=!0};return{getBoolean:function(){return new i.default(function(e,r){return t(e,"getBoolean")})},getChar:function(){return new i.default(function(e,r){return t(e,"getChar")})},getInteger:function(){return new i.default(function(e,r){return t(e,"getInt")})},getFloat:function(){return new i.default(function(e,r){return t(e,"getFloat")})}}}},{key:"resolvePopup",value:function(e){if(!this.requestedValueResolver)return this.executor.pushError("fatal error: no resolver to handle message"),void this.reset();var t=this.requestedValueResolver;this.requestedValueType="",this.popupParameterRequest=!1,t(e)}},{key:"beforeUpdate",value:function(){var e=this.program;this.executor||(this.executor=new A.Executor(this.getExecutionParameterProvider(),e)),this.executor.program!==this.program&&(this.executor.load(e),this.reset()),this.$refs.slider.refreshSize()}},{key:"toggleAutoExecute",value:function(e){this.autoExecute!==e&&(this.autoExecute=e,e?this.autoExecuteCallback():(clearTimeout(this.autoExecuteHandle),this.autoExecuteHandle=0))}},{key:"autoExecuteCallback",value:function(){var e=this;return this.executor.step().then(function(){e.autoExecuteHandle=setTimeout(function(){return e.autoExecuteCallback()},1e3*e.calcSpeed)})}},{key:"step",value:function(){return this.toggleAutoExecute(!1),this.executor.step()}},{key:"reset",value:function(){this.popupParameterRequest&&(this.popupParameterRequest=!1),this.toggleAutoExecute(!1),this.executor.reset()}},{key:"getSeverity",value:function(e){return A.ErrorSeverity[e]}},{key:"getBuildInFunc",value:function(){var e=this;return this.executor.pc<0&&A.buildInFunctions.find(function(t){return t.id===e.executor.pc})}},{key:"calcSpeed",get:function(){return(Math.round((100-this.speed)/10)||1)/10}}]),t}(C.Vue);P([C.Prop],N.prototype,"program",void 0),P([C.Lifecycle],N.prototype,"beforeUpdate",null),N=P([C.Component({name:"execution",components:{QuadViewer:k.default,MemoryView:g.default,ValueResolverDialog:O.default}})],N),t.default=N},function(e,t,r){"use strict";function n(e){r(216)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(217),i=r.n(a),o=r(218),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-0c1f18c6",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(3),l=n(s),d=r(5),c=n(d),p=r(7),_=n(p),v=r(4),f=n(v),y=r(9),T=n(y),h=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,T.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,f.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,_.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var m=r(10),E=function(e){function t(){(0,u.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.memoryData=m.p({type:Array}),e}return(0,c.default)(t,e),t}(m.Vue);h([m.Prop],E.prototype,"memoryData",void 0),E=h([m.Component({name:"memory-view"})],E),t.default=E},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.memoryData&&e.memoryData.length?r("div",{staticClass:"memory-view"},e._l(e.memoryData,function(t,n){return r("div",{key:n,staticClass:"memory-view-row"},[r("pre",{staticClass:"index"},[e._v(e._s(n))]),e._v(" "),r("pre",{staticClass:"value"},[e._v(e._s(t))])])})):r("div",{staticClass:"empty-tip"},[e._v("\n  Empty memory section\n")])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";function n(e){r(220)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(221),i=r.n(a),o=r(222),u=r(8),s=n,l=u(i.a,o.a,s,"data-v-973ccb82",null);t.default=l.exports},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(0),u=n(o),s=r(1),l=n(s),d=r(3),c=n(d),p=r(5),_=n(p),v=r(7),f=n(v),y=r(4),T=n(y),h=r(9),m=n(h),E=function(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=(0,m.default)(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":(0,T.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&(0,f.default)(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});var I=r(10),P=function(e){function t(){(0,u.default)(this,t);var e=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments));return e.valueType=I.p({type:String,required:!0}),e}return(0,_.default)(t,e),(0,l.default)(t,[{key:"resetValue",value:function(){this.charValue="",this.intValue=0,this.floatNumber=0,this.boolValue=!1}},{key:"setBoolValue",value:function(e){this.boolValue=e,this.$forceUpdate()}},{key:"submitChar",value:function(){this.submit(this.charValue)}},{key:"submitInt",value:function(){this.submit(this.intValue)}},{key:"submitFloat",value:function(){this.submit(this.floatNumber)}},{key:"submitBool",value:function(){this.submit(this.boolValue)}},{key:"submit",value:function(e){this.$emit("submitValue",e)}},{key:"reset",value:function(){this.resetValue(),this.$emit("reset")}}]),t}(I.Vue);E([I.Prop],P.prototype,"valueType",void 0),P=E([I.Component({name:"value-resolver-dialog"})],P),t.default=P},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"model-wrapper"},["getInt"==e.valueType?[r("div",{staticClass:"model-header"},[e._v("Please provide an integer value")]),e._v(" "),r("div",[r("ui-textbox",{attrs:{label:"integer value",placeholder:"Enter an integer",type:"number",min:-Math.pow(2,15),max:Math.pow(2,15)-1},model:{value:e.intValue,callback:function(t){e.intValue=t},expression:"intValue"}})],1),e._v(" "),r("div",{staticClass:"model-button-bar"},[r("ui-button",{on:{click:e.submitInt}},[e._v("OK")]),e._v(" "),r("ui-button",{on:{click:e.reset}},[e._v("Cancel & Reset")])],1)]:"getFloat"==e.valueType?r("div",[r("div",{staticClass:"model-header"},[e._v("Please provide a float point number")]),e._v(" "),r("div",[r("ui-textbox",{attrs:{label:"float point value",placeholder:"Enter an float point number",type:"number"},model:{value:e.floatValue,callback:function(t){e.floatValue=t},expression:"floatValue"}})],1),e._v(" "),r("div",{staticClass:"model-button-bar"},[r("ui-button",{on:{click:e.submitFloat}},[e._v("OK")]),e._v(" "),r("ui-button",{on:{click:e.reset}},[e._v("Cancel & Reset")])],1)]):"getChar"==e.valueType?r("div",[r("div",{staticClass:"model-header"},[e._v("Please provide a character")]),e._v(" "),r("div",[r("ui-textbox",{attrs:{label:"character",placeholder:"Enter an character",type:"text",maxlength:1,enforceMaxlength:!0},model:{value:e.charValue,callback:function(t){e.charValue=t},expression:"charValue"}})],1),e._v(" "),r("div",{staticClass:"model-button-bar"},[r("ui-button",{on:{click:e.submitChar}},[e._v("OK")]),e._v(" "),r("ui-button",{on:{click:e.reset}},[e._v("Cancel & Reset")])],1)]):"getBoolean"==e.valueType?r("div",[r("div",{staticClass:"model-header"},[e._v("Please provide an integer value")]),e._v(" "),r("div",{staticClass:"boolean-option-box"},[r("div",{staticClass:"boolean-option",class:{on:!!e.boolValue},on:{click:function(t){e.setBoolValue(!0)}}},[r("code",[e._v("true")])]),e._v(" "),r("div",{staticClass:"boolean-option",class:{on:!e.boolValue},on:{click:function(t){e.setBoolValue(!1)}}},[r("code",[e._v("false")])])]),e._v(" "),r("div",{staticClass:"model-button-bar"},[r("ui-button",{on:{click:e.submitBool}},[e._v("OK")]),e._v(" "),r("ui-button",{on:{click:e.reset}},[e._v("Cancel & Reset")])],1)]):e._e()],2)},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.program?r("div",{staticClass:"executor-root"},[r("div",{staticClass:"parameter-dialog-root",class:{on:e.popupParameterRequest}},[r("ValueResolverDialog",{ref:"resolver",attrs:{valueType:e.requestedValueType},on:{reset:e.reset,submitValue:e.resolvePopup}})],1),e._v(" "),r("div",{staticClass:"col statue-col"},[r("div",{staticClass:"section"},[e._v("status")]),e._v(" "),r("dl",[r("dt",[e._v("PC")]),e._v(" "),r("dd",[e._v("\n        "+e._s(e.executor.pc)+"\n        "),e.getBuildInFunc()?r("span",[r("code",{ref:"buildin-tip",staticClass:"build-in-tip"},[e._v("\n            "+e._s(e.getBuildInFunc().name)+"\n            "),r("ui-tooltip",{attrs:{trigger:"buildin-tip"}},[e._v("Build-in function: "+e._s(e.getBuildInFunc().description))])],1)]):e._e()]),e._v(" "),r("dt",[e._v("Frame Base")]),e._v(" "),r("dd",[e._v(e._s(e.executor.frameBase))])]),e._v(" "),r("div",{staticClass:"section"},[e._v("control")]),e._v(" "),r("div",{staticClass:"control"},[r("ui-button",{on:{click:e.step}},[e._v("Step")]),e._v(" "),r("ui-button",{on:{click:e.reset}},[e._v("Reset")]),e._v(" "),r("ui-button",{on:{click:function(t){e.executor.console=[]}}},[e._v("Clear Console")]),e._v(" "),r("div",{staticClass:"auto-execution-block"},[r("ui-switch",{attrs:{switchPosition:"right",value:e.autoExecute},on:{input:function(t){e.toggleAutoExecute(t)}}},[e._v("Auto Execute")]),e._v("\n        Speed:\n        "),r("ui-slider",{ref:"slider",attrs:{icon:"play",step:10,showMarker:"",snapToSteps:"",markerValue:e.calcSpeed},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}},[e._v("Speed")])],1)],1),e._v(" "),r("div",{staticClass:"section"},[e._v("console")]),e._v(" "),r("div",{staticClass:"console"},[e._l(e.executor.console.map(function(e){return e}).reverse(),function(t){return["INFO"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-message"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("info")])],1),e._v("\n          "+e._s(t.message)+"\n        ")]):"WARN"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-warning"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("warning")])],1),e._v(" "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])]):"ERROR"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-error"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("error")])],1),e._v(" "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])]):"FATAL"===e.getSeverity(t.severity)?r("div",{staticClass:"info info-fatal"},[r("div",{staticClass:"icon"},[r("ui-icon",[e._v("block")])],1),e._v(" "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])]):r("div",[e._v("\n          "+e._s(e.getSeverity(t.severity))+" "+e._s(t.severity)+"\n          "),r("div",{staticClass:"message"},[e._v(e._s(t.message))])])]})],2)]),e._v(" "),r("div",{staticClass:"col"},[r("ui-tabs",[r("ui-tab",{attrs:{title:"temp"}},[r("memory-view",{attrs:{memoryData:e.executor.temp}})],1),e._v(" "),r("ui-tab",{attrs:{title:"stack"}},[r("memory-view",{attrs:{memoryData:e.executor.stack}})],1),e._v(" "),r("ui-tab",{attrs:{title:"heap"}},[r("memory-view",{attrs:{memoryData:e.executor.heap}})],1)],1)],1),e._v(" "),r("div",{staticClass:"program"},[r("quad-viewer",{attrs:{quadList:e.program,highlight:e.executor.pc}})],1)]):r("div",[e._v("\n  No context\n")])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[r("a",{staticClass:"github-corner",attrs:{href:"https://github.com/Jack-Q/picol",title:"fork me on GitHub","aria-label":"View source on Github"}},[r("svg",{attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[r("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e._v(" "),r("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e._v(" "),r("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])]),e._v(" "),r("div",{staticClass:"header"},[r("div",{staticClass:"logo-box"},[r("svg",{staticClass:"logo",attrs:{viewBox:"0 0 200 100"}},[r("g",[r("path",{attrs:{d:"M 8.125 0 L 45.625 50 L 15 50 L 0 50 L 0 65 L 0 100 L 15 100 L 15 65 L 45.625 65 L 19.375 100 L 38.125 100 L 70 57.5 L 26.875 0 L 8.125 0 z M 138.125 0 L 95 57.5 L 126.875 100 L 145.625 100 L 113.75 57.5 L 156.875 0 L 138.125 0 z M 185 0 L 185 85 L 200 85 L 200 0 L 185 0 z M 75 15 L 75 75 L 90 75 L 90 15 L 75 15 z M 152.5 40 A 17.500001 17.499955 0 0 0 135 57.5 A 17.500001 17.499955 0 0 0 152.5 75 A 17.500001 17.499955 0 0 0 170 57.5 A 17.500001 17.499955 0 0 0 152.5 40 z M 82.5 80 A 7.5000002 7.4999853 0 0 0 75 87.5 A 7.5000002 7.4999853 0 0 0 82.5 95 A 7.5000002 7.4999853 0 0 0 90 87.5 A 7.5000002 7.4999853 0 0 0 82.5 80 z "}})])]),e._v(" "),r("a",{staticClass:"header-right",attrs:{href:"https://github.com/Jack-Q/"}},[r("svg",{attrs:{height:"20","aria-label":"code",viewBox:"0 0 14 16",version:"1.1",width:"17",role:"img"}},[r("path",{attrs:{d:"M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"}})]),e._v("\n        with\n        "),r("svg",{attrs:{height:"20","aria-label":"love",viewBox:"0 0 12 16",version:"1.1",width:"15",role:"img"}},[r("path",{attrs:{d:"M11.2 3c-.52-.63-1.25-.95-2.2-1-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-.95.05-1.69.38-2.2 1-.52.61-.78 1.28-.8 2 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.02-.72-.28-1.39-.8-2.02V3z"}})]),e._v("\n        by Jack Q\n      ")]),e._v(" "),r("div",{staticClass:"logo-tip"},[e._v("\n        Picol\n      ")])])]),e._v(" "),r("div",{staticClass:"body"},[r("div",{staticClass:"left-aside"},[r("file-panel")],1),e._v(" "),r("div",{staticClass:"main-stack"},[r("ui-tabs",{attrs:{type:"icon",fullwidth:""}},[r("ui-tab",{attrs:{icon:"code"}},[r("div",{staticClass:"src-editor"},[r("monaco-editor",{attrs:{code:e.code,options:e.editorOptions,srcPath:"./",width:"100%",height:"100%",theme:"PicolTheme",language:"Picol"},on:{mounted:function(t){e.editorMounted(t)},codeChange:e.editorCodeChange}})],1),e._v(" "),r("div",{staticClass:"src-aside"},[r("ui-tabs",[r("ui-tab",{attrs:{title:"token list"}},[r("token-list",{attrs:{tokenList:e.tokenList},on:{selectPosition:function(t){e.selectPosition(t)}}})],1),e._v(" "),r("ui-tab",{attrs:{title:"error list"}},[r("error-list",{attrs:{errorList:e.errorList},on:{selectPosition:function(t){e.selectPosition(t)}}})],1)],1)],1)]),e._v(" "),r("ui-tab",{attrs:{icon:"device_hub"}},[r("ast-viewer",{attrs:{ast:e.ast}})],1),e._v(" "),r("ui-tab",{attrs:{icon:"list"}},[r("intermediate",{attrs:{quadList:e.quadrupleTable,contextTree:e.contextTree}})],1),e._v(" "),r("ui-tab",{attrs:{icon:"playlist_play"}},[r("execution",{attrs:{program:e.quadrupleTable}})],1)],1)],1)])])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t){}],[86]);